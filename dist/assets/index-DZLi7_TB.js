var H0=Object.defineProperty;var V0=(t,e,n)=>e in t?H0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>V0(t,typeof e!="symbol"?e+"":e,n);function q0(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ag(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ig={exports:{}},el={},Ng={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo=Symbol.for("react.element"),Y0=Symbol.for("react.portal"),J0=Symbol.for("react.fragment"),X0=Symbol.for("react.strict_mode"),G0=Symbol.for("react.profiler"),Q0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),eb=Symbol.for("react.forward_ref"),tb=Symbol.for("react.suspense"),nb=Symbol.for("react.memo"),sb=Symbol.for("react.lazy"),ph=Symbol.iterator;function rb(t){return t===null||typeof t!="object"?null:(t=ph&&t[ph]||t["@@iterator"],typeof t=="function"?t:null)}var $g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mg=Object.assign,Og={};function gr(t,e,n){this.props=t,this.context=e,this.refs=Og,this.updater=n||$g}gr.prototype.isReactComponent={};gr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lg(){}Lg.prototype=gr.prototype;function Yd(t,e,n){this.props=t,this.context=e,this.refs=Og,this.updater=n||$g}var Jd=Yd.prototype=new Lg;Jd.constructor=Yd;Mg(Jd,gr.prototype);Jd.isPureReactComponent=!0;var gh=Array.isArray,zg=Object.prototype.hasOwnProperty,Xd={current:null},Fg={key:!0,ref:!0,__self:!0,__source:!0};function Bg(t,e,n){var s,r={},o=null,i=null;if(e!=null)for(s in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)zg.call(e,s)&&!Fg.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:qo,type:t,key:o,ref:i,props:r,_owner:Xd.current}}function ob(t,e){return{$$typeof:qo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gd(t){return typeof t=="object"&&t!==null&&t.$$typeof===qo}function ib(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mh=/\/+/g;function Al(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ib(""+t.key):e.toString(36)}function Vi(t,e,n,s,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case qo:case Y0:i=!0}}if(i)return i=t,r=r(i),t=s===""?"."+Al(i,0):s,gh(r)?(n="",t!=null&&(n=t.replace(mh,"$&/")+"/"),Vi(r,e,n,"",function(d){return d})):r!=null&&(Gd(r)&&(r=ob(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(mh,"$&/")+"/")+t)),e.push(r)),1;if(i=0,s=s===""?".":s+":",gh(t))for(var l=0;l<t.length;l++){o=t[l];var c=s+Al(o,l);i+=Vi(o,e,n,c,r)}else if(c=rb(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=s+Al(o,l++),i+=Vi(o,e,n,c,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function ii(t,e,n){if(t==null)return t;var s=[],r=0;return Vi(t,s,"","",function(o){return e.call(n,o,r++)}),s}function ab(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ge={current:null},qi={transition:null},lb={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:qi,ReactCurrentOwner:Xd};function Wg(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:ii,forEach:function(t,e,n){ii(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ii(t,function(){e++}),e},toArray:function(t){return ii(t,function(e){return e})||[]},only:function(t){if(!Gd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=gr;Z.Fragment=J0;Z.Profiler=G0;Z.PureComponent=Yd;Z.StrictMode=X0;Z.Suspense=tb;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lb;Z.act=Wg;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Mg({},t.props),r=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=Xd.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)zg.call(e,c)&&!Fg.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:qo,type:t.type,key:r,ref:o,props:s,_owner:i}};Z.createContext=function(t){return t={$$typeof:Z0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q0,_context:t},t.Consumer=t};Z.createElement=Bg;Z.createFactory=function(t){var e=Bg.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:eb,render:t}};Z.isValidElement=Gd;Z.lazy=function(t){return{$$typeof:sb,_payload:{_status:-1,_result:t},_init:ab}};Z.memo=function(t,e){return{$$typeof:nb,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=qi.transition;qi.transition={};try{t()}finally{qi.transition=e}};Z.unstable_act=Wg;Z.useCallback=function(t,e){return Ge.current.useCallback(t,e)};Z.useContext=function(t){return Ge.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return Ge.current.useDeferredValue(t)};Z.useEffect=function(t,e){return Ge.current.useEffect(t,e)};Z.useId=function(){return Ge.current.useId()};Z.useImperativeHandle=function(t,e,n){return Ge.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return Ge.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return Ge.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return Ge.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return Ge.current.useReducer(t,e,n)};Z.useRef=function(t){return Ge.current.useRef(t)};Z.useState=function(t){return Ge.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return Ge.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return Ge.current.useTransition()};Z.version="18.3.1";Ng.exports=Z;var S=Ng.exports;const oe=Ag(S),cb=q0({__proto__:null,default:oe},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db=S,ub=Symbol.for("react.element"),hb=Symbol.for("react.fragment"),fb=Object.prototype.hasOwnProperty,pb=db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gb={key:!0,ref:!0,__self:!0,__source:!0};function Ug(t,e,n){var s,r={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(s in e)fb.call(e,s)&&!gb.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:ub,type:t,key:o,ref:i,props:r,_owner:pb.current}}el.Fragment=hb;el.jsx=Ug;el.jsxs=Ug;Ig.exports=el;var a=Ig.exports,Hg={exports:{}},gt={},Vg={exports:{}},qg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,$){var L=E.length;E.push($);e:for(;0<L;){var B=L-1>>>1,q=E[B];if(0<r(q,$))E[B]=$,E[L]=q,L=B;else break e}}function n(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var $=E[0],L=E.pop();if(L!==$){E[0]=L;e:for(var B=0,q=E.length,G=q>>>1;B<G;){var X=2*(B+1)-1,ae=E[X],me=X+1,xt=E[me];if(0>r(ae,L))me<q&&0>r(xt,ae)?(E[B]=xt,E[me]=L,B=me):(E[B]=ae,E[X]=L,B=X);else if(me<q&&0>r(xt,L))E[B]=xt,E[me]=L,B=me;else break e}}return $}function r(E,$){var L=E.sortIndex-$.sortIndex;return L!==0?L:E.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(E){for(var $=n(d);$!==null;){if($.callback===null)s(d);else if($.startTime<=E)s(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(d)}}function w(E){if(p=!1,v(E),!g)if(n(c)!==null)g=!0,I(k);else{var $=n(d);$!==null&&N(w,$.startTime-E)}}function k(E,$){g=!1,p&&(p=!1,b(T),T=-1),m=!0;var L=f;try{for(v($),h=n(c);h!==null&&(!(h.expirationTime>$)||E&&!_());){var B=h.callback;if(typeof B=="function"){h.callback=null,f=h.priorityLevel;var q=B(h.expirationTime<=$);$=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(c)&&s(c),v($)}else s(c);h=n(c)}if(h!==null)var G=!0;else{var X=n(d);X!==null&&N(w,X.startTime-$),G=!1}return G}finally{h=null,f=L,m=!1}}var j=!1,C=null,T=-1,P=5,R=-1;function _(){return!(t.unstable_now()-R<P)}function M(){if(C!==null){var E=t.unstable_now();R=E;var $=!0;try{$=C(!0,E)}finally{$?U():(j=!1,C=null)}}else j=!1}var U;if(typeof y=="function")U=function(){y(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,O=F.port2;F.port1.onmessage=M,U=function(){O.postMessage(null)}}else U=function(){x(M,0)};function I(E){C=E,j||(j=!0,U())}function N(E,$){T=x(function(){E(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,I(k))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(E){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var L=f;f=$;try{return E()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,$){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var L=f;f=E;try{return $()}finally{f=L}},t.unstable_scheduleCallback=function(E,$,L){var B=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,E){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=L+q,E={id:u++,callback:$,priorityLevel:E,startTime:L,expirationTime:q,sortIndex:-1},L>B?(E.sortIndex=L,e(d,E),n(c)===null&&E===n(d)&&(p?(b(T),T=-1):p=!0,N(w,L-B))):(E.sortIndex=q,e(c,E),g||m||(g=!0,I(k))),E},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(E){var $=f;return function(){var L=f;f=$;try{return E.apply(this,arguments)}finally{f=L}}}})(qg);Vg.exports=qg;var mb=Vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb=S,pt=mb;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kg=new Set,mo={};function Cs(t,e){rr(t,e),rr(t+"Capture",e)}function rr(t,e){for(mo[t]=e,t=0;t<e.length;t++)Kg.add(e[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=Object.prototype.hasOwnProperty,yb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xh={},yh={};function bb(t){return _c.call(yh,t)?!0:_c.call(xh,t)?!1:yb.test(t)?yh[t]=!0:(xh[t]=!0,!1)}function vb(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Sb(t,e,n,s){if(e===null||typeof e>"u"||vb(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qe(t,e,n,s,r,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$e[t]=new Qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$e[e]=new Qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$e[t]=new Qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$e[t]=new Qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$e[t]=new Qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$e[t]=new Qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$e[t]=new Qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$e[t]=new Qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$e[t]=new Qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qd=/[\-:]([a-z])/g;function Zd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qd,Zd);$e[e]=new Qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qd,Zd);$e[e]=new Qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qd,Zd);$e[e]=new Qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$e[t]=new Qe(t,1,!1,t.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$e[t]=new Qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function eu(t,e,n,s){var r=$e.hasOwnProperty(e)?$e[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Sb(e,n,r,s)&&(n=null),s||r===null?bb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var fn=xb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ai=Symbol.for("react.element"),$s=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Rc=Symbol.for("react.profiler"),Yg=Symbol.for("react.provider"),Jg=Symbol.for("react.context"),nu=Symbol.for("react.forward_ref"),Pc=Symbol.for("react.suspense"),Dc=Symbol.for("react.suspense_list"),su=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),Xg=Symbol.for("react.offscreen"),bh=Symbol.iterator;function Cr(t){return t===null||typeof t!="object"?null:(t=bh&&t[bh]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,Il;function Hr(t){if(Il===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Il=e&&e[1]||""}return`
`+Il+t}var Nl=!1;function $l(t,e){if(!t||Nl)return"";Nl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),o=s.stack.split(`
`),i=r.length-1,l=o.length-1;1<=i&&0<=l&&r[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(r[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||r[i]!==o[l]){var c=`
`+r[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Nl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hr(t):""}function wb(t){switch(t.tag){case 5:return Hr(t.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 2:case 15:return t=$l(t.type,!1),t;case 11:return t=$l(t.type.render,!1),t;case 1:return t=$l(t.type,!0),t;default:return""}}function Ac(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ms:return"Fragment";case $s:return"Portal";case Rc:return"Profiler";case tu:return"StrictMode";case Pc:return"Suspense";case Dc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jg:return(t.displayName||"Context")+".Consumer";case Yg:return(t._context.displayName||"Context")+".Provider";case nu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case su:return e=t.displayName||null,e!==null?e:Ac(t.type)||"Memo";case vn:e=t._payload,t=t._init;try{return Ac(t(e))}catch{}}return null}function kb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ac(e);case 8:return e===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jb(t){var e=Gg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(i){s=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function li(t){t._valueTracker||(t._valueTracker=jb(t))}function Qg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Gg(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function fa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ic(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vh(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zg(t,e){e=e.checked,e!=null&&eu(t,"checked",e,!1)}function Nc(t,e){Zg(t,e);var n=Bn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$c(t,e.type,n):e.hasOwnProperty("defaultValue")&&$c(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $c(t,e,n){(e!=="number"||fa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vr=Array.isArray;function Xs(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Mc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Vr(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function em(t,e){var n=Bn(e.value),s=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function kh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ci,nm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ci=ci||document.createElement("div"),ci.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ci.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cb=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(t){Cb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zr[e]=Zr[t]})});function sm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zr.hasOwnProperty(t)&&Zr[t]?(""+e).trim():e+"px"}function rm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=sm(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var Tb=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lc(t,e){if(e){if(Tb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function zc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fc=null;function ru(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bc=null,Gs=null,Qs=null;function jh(t){if(t=Jo(t)){if(typeof Bc!="function")throw Error(z(280));var e=t.stateNode;e&&(e=ol(e),Bc(t.stateNode,t.type,e))}}function om(t){Gs?Qs?Qs.push(t):Qs=[t]:Gs=t}function im(){if(Gs){var t=Gs,e=Qs;if(Qs=Gs=null,jh(t),e)for(t=0;t<e.length;t++)jh(e[t])}}function am(t,e){return t(e)}function lm(){}var Ml=!1;function cm(t,e,n){if(Ml)return t(e,n);Ml=!0;try{return am(t,e,n)}finally{Ml=!1,(Gs!==null||Qs!==null)&&(lm(),im())}}function yo(t,e){var n=t.stateNode;if(n===null)return null;var s=ol(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Wc=!1;if(ln)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Wc=!1}function Eb(t,e,n,s,r,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var eo=!1,pa=null,ga=!1,Uc=null,_b={onError:function(t){eo=!0,pa=t}};function Rb(t,e,n,s,r,o,i,l,c){eo=!1,pa=null,Eb.apply(_b,arguments)}function Pb(t,e,n,s,r,o,i,l,c){if(Rb.apply(this,arguments),eo){if(eo){var d=pa;eo=!1,pa=null}else throw Error(z(198));ga||(ga=!0,Uc=d)}}function Ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ch(t){if(Ts(t)!==t)throw Error(z(188))}function Db(t){var e=t.alternate;if(!e){if(e=Ts(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ch(r),t;if(o===s)return Ch(r),e;o=o.sibling}throw Error(z(188))}if(n.return!==s.return)n=r,s=o;else{for(var i=!1,l=r.child;l;){if(l===n){i=!0,n=r,s=o;break}if(l===s){i=!0,s=r,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,s=r;break}if(l===s){i=!0,s=o,n=r;break}l=l.sibling}if(!i)throw Error(z(189))}}if(n.alternate!==s)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function um(t){return t=Db(t),t!==null?hm(t):null}function hm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hm(t);if(e!==null)return e;t=t.sibling}return null}var fm=pt.unstable_scheduleCallback,Th=pt.unstable_cancelCallback,Ab=pt.unstable_shouldYield,Ib=pt.unstable_requestPaint,ve=pt.unstable_now,Nb=pt.unstable_getCurrentPriorityLevel,ou=pt.unstable_ImmediatePriority,pm=pt.unstable_UserBlockingPriority,ma=pt.unstable_NormalPriority,$b=pt.unstable_LowPriority,gm=pt.unstable_IdlePriority,tl=null,Yt=null;function Mb(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(tl,t,void 0,(t.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:zb,Ob=Math.log,Lb=Math.LN2;function zb(t){return t>>>=0,t===0?32:31-(Ob(t)/Lb|0)|0}var di=64,ui=4194304;function qr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xa(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var l=i&~r;l!==0?s=qr(l):(o&=i,o!==0&&(s=qr(o)))}else i=n&~r,i!==0?s=qr(i):o!==0&&(s=qr(o));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Nt(e),r=1<<n,s|=t[n],e&=~r;return s}function Fb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bb(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Nt(o),l=1<<i,c=r[i];c===-1?(!(l&n)||l&s)&&(r[i]=Fb(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function Hc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mm(){var t=di;return di<<=1,!(di&4194240)&&(di=64),t}function Ol(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ko(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nt(e),t[e]=n}function Wb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Nt(n),o=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~o}}function iu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Nt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var ie=0;function xm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ym,au,bm,vm,Sm,Vc=!1,hi=[],Pn=null,Dn=null,An=null,bo=new Map,vo=new Map,wn=[],Ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eh(t,e){switch(t){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":bo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(e.pointerId)}}function Er(t,e,n,s,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Jo(e),e!==null&&au(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Hb(t,e,n,s,r){switch(e){case"focusin":return Pn=Er(Pn,t,e,n,s,r),!0;case"dragenter":return Dn=Er(Dn,t,e,n,s,r),!0;case"mouseover":return An=Er(An,t,e,n,s,r),!0;case"pointerover":var o=r.pointerId;return bo.set(o,Er(bo.get(o)||null,t,e,n,s,r)),!0;case"gotpointercapture":return o=r.pointerId,vo.set(o,Er(vo.get(o)||null,t,e,n,s,r)),!0}return!1}function wm(t){var e=rs(t.target);if(e!==null){var n=Ts(e);if(n!==null){if(e=n.tag,e===13){if(e=dm(n),e!==null){t.blockedOn=e,Sm(t.priority,function(){bm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ki(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Fc=s,n.target.dispatchEvent(s),Fc=null}else return e=Jo(n),e!==null&&au(e),t.blockedOn=n,!1;e.shift()}return!0}function _h(t,e,n){Ki(t)&&n.delete(e)}function Vb(){Vc=!1,Pn!==null&&Ki(Pn)&&(Pn=null),Dn!==null&&Ki(Dn)&&(Dn=null),An!==null&&Ki(An)&&(An=null),bo.forEach(_h),vo.forEach(_h)}function _r(t,e){t.blockedOn===e&&(t.blockedOn=null,Vc||(Vc=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,Vb)))}function So(t){function e(r){return _r(r,t)}if(0<hi.length){_r(hi[0],t);for(var n=1;n<hi.length;n++){var s=hi[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Pn!==null&&_r(Pn,t),Dn!==null&&_r(Dn,t),An!==null&&_r(An,t),bo.forEach(e),vo.forEach(e),n=0;n<wn.length;n++)s=wn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)wm(n),n.blockedOn===null&&wn.shift()}var Zs=fn.ReactCurrentBatchConfig,ya=!0;function qb(t,e,n,s){var r=ie,o=Zs.transition;Zs.transition=null;try{ie=1,lu(t,e,n,s)}finally{ie=r,Zs.transition=o}}function Kb(t,e,n,s){var r=ie,o=Zs.transition;Zs.transition=null;try{ie=4,lu(t,e,n,s)}finally{ie=r,Zs.transition=o}}function lu(t,e,n,s){if(ya){var r=qc(t,e,n,s);if(r===null)Kl(t,e,s,ba,n),Eh(t,s);else if(Hb(r,t,e,n,s))s.stopPropagation();else if(Eh(t,s),e&4&&-1<Ub.indexOf(t)){for(;r!==null;){var o=Jo(r);if(o!==null&&ym(o),o=qc(t,e,n,s),o===null&&Kl(t,e,s,ba,n),o===r)break;r=o}r!==null&&s.stopPropagation()}else Kl(t,e,s,null,n)}}var ba=null;function qc(t,e,n,s){if(ba=null,t=ru(s),t=rs(t),t!==null)if(e=Ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ba=t,null}function km(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nb()){case ou:return 1;case pm:return 4;case ma:case $b:return 16;case gm:return 536870912;default:return 16}default:return 16}}var jn=null,cu=null,Yi=null;function jm(){if(Yi)return Yi;var t,e=cu,n=e.length,s,r="value"in jn?jn.value:jn.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var i=n-t;for(s=1;s<=i&&e[n-s]===r[o-s];s++);return Yi=r.slice(t,1<s?1-s:void 0)}function Ji(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fi(){return!0}function Rh(){return!1}function mt(t){function e(n,s,r,o,i){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fi:Rh,this.isPropagationStopped=Rh,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),e}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=mt(mr),Yo=ge({},mr,{view:0,detail:0}),Yb=mt(Yo),Ll,zl,Rr,nl=ge({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rr&&(Rr&&t.type==="mousemove"?(Ll=t.screenX-Rr.screenX,zl=t.screenY-Rr.screenY):zl=Ll=0,Rr=t),Ll)},movementY:function(t){return"movementY"in t?t.movementY:zl}}),Ph=mt(nl),Jb=ge({},nl,{dataTransfer:0}),Xb=mt(Jb),Gb=ge({},Yo,{relatedTarget:0}),Fl=mt(Gb),Qb=ge({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zb=mt(Qb),ev=ge({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tv=mt(ev),nv=ge({},mr,{data:0}),Dh=mt(nv),sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ov[t])?!!e[t]:!1}function uu(){return iv}var av=ge({},Yo,{key:function(t){if(t.key){var e=sv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ji(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(t){return t.type==="keypress"?Ji(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ji(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lv=mt(av),cv=ge({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=mt(cv),dv=ge({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),uv=mt(dv),hv=ge({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fv=mt(hv),pv=ge({},nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gv=mt(pv),mv=[9,13,27,32],hu=ln&&"CompositionEvent"in window,to=null;ln&&"documentMode"in document&&(to=document.documentMode);var xv=ln&&"TextEvent"in window&&!to,Cm=ln&&(!hu||to&&8<to&&11>=to),Ih=" ",Nh=!1;function Tm(t,e){switch(t){case"keyup":return mv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Em(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function yv(t,e){switch(t){case"compositionend":return Em(e);case"keypress":return e.which!==32?null:(Nh=!0,Ih);case"textInput":return t=e.data,t===Ih&&Nh?null:t;default:return null}}function bv(t,e){if(Os)return t==="compositionend"||!hu&&Tm(t,e)?(t=jm(),Yi=cu=jn=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cm&&e.locale!=="ko"?null:e.data;default:return null}}var vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vv[t.type]:e==="textarea"}function _m(t,e,n,s){om(s),e=va(e,"onChange"),0<e.length&&(n=new du("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var no=null,wo=null;function Sv(t){zm(t,0)}function sl(t){var e=Fs(t);if(Qg(e))return t}function wv(t,e){if(t==="change")return e}var Rm=!1;if(ln){var Bl;if(ln){var Wl="oninput"in document;if(!Wl){var Mh=document.createElement("div");Mh.setAttribute("oninput","return;"),Wl=typeof Mh.oninput=="function"}Bl=Wl}else Bl=!1;Rm=Bl&&(!document.documentMode||9<document.documentMode)}function Oh(){no&&(no.detachEvent("onpropertychange",Pm),wo=no=null)}function Pm(t){if(t.propertyName==="value"&&sl(wo)){var e=[];_m(e,wo,t,ru(t)),cm(Sv,e)}}function kv(t,e,n){t==="focusin"?(Oh(),no=e,wo=n,no.attachEvent("onpropertychange",Pm)):t==="focusout"&&Oh()}function jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sl(wo)}function Cv(t,e){if(t==="click")return sl(e)}function Tv(t,e){if(t==="input"||t==="change")return sl(e)}function Ev(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:Ev;function ko(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!_c.call(e,r)||!Mt(t[r],e[r]))return!1}return!0}function Lh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zh(t,e){var n=Lh(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lh(n)}}function Dm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Am(){for(var t=window,e=fa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fa(t.document)}return e}function fu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _v(t){var e=Am(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dm(n.ownerDocument.documentElement,n)){if(s!==null&&fu(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(s.start,r);s=s.end===void 0?o:Math.min(s.end,r),!t.extend&&o>s&&(r=s,s=o,o=r),r=zh(n,o);var i=zh(n,s);r&&i&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>s?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Rv=ln&&"documentMode"in document&&11>=document.documentMode,Ls=null,Kc=null,so=null,Yc=!1;function Fh(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yc||Ls==null||Ls!==fa(s)||(s=Ls,"selectionStart"in s&&fu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),so&&ko(so,s)||(so=s,s=va(Kc,"onSelect"),0<s.length&&(e=new du("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Ls)))}function pi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionend:pi("Transition","TransitionEnd")},Ul={},Im={};ln&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function rl(t){if(Ul[t])return Ul[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Im)return Ul[t]=e[n];return t}var Nm=rl("animationend"),$m=rl("animationiteration"),Mm=rl("animationstart"),Om=rl("transitionend"),Lm=new Map,Bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(t,e){Lm.set(t,e),Cs(e,[t])}for(var Hl=0;Hl<Bh.length;Hl++){var Vl=Bh[Hl],Pv=Vl.toLowerCase(),Dv=Vl[0].toUpperCase()+Vl.slice(1);Hn(Pv,"on"+Dv)}Hn(Nm,"onAnimationEnd");Hn($m,"onAnimationIteration");Hn(Mm,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(Om,"onTransitionEnd");rr("onMouseEnter",["mouseout","mouseover"]);rr("onMouseLeave",["mouseout","mouseover"]);rr("onPointerEnter",["pointerout","pointerover"]);rr("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kr));function Wh(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Pb(s,e,void 0,t),t.currentTarget=null}function zm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var o=void 0;if(e)for(var i=s.length-1;0<=i;i--){var l=s[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&r.isPropagationStopped())break e;Wh(r,l,d),o=c}else for(i=0;i<s.length;i++){if(l=s[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&r.isPropagationStopped())break e;Wh(r,l,d),o=c}}}if(ga)throw t=Uc,ga=!1,Uc=null,t}function ce(t,e){var n=e[Zc];n===void 0&&(n=e[Zc]=new Set);var s=t+"__bubble";n.has(s)||(Fm(e,t,2,!1),n.add(s))}function ql(t,e,n){var s=0;e&&(s|=4),Fm(n,t,s,e)}var gi="_reactListening"+Math.random().toString(36).slice(2);function jo(t){if(!t[gi]){t[gi]=!0,Kg.forEach(function(n){n!=="selectionchange"&&(Av.has(n)||ql(n,!1,t),ql(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gi]||(e[gi]=!0,ql("selectionchange",!1,e))}}function Fm(t,e,n,s){switch(km(e)){case 1:var r=qb;break;case 4:r=Kb;break;default:r=lu}n=r.bind(null,e,n,t),r=void 0,!Wc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Kl(t,e,n,s,r){var o=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;i=i.return}for(;l!==null;){if(i=rs(l),i===null)return;if(c=i.tag,c===5||c===6){s=o=i;continue e}l=l.parentNode}}s=s.return}cm(function(){var d=o,u=ru(n),h=[];e:{var f=Lm.get(t);if(f!==void 0){var m=du,g=t;switch(t){case"keypress":if(Ji(n)===0)break e;case"keydown":case"keyup":m=lv;break;case"focusin":g="focus",m=Fl;break;case"focusout":g="blur",m=Fl;break;case"beforeblur":case"afterblur":m=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Xb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=uv;break;case Nm:case $m:case Mm:m=Zb;break;case Om:m=fv;break;case"scroll":m=Yb;break;case"wheel":m=gv;break;case"copy":case"cut":case"paste":m=tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ah}var p=(e&4)!==0,x=!p&&t==="scroll",b=p?f!==null?f+"Capture":null:f;p=[];for(var y=d,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,b!==null&&(w=yo(y,b),w!=null&&p.push(Co(y,w,v)))),x)break;y=y.return}0<p.length&&(f=new m(f,g,null,n,u),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Fc&&(g=n.relatedTarget||n.fromElement)&&(rs(g)||g[cn]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=d,g=g?rs(g):null,g!==null&&(x=Ts(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(p=Ph,w="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(p=Ah,w="onPointerLeave",b="onPointerEnter",y="pointer"),x=m==null?f:Fs(m),v=g==null?f:Fs(g),f=new p(w,y+"leave",m,n,u),f.target=x,f.relatedTarget=v,w=null,rs(u)===d&&(p=new p(b,y+"enter",g,n,u),p.target=v,p.relatedTarget=x,w=p),x=w,m&&g)t:{for(p=m,b=g,y=0,v=p;v;v=Ds(v))y++;for(v=0,w=b;w;w=Ds(w))v++;for(;0<y-v;)p=Ds(p),y--;for(;0<v-y;)b=Ds(b),v--;for(;y--;){if(p===b||b!==null&&p===b.alternate)break t;p=Ds(p),b=Ds(b)}p=null}else p=null;m!==null&&Uh(h,f,m,p,!1),g!==null&&x!==null&&Uh(h,x,g,p,!0)}}e:{if(f=d?Fs(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=wv;else if($h(f))if(Rm)k=Tv;else{k=jv;var j=kv}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Cv);if(k&&(k=k(t,d))){_m(h,k,n,u);break e}j&&j(t,f,d),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&$c(f,"number",f.value)}switch(j=d?Fs(d):window,t){case"focusin":($h(j)||j.contentEditable==="true")&&(Ls=j,Kc=d,so=null);break;case"focusout":so=Kc=Ls=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,Fh(h,n,u);break;case"selectionchange":if(Rv)break;case"keydown":case"keyup":Fh(h,n,u)}var C;if(hu)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Os?Tm(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Cm&&n.locale!=="ko"&&(Os||T!=="onCompositionStart"?T==="onCompositionEnd"&&Os&&(C=jm()):(jn=u,cu="value"in jn?jn.value:jn.textContent,Os=!0)),j=va(d,T),0<j.length&&(T=new Dh(T,t,null,n,u),h.push({event:T,listeners:j}),C?T.data=C:(C=Em(n),C!==null&&(T.data=C)))),(C=xv?yv(t,n):bv(t,n))&&(d=va(d,"onBeforeInput"),0<d.length&&(u=new Dh("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=C))}zm(h,e)})}function Co(t,e,n){return{instance:t,listener:e,currentTarget:n}}function va(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=yo(t,n),o!=null&&s.unshift(Co(t,o,r)),o=yo(t,e),o!=null&&s.push(Co(t,o,r))),t=t.return}return s}function Ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uh(t,e,n,s,r){for(var o=e._reactName,i=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,r?(c=yo(n,o),c!=null&&i.unshift(Co(n,c,l))):r||(c=yo(n,o),c!=null&&i.push(Co(n,c,l)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var Iv=/\r\n?/g,Nv=/\u0000|\uFFFD/g;function Hh(t){return(typeof t=="string"?t:""+t).replace(Iv,`
`).replace(Nv,"")}function mi(t,e,n){if(e=Hh(e),Hh(t)!==e&&n)throw Error(z(425))}function Sa(){}var Jc=null,Xc=null;function Gc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qc=typeof setTimeout=="function"?setTimeout:void 0,$v=typeof clearTimeout=="function"?clearTimeout:void 0,Vh=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Vh<"u"?function(t){return Vh.resolve(null).then(t).catch(Ov)}:Qc;function Ov(t){setTimeout(function(){throw t})}function Yl(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),So(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);So(e)}function In(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xr=Math.random().toString(36).slice(2),qt="__reactFiber$"+xr,To="__reactProps$"+xr,cn="__reactContainer$"+xr,Zc="__reactEvents$"+xr,Lv="__reactListeners$"+xr,zv="__reactHandles$"+xr;function rs(t){var e=t[qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cn]||n[qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qh(t);t!==null;){if(n=t[qt])return n;t=qh(t)}return e}t=n,n=t.parentNode}return null}function Jo(t){return t=t[qt]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function ol(t){return t[To]||null}var ed=[],Bs=-1;function Vn(t){return{current:t}}function ue(t){0>Bs||(t.current=ed[Bs],ed[Bs]=null,Bs--)}function le(t,e){Bs++,ed[Bs]=t.current,t.current=e}var Wn={},qe=Vn(Wn),rt=Vn(!1),gs=Wn;function or(t,e){var n=t.type.contextTypes;if(!n)return Wn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ot(t){return t=t.childContextTypes,t!=null}function wa(){ue(rt),ue(qe)}function Kh(t,e,n){if(qe.current!==Wn)throw Error(z(168));le(qe,e),le(rt,n)}function Bm(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(z(108,kb(t)||"Unknown",r));return ge({},n,s)}function ka(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wn,gs=qe.current,le(qe,t),le(rt,rt.current),!0}function Yh(t,e,n){var s=t.stateNode;if(!s)throw Error(z(169));n?(t=Bm(t,e,gs),s.__reactInternalMemoizedMergedChildContext=t,ue(rt),ue(qe),le(qe,t)):ue(rt),le(rt,n)}var tn=null,il=!1,Jl=!1;function Wm(t){tn===null?tn=[t]:tn.push(t)}function Fv(t){il=!0,Wm(t)}function qn(){if(!Jl&&tn!==null){Jl=!0;var t=0,e=ie;try{var n=tn;for(ie=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}tn=null,il=!1}catch(r){throw tn!==null&&(tn=tn.slice(t+1)),fm(ou,qn),r}finally{ie=e,Jl=!1}}return null}var Ws=[],Us=0,ja=null,Ca=0,vt=[],St=0,ms=null,sn=1,rn="";function es(t,e){Ws[Us++]=Ca,Ws[Us++]=ja,ja=t,Ca=e}function Um(t,e,n){vt[St++]=sn,vt[St++]=rn,vt[St++]=ms,ms=t;var s=sn;t=rn;var r=32-Nt(s)-1;s&=~(1<<r),n+=1;var o=32-Nt(e)+r;if(30<o){var i=r-r%5;o=(s&(1<<i)-1).toString(32),s>>=i,r-=i,sn=1<<32-Nt(e)+r|n<<r|s,rn=o+t}else sn=1<<o|n<<r|s,rn=t}function pu(t){t.return!==null&&(es(t,1),Um(t,1,0))}function gu(t){for(;t===ja;)ja=Ws[--Us],Ws[Us]=null,Ca=Ws[--Us],Ws[Us]=null;for(;t===ms;)ms=vt[--St],vt[St]=null,rn=vt[--St],vt[St]=null,sn=vt[--St],vt[St]=null}var ft=null,ht=null,he=!1,It=null;function Hm(t,e){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,ht=In(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ms!==null?{id:sn,overflow:rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,ht=null,!0):!1;default:return!1}}function td(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nd(t){if(he){var e=ht;if(e){var n=e;if(!Jh(t,e)){if(td(t))throw Error(z(418));e=In(n.nextSibling);var s=ft;e&&Jh(t,e)?Hm(s,n):(t.flags=t.flags&-4097|2,he=!1,ft=t)}}else{if(td(t))throw Error(z(418));t.flags=t.flags&-4097|2,he=!1,ft=t}}}function Xh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function xi(t){if(t!==ft)return!1;if(!he)return Xh(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gc(t.type,t.memoizedProps)),e&&(e=ht)){if(td(t))throw Vm(),Error(z(418));for(;e;)Hm(t,e),e=In(e.nextSibling)}if(Xh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ht=In(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ht=null}}else ht=ft?In(t.stateNode.nextSibling):null;return!0}function Vm(){for(var t=ht;t;)t=In(t.nextSibling)}function ir(){ht=ft=null,he=!1}function mu(t){It===null?It=[t]:It.push(t)}var Bv=fn.ReactCurrentBatchConfig;function Pr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var s=n.stateNode}if(!s)throw Error(z(147,t));var r=s,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=r.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function yi(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gh(t){var e=t._init;return e(t._payload)}function qm(t){function e(b,y){if(t){var v=b.deletions;v===null?(b.deletions=[y],b.flags|=16):v.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function s(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function r(b,y){return b=On(b,y),b.index=0,b.sibling=null,b}function o(b,y,v){return b.index=v,t?(v=b.alternate,v!==null?(v=v.index,v<y?(b.flags|=2,y):v):(b.flags|=2,y)):(b.flags|=1048576,y)}function i(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,y,v,w){return y===null||y.tag!==6?(y=nc(v,b.mode,w),y.return=b,y):(y=r(y,v),y.return=b,y)}function c(b,y,v,w){var k=v.type;return k===Ms?u(b,y,v.props.children,w,v.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vn&&Gh(k)===y.type)?(w=r(y,v.props),w.ref=Pr(b,y,v),w.return=b,w):(w=na(v.type,v.key,v.props,null,b.mode,w),w.ref=Pr(b,y,v),w.return=b,w)}function d(b,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=sc(v,b.mode,w),y.return=b,y):(y=r(y,v.children||[]),y.return=b,y)}function u(b,y,v,w,k){return y===null||y.tag!==7?(y=ds(v,b.mode,w,k),y.return=b,y):(y=r(y,v),y.return=b,y)}function h(b,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=nc(""+y,b.mode,v),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ai:return v=na(y.type,y.key,y.props,null,b.mode,v),v.ref=Pr(b,null,y),v.return=b,v;case $s:return y=sc(y,b.mode,v),y.return=b,y;case vn:var w=y._init;return h(b,w(y._payload),v)}if(Vr(y)||Cr(y))return y=ds(y,b.mode,v,null),y.return=b,y;yi(b,y)}return null}function f(b,y,v,w){var k=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(b,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ai:return v.key===k?c(b,y,v,w):null;case $s:return v.key===k?d(b,y,v,w):null;case vn:return k=v._init,f(b,y,k(v._payload),w)}if(Vr(v)||Cr(v))return k!==null?null:u(b,y,v,w,null);yi(b,v)}return null}function m(b,y,v,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(v)||null,l(y,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ai:return b=b.get(w.key===null?v:w.key)||null,c(y,b,w,k);case $s:return b=b.get(w.key===null?v:w.key)||null,d(y,b,w,k);case vn:var j=w._init;return m(b,y,v,j(w._payload),k)}if(Vr(w)||Cr(w))return b=b.get(v)||null,u(y,b,w,k,null);yi(y,w)}return null}function g(b,y,v,w){for(var k=null,j=null,C=y,T=y=0,P=null;C!==null&&T<v.length;T++){C.index>T?(P=C,C=null):P=C.sibling;var R=f(b,C,v[T],w);if(R===null){C===null&&(C=P);break}t&&C&&R.alternate===null&&e(b,C),y=o(R,y,T),j===null?k=R:j.sibling=R,j=R,C=P}if(T===v.length)return n(b,C),he&&es(b,T),k;if(C===null){for(;T<v.length;T++)C=h(b,v[T],w),C!==null&&(y=o(C,y,T),j===null?k=C:j.sibling=C,j=C);return he&&es(b,T),k}for(C=s(b,C);T<v.length;T++)P=m(C,b,T,v[T],w),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),y=o(P,y,T),j===null?k=P:j.sibling=P,j=P);return t&&C.forEach(function(_){return e(b,_)}),he&&es(b,T),k}function p(b,y,v,w){var k=Cr(v);if(typeof k!="function")throw Error(z(150));if(v=k.call(v),v==null)throw Error(z(151));for(var j=k=null,C=y,T=y=0,P=null,R=v.next();C!==null&&!R.done;T++,R=v.next()){C.index>T?(P=C,C=null):P=C.sibling;var _=f(b,C,R.value,w);if(_===null){C===null&&(C=P);break}t&&C&&_.alternate===null&&e(b,C),y=o(_,y,T),j===null?k=_:j.sibling=_,j=_,C=P}if(R.done)return n(b,C),he&&es(b,T),k;if(C===null){for(;!R.done;T++,R=v.next())R=h(b,R.value,w),R!==null&&(y=o(R,y,T),j===null?k=R:j.sibling=R,j=R);return he&&es(b,T),k}for(C=s(b,C);!R.done;T++,R=v.next())R=m(C,b,T,R.value,w),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),y=o(R,y,T),j===null?k=R:j.sibling=R,j=R);return t&&C.forEach(function(M){return e(b,M)}),he&&es(b,T),k}function x(b,y,v,w){if(typeof v=="object"&&v!==null&&v.type===Ms&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ai:e:{for(var k=v.key,j=y;j!==null;){if(j.key===k){if(k=v.type,k===Ms){if(j.tag===7){n(b,j.sibling),y=r(j,v.props.children),y.return=b,b=y;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vn&&Gh(k)===j.type){n(b,j.sibling),y=r(j,v.props),y.ref=Pr(b,j,v),y.return=b,b=y;break e}n(b,j);break}else e(b,j);j=j.sibling}v.type===Ms?(y=ds(v.props.children,b.mode,w,v.key),y.return=b,b=y):(w=na(v.type,v.key,v.props,null,b.mode,w),w.ref=Pr(b,y,v),w.return=b,b=w)}return i(b);case $s:e:{for(j=v.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(b,y.sibling),y=r(y,v.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=sc(v,b.mode,w),y.return=b,b=y}return i(b);case vn:return j=v._init,x(b,y,j(v._payload),w)}if(Vr(v))return g(b,y,v,w);if(Cr(v))return p(b,y,v,w);yi(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(b,y.sibling),y=r(y,v),y.return=b,b=y):(n(b,y),y=nc(v,b.mode,w),y.return=b,b=y),i(b)):n(b,y)}return x}var ar=qm(!0),Km=qm(!1),Ta=Vn(null),Ea=null,Hs=null,xu=null;function yu(){xu=Hs=Ea=null}function bu(t){var e=Ta.current;ue(Ta),t._currentValue=e}function sd(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function er(t,e){Ea=t,xu=Hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function Ct(t){var e=t._currentValue;if(xu!==t)if(t={context:t,memoizedValue:e,next:null},Hs===null){if(Ea===null)throw Error(z(308));Hs=t,Ea.dependencies={lanes:0,firstContext:t}}else Hs=Hs.next=t;return e}var os=null;function vu(t){os===null?os=[t]:os.push(t)}function Ym(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,vu(e)):(n.next=r.next,r.next=n),e.interleaved=n,dn(t,s)}function dn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Su(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function an(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ee&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,dn(t,n)}return r=s.interleaved,r===null?(e.next=e,vu(s)):(e.next=r.next,r.next=e),s.interleaved=e,dn(t,n)}function Xi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,iu(t,n)}}function Qh(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _a(t,e,n,s){var r=t.updateQueue;Sn=!1;var o=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var h=r.baseState;i=0,u=d=c=null,l=o;do{var f=l.lane,m=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,p=l;switch(f=e,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=ge({},h,f);break e;case 2:Sn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,i|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do i|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);ys|=i,t.lanes=i,t.memoizedState=h}}function Zh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(z(191,r));r.call(s)}}}var Xo={},Jt=Vn(Xo),Eo=Vn(Xo),_o=Vn(Xo);function is(t){if(t===Xo)throw Error(z(174));return t}function wu(t,e){switch(le(_o,e),le(Eo,t),le(Jt,Xo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Oc(e,t)}ue(Jt),le(Jt,e)}function lr(){ue(Jt),ue(Eo),ue(_o)}function Xm(t){is(_o.current);var e=is(Jt.current),n=Oc(e,t.type);e!==n&&(le(Eo,t),le(Jt,n))}function ku(t){Eo.current===t&&(ue(Jt),ue(Eo))}var fe=Vn(0);function Ra(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xl=[];function ju(){for(var t=0;t<Xl.length;t++)Xl[t]._workInProgressVersionPrimary=null;Xl.length=0}var Gi=fn.ReactCurrentDispatcher,Gl=fn.ReactCurrentBatchConfig,xs=0,pe=null,Te=null,Pe=null,Pa=!1,ro=!1,Ro=0,Wv=0;function Oe(){throw Error(z(321))}function Cu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mt(t[n],e[n]))return!1;return!0}function Tu(t,e,n,s,r,o){if(xs=o,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gi.current=t===null||t.memoizedState===null?qv:Kv,t=n(s,r),ro){o=0;do{if(ro=!1,Ro=0,25<=o)throw Error(z(301));o+=1,Pe=Te=null,e.updateQueue=null,Gi.current=Yv,t=n(s,r)}while(ro)}if(Gi.current=Da,e=Te!==null&&Te.next!==null,xs=0,Pe=Te=pe=null,Pa=!1,e)throw Error(z(300));return t}function Eu(){var t=Ro!==0;return Ro=0,t}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?pe.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function Tt(){if(Te===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Pe===null?pe.memoizedState:Pe.next;if(e!==null)Pe=e,Te=t;else{if(t===null)throw Error(z(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?pe.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function Po(t,e){return typeof e=="function"?e(t):e}function Ql(t){var e=Tt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var s=Te,r=s.baseQueue,o=n.pending;if(o!==null){if(r!==null){var i=r.next;r.next=o.next,o.next=i}s.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,s=s.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((xs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,i=s):c=c.next=h,pe.lanes|=u,ys|=u}d=d.next}while(d!==null&&d!==o);c===null?i=s:c.next=l,Mt(s,e.memoizedState)||(st=!0),e.memoizedState=s,e.baseState=i,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do o=r.lane,pe.lanes|=o,ys|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zl(t){var e=Tt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do o=t(o,i.action),i=i.next;while(i!==r);Mt(o,e.memoizedState)||(st=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,s]}function Gm(){}function Qm(t,e){var n=pe,s=Tt(),r=e(),o=!Mt(s.memoizedState,r);if(o&&(s.memoizedState=r,st=!0),s=s.queue,_u(tx.bind(null,n,s,t),[t]),s.getSnapshot!==e||o||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Do(9,ex.bind(null,n,s,r,e),void 0,null),De===null)throw Error(z(349));xs&30||Zm(n,e,r)}return r}function Zm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ex(t,e,n,s){e.value=n,e.getSnapshot=s,nx(e)&&sx(t)}function tx(t,e,n){return n(function(){nx(e)&&sx(t)})}function nx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mt(t,n)}catch{return!0}}function sx(t){var e=dn(t,1);e!==null&&$t(e,t,1,-1)}function ef(t){var e=Ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},e.queue=t,t=t.dispatch=Vv.bind(null,pe,t),[e.memoizedState,t]}function Do(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function rx(){return Tt().memoizedState}function Qi(t,e,n,s){var r=Ut();pe.flags|=t,r.memoizedState=Do(1|e,n,void 0,s===void 0?null:s)}function al(t,e,n,s){var r=Tt();s=s===void 0?null:s;var o=void 0;if(Te!==null){var i=Te.memoizedState;if(o=i.destroy,s!==null&&Cu(s,i.deps)){r.memoizedState=Do(e,n,o,s);return}}pe.flags|=t,r.memoizedState=Do(1|e,n,o,s)}function tf(t,e){return Qi(8390656,8,t,e)}function _u(t,e){return al(2048,8,t,e)}function ox(t,e){return al(4,2,t,e)}function ix(t,e){return al(4,4,t,e)}function ax(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lx(t,e,n){return n=n!=null?n.concat([t]):null,al(4,4,ax.bind(null,e,t),n)}function Ru(){}function cx(t,e){var n=Tt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Cu(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function dx(t,e){var n=Tt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Cu(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function ux(t,e,n){return xs&21?(Mt(n,e)||(n=mm(),pe.lanes|=n,ys|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=n)}function Uv(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var s=Gl.transition;Gl.transition={};try{t(!1),e()}finally{ie=n,Gl.transition=s}}function hx(){return Tt().memoizedState}function Hv(t,e,n){var s=Mn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},fx(t))px(e,n);else if(n=Ym(t,e,n,s),n!==null){var r=Xe();$t(n,t,s,r),gx(n,e,s)}}function Vv(t,e,n){var s=Mn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(fx(t))px(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,n);if(r.hasEagerState=!0,r.eagerState=l,Mt(l,i)){var c=e.interleaved;c===null?(r.next=r,vu(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=Ym(t,e,r,s),n!==null&&(r=Xe(),$t(n,t,s,r),gx(n,e,s))}}function fx(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function px(t,e){ro=Pa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gx(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,iu(t,n)}}var Da={readContext:Ct,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},qv={readContext:Ct,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:tf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qi(4194308,4,ax.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qi(4,2,t,e)},useMemo:function(t,e){var n=Ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ut();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Hv.bind(null,pe,t),[s.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:ef,useDebugValue:Ru,useDeferredValue:function(t){return Ut().memoizedState=t},useTransition:function(){var t=ef(!1),e=t[0];return t=Uv.bind(null,t[1]),Ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=pe,r=Ut();if(he){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),De===null)throw Error(z(349));xs&30||Zm(s,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,tf(tx.bind(null,s,o,t),[t]),s.flags|=2048,Do(9,ex.bind(null,s,o,n,e),void 0,null),n},useId:function(){var t=Ut(),e=De.identifierPrefix;if(he){var n=rn,s=sn;n=(s&~(1<<32-Nt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ro++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Wv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Kv={readContext:Ct,useCallback:cx,useContext:Ct,useEffect:_u,useImperativeHandle:lx,useInsertionEffect:ox,useLayoutEffect:ix,useMemo:dx,useReducer:Ql,useRef:rx,useState:function(){return Ql(Po)},useDebugValue:Ru,useDeferredValue:function(t){var e=Tt();return ux(e,Te.memoizedState,t)},useTransition:function(){var t=Ql(Po)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:Gm,useSyncExternalStore:Qm,useId:hx,unstable_isNewReconciler:!1},Yv={readContext:Ct,useCallback:cx,useContext:Ct,useEffect:_u,useImperativeHandle:lx,useInsertionEffect:ox,useLayoutEffect:ix,useMemo:dx,useReducer:Zl,useRef:rx,useState:function(){return Zl(Po)},useDebugValue:Ru,useDeferredValue:function(t){var e=Tt();return Te===null?e.memoizedState=t:ux(e,Te.memoizedState,t)},useTransition:function(){var t=Zl(Po)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:Gm,useSyncExternalStore:Qm,useId:hx,unstable_isNewReconciler:!1};function Pt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rd(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ll={isMounted:function(t){return(t=t._reactInternals)?Ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Xe(),r=Mn(t),o=an(s,r);o.payload=e,n!=null&&(o.callback=n),e=Nn(t,o,r),e!==null&&($t(e,t,r,s),Xi(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Xe(),r=Mn(t),o=an(s,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Nn(t,o,r),e!==null&&($t(e,t,r,s),Xi(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xe(),s=Mn(t),r=an(n,s);r.tag=2,e!=null&&(r.callback=e),e=Nn(t,r,s),e!==null&&($t(e,t,s,n),Xi(e,t,s))}};function nf(t,e,n,s,r,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,o,i):e.prototype&&e.prototype.isPureReactComponent?!ko(n,s)||!ko(r,o):!0}function mx(t,e,n){var s=!1,r=Wn,o=e.contextType;return typeof o=="object"&&o!==null?o=Ct(o):(r=ot(e)?gs:qe.current,s=e.contextTypes,o=(s=s!=null)?or(t,r):Wn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ll,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function sf(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&ll.enqueueReplaceState(e,e.state,null)}function od(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Su(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Ct(o):(o=ot(e)?gs:qe.current,r.context=or(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(rd(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ll.enqueueReplaceState(r,r.state,null),_a(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function cr(t,e){try{var n="",s=e;do n+=wb(s),s=s.return;while(s);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function ec(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function id(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jv=typeof WeakMap=="function"?WeakMap:Map;function xx(t,e,n){n=an(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Ia||(Ia=!0,md=s),id(t,e)},n}function yx(t,e,n){n=an(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){id(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){id(t,e),typeof s!="function"&&($n===null?$n=new Set([this]):$n.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function rf(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Jv;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=c1.bind(null,t,e,n),e.then(t,t))}function of(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function af(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=an(-1,1),e.tag=2,Nn(n,e,1))),n.lanes|=1),t)}var Xv=fn.ReactCurrentOwner,st=!1;function Ye(t,e,n,s){e.child=t===null?Km(e,null,n,s):ar(e,t.child,n,s)}function lf(t,e,n,s,r){n=n.render;var o=e.ref;return er(e,r),s=Tu(t,e,n,s,o,r),n=Eu(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,un(t,e,r)):(he&&n&&pu(e),e.flags|=1,Ye(t,e,s,r),e.child)}function cf(t,e,n,s,r){if(t===null){var o=n.type;return typeof o=="function"&&!Ou(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,bx(t,e,o,s,r)):(t=na(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ko,n(i,s)&&t.ref===e.ref)return un(t,e,r)}return e.flags|=1,t=On(o,s),t.ref=e.ref,t.return=e,e.child=t}function bx(t,e,n,s,r){if(t!==null){var o=t.memoizedProps;if(ko(o,s)&&t.ref===e.ref)if(st=!1,e.pendingProps=s=o,(t.lanes&r)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,un(t,e,r)}return ad(t,e,n,s,r)}function vx(t,e,n){var s=e.pendingProps,r=s.children,o=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(qs,ut),ut|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(qs,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,le(qs,ut),ut|=s}else o!==null?(s=o.baseLanes|n,e.memoizedState=null):s=n,le(qs,ut),ut|=s;return Ye(t,e,r,n),e.child}function Sx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ad(t,e,n,s,r){var o=ot(n)?gs:qe.current;return o=or(e,o),er(e,r),n=Tu(t,e,n,s,o,r),s=Eu(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,un(t,e,r)):(he&&s&&pu(e),e.flags|=1,Ye(t,e,n,r),e.child)}function df(t,e,n,s,r){if(ot(n)){var o=!0;ka(e)}else o=!1;if(er(e,r),e.stateNode===null)Zi(t,e),mx(e,n,s),od(e,n,s,r),s=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ct(d):(d=ot(n)?gs:qe.current,d=or(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==s||c!==d)&&sf(e,i,s,d),Sn=!1;var f=e.memoizedState;i.state=f,_a(e,s,i,r),c=e.memoizedState,l!==s||f!==c||rt.current||Sn?(typeof u=="function"&&(rd(e,n,u,s),c=e.memoizedState),(l=Sn||nf(e,n,l,s,f,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),i.props=s,i.state=c,i.context=d,s=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,Jm(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Pt(e.type,l),i.props=d,h=e.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ct(c):(c=ot(n)?gs:qe.current,c=or(e,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||f!==c)&&sf(e,i,s,c),Sn=!1,f=e.memoizedState,i.state=f,_a(e,s,i,r);var g=e.memoizedState;l!==h||f!==g||rt.current||Sn?(typeof m=="function"&&(rd(e,n,m,s),g=e.memoizedState),(d=Sn||nf(e,n,d,s,f,g,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,g,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),i.props=s,i.state=g,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return ld(t,e,n,s,o,r)}function ld(t,e,n,s,r,o){Sx(t,e);var i=(e.flags&128)!==0;if(!s&&!i)return r&&Yh(e,n,!1),un(t,e,o);s=e.stateNode,Xv.current=e;var l=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&i?(e.child=ar(e,t.child,null,o),e.child=ar(e,null,l,o)):Ye(t,e,l,o),e.memoizedState=s.state,r&&Yh(e,n,!0),e.child}function wx(t){var e=t.stateNode;e.pendingContext?Kh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kh(t,e.context,!1),wu(t,e.containerInfo)}function uf(t,e,n,s,r){return ir(),mu(r),e.flags|=256,Ye(t,e,n,s),e.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function dd(t){return{baseLanes:t,cachePool:null,transitions:null}}function kx(t,e,n){var s=e.pendingProps,r=fe.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),le(fe,r&1),t===null)return nd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=s.children,t=s.fallback,o?(s=e.mode,o=e.child,i={mode:"hidden",children:i},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ul(i,s,0,null),t=ds(t,s,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=dd(n),e.memoizedState=cd,t):Pu(e,i));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return Gv(t,e,i,s,l,r,n);if(o){o=s.fallback,i=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=On(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?o=On(l,o):(o=ds(o,i,n,null),o.flags|=2),o.return=e,s.return=e,s.sibling=o,e.child=s,s=o,o=e.child,i=t.child.memoizedState,i=i===null?dd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=cd,s}return o=t.child,t=o.sibling,s=On(o,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Pu(t,e){return e=ul({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bi(t,e,n,s){return s!==null&&mu(s),ar(e,t.child,null,n),t=Pu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gv(t,e,n,s,r,o,i){if(n)return e.flags&256?(e.flags&=-257,s=ec(Error(z(422))),bi(t,e,i,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=s.fallback,r=e.mode,s=ul({mode:"visible",children:s.children},r,0,null),o=ds(o,r,i,null),o.flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,e.mode&1&&ar(e,t.child,null,i),e.child.memoizedState=dd(i),e.memoizedState=cd,o);if(!(e.mode&1))return bi(t,e,i,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(z(419)),s=ec(o,s,void 0),bi(t,e,i,s)}if(l=(i&t.childLanes)!==0,st||l){if(s=De,s!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|i)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,dn(t,r),$t(s,t,r,-1))}return Mu(),s=ec(Error(z(421))),bi(t,e,i,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=d1.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,ht=In(r.nextSibling),ft=e,he=!0,It=null,t!==null&&(vt[St++]=sn,vt[St++]=rn,vt[St++]=ms,sn=t.id,rn=t.overflow,ms=e),e=Pu(e,s.children),e.flags|=4096,e)}function hf(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),sd(t.return,e,n)}function tc(t,e,n,s,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=r)}function jx(t,e,n){var s=e.pendingProps,r=s.revealOrder,o=s.tail;if(Ye(t,e,s.children,n),s=fe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hf(t,n,e);else if(t.tag===19)hf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(le(fe,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Ra(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),tc(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Ra(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}tc(e,!0,n,null,o);break;case"together":tc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function un(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ys|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=On(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=On(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qv(t,e,n){switch(e.tag){case 3:wx(e),ir();break;case 5:Xm(e);break;case 1:ot(e.type)&&ka(e);break;case 4:wu(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;le(Ta,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(le(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?kx(t,e,n):(le(fe,fe.current&1),t=un(t,e,n),t!==null?t.sibling:null);le(fe,fe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return jx(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),le(fe,fe.current),s)break;return null;case 22:case 23:return e.lanes=0,vx(t,e,n)}return un(t,e,n)}var Cx,ud,Tx,Ex;Cx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ud=function(){};Tx=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,is(Jt.current);var o=null;switch(n){case"input":r=Ic(t,r),s=Ic(t,s),o=[];break;case"select":r=ge({},r,{value:void 0}),s=ge({},s,{value:void 0}),o=[];break;case"textarea":r=Mc(t,r),s=Mc(t,s),o=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Sa)}Lc(n,s);var i;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(mo.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in s){var c=s[d];if(l=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(mo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ce("scroll",t),o||l===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};Ex=function(t,e,n,s){n!==s&&(e.flags|=4)};function Dr(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Le(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Zv(t,e,n){var s=e.pendingProps;switch(gu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(e),null;case 1:return ot(e.type)&&wa(),Le(e),null;case 3:return s=e.stateNode,lr(),ue(rt),ue(qe),ju(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(xi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,It!==null&&(bd(It),It=null))),ud(t,e),Le(e),null;case 5:ku(e);var r=is(_o.current);if(n=e.type,t!==null&&e.stateNode!=null)Tx(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(z(166));return Le(e),null}if(t=is(Jt.current),xi(e)){s=e.stateNode,n=e.type;var o=e.memoizedProps;switch(s[qt]=e,s[To]=o,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(r=0;r<Kr.length;r++)ce(Kr[r],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":vh(s,o),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},ce("invalid",s);break;case"textarea":wh(s,o),ce("invalid",s)}Lc(n,o),r=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&mi(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&mi(s.textContent,l,t),r=["children",""+l]):mo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ce("scroll",s)}switch(n){case"input":li(s),Sh(s,o,!0);break;case"textarea":li(s),kh(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=Sa)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=i.createElement(n,{is:s.is}):(t=i.createElement(n),n==="select"&&(i=t,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):t=i.createElementNS(t,n),t[qt]=e,t[To]=s,Cx(t,e,!1,!1),e.stateNode=t;e:{switch(i=zc(n,s),n){case"dialog":ce("cancel",t),ce("close",t),r=s;break;case"iframe":case"object":case"embed":ce("load",t),r=s;break;case"video":case"audio":for(r=0;r<Kr.length;r++)ce(Kr[r],t);r=s;break;case"source":ce("error",t),r=s;break;case"img":case"image":case"link":ce("error",t),ce("load",t),r=s;break;case"details":ce("toggle",t),r=s;break;case"input":vh(t,s),r=Ic(t,s),ce("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=ge({},s,{value:void 0}),ce("invalid",t);break;case"textarea":wh(t,s),r=Mc(t,s),ce("invalid",t);break;default:r=s}Lc(n,r),l=r;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?rm(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nm(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&xo(t,c):typeof c=="number"&&xo(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(mo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ce("scroll",t):c!=null&&eu(t,o,c,i))}switch(n){case"input":li(t),Sh(t,s,!1);break;case"textarea":li(t),kh(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Bn(s.value));break;case"select":t.multiple=!!s.multiple,o=s.value,o!=null?Xs(t,!!s.multiple,o,!1):s.defaultValue!=null&&Xs(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Sa)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Le(e),null;case 6:if(t&&e.stateNode!=null)Ex(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(z(166));if(n=is(_o.current),is(Jt.current),xi(e)){if(s=e.stateNode,n=e.memoizedProps,s[qt]=e,(o=s.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:mi(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mi(s.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[qt]=e,e.stateNode=s}return Le(e),null;case 13:if(ue(fe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&ht!==null&&e.mode&1&&!(e.flags&128))Vm(),ir(),e.flags|=98560,o=!1;else if(o=xi(e),s!==null&&s.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[qt]=e}else ir(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),o=!1}else It!==null&&(bd(It),It=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?_e===0&&(_e=3):Mu())),e.updateQueue!==null&&(e.flags|=4),Le(e),null);case 4:return lr(),ud(t,e),t===null&&jo(e.stateNode.containerInfo),Le(e),null;case 10:return bu(e.type._context),Le(e),null;case 17:return ot(e.type)&&wa(),Le(e),null;case 19:if(ue(fe),o=e.memoizedState,o===null)return Le(e),null;if(s=(e.flags&128)!==0,i=o.rendering,i===null)if(s)Dr(o,!1);else{if(_e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Ra(t),i!==null){for(e.flags|=128,Dr(o,!1),s=i.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)o=n,t=s,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(fe,fe.current&1|2),e.child}t=t.sibling}o.tail!==null&&ve()>dr&&(e.flags|=128,s=!0,Dr(o,!1),e.lanes=4194304)}else{if(!s)if(t=Ra(i),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!he)return Le(e),null}else 2*ve()-o.renderingStartTime>dr&&n!==1073741824&&(e.flags|=128,s=!0,Dr(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ve(),e.sibling=null,n=fe.current,le(fe,s?n&1|2:n&1),e):(Le(e),null);case 22:case 23:return $u(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ut&1073741824&&(Le(e),e.subtreeFlags&6&&(e.flags|=8192)):Le(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function e1(t,e){switch(gu(e),e.tag){case 1:return ot(e.type)&&wa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lr(),ue(rt),ue(qe),ju(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ku(e),null;case 13:if(ue(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ir()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(fe),null;case 4:return lr(),null;case 10:return bu(e.type._context),null;case 22:case 23:return $u(),null;case 24:return null;default:return null}}var vi=!1,We=!1,t1=typeof WeakSet=="function"?WeakSet:Set,W=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){xe(t,e,s)}else n.current=null}function hd(t,e,n){try{n()}catch(s){xe(t,e,s)}}var ff=!1;function n1(t,e){if(Jc=ya,t=Am(),fu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(l=i+r),h!==o||s!==0&&h.nodeType!==3||(c=i+s),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++d===r&&(l=i),f===o&&++u===s&&(c=i),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xc={focusedElem:t,selectionRange:n},ya=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?p:Pt(e.type,p),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(w){xe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return g=ff,ff=!1,g}function oo(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&hd(e,n,o)}r=r.next}while(r!==s)}}function cl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function fd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _x(t){var e=t.alternate;e!==null&&(t.alternate=null,_x(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qt],delete e[To],delete e[Zc],delete e[Lv],delete e[zv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rx(t){return t.tag===5||t.tag===3||t.tag===4}function pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pd(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sa));else if(s!==4&&(t=t.child,t!==null))for(pd(t,e,n),t=t.sibling;t!==null;)pd(t,e,n),t=t.sibling}function gd(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(gd(t,e,n),t=t.sibling;t!==null;)gd(t,e,n),t=t.sibling}var Ie=null,Dt=!1;function mn(t,e,n){for(n=n.child;n!==null;)Px(t,e,n),n=n.sibling}function Px(t,e,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(tl,n)}catch{}switch(n.tag){case 5:We||Vs(n,e);case 6:var s=Ie,r=Dt;Ie=null,mn(t,e,n),Ie=s,Dt=r,Ie!==null&&(Dt?(t=Ie,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(Dt?(t=Ie,n=n.stateNode,t.nodeType===8?Yl(t.parentNode,n):t.nodeType===1&&Yl(t,n),So(t)):Yl(Ie,n.stateNode));break;case 4:s=Ie,r=Dt,Ie=n.stateNode.containerInfo,Dt=!0,mn(t,e,n),Ie=s,Dt=r;break;case 0:case 11:case 14:case 15:if(!We&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var o=r,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&hd(n,e,i),r=r.next}while(r!==s)}mn(t,e,n);break;case 1:if(!We&&(Vs(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){xe(n,e,l)}mn(t,e,n);break;case 21:mn(t,e,n);break;case 22:n.mode&1?(We=(s=We)||n.memoizedState!==null,mn(t,e,n),We=s):mn(t,e,n);break;default:mn(t,e,n)}}function gf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t1),e.forEach(function(s){var r=u1.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Rt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,Dt=!1;break e;case 3:Ie=l.stateNode.containerInfo,Dt=!0;break e;case 4:Ie=l.stateNode.containerInfo,Dt=!0;break e}l=l.return}if(Ie===null)throw Error(z(160));Px(o,i,r),Ie=null,Dt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){xe(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dx(e,t),e=e.sibling}function Dx(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rt(e,t),zt(t),s&4){try{oo(3,t,t.return),cl(3,t)}catch(p){xe(t,t.return,p)}try{oo(5,t,t.return)}catch(p){xe(t,t.return,p)}}break;case 1:Rt(e,t),zt(t),s&512&&n!==null&&Vs(n,n.return);break;case 5:if(Rt(e,t),zt(t),s&512&&n!==null&&Vs(n,n.return),t.flags&32){var r=t.stateNode;try{xo(r,"")}catch(p){xe(t,t.return,p)}}if(s&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Zg(r,o),zc(l,i);var d=zc(l,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?rm(r,h):u==="dangerouslySetInnerHTML"?nm(r,h):u==="children"?xo(r,h):eu(r,u,h,d)}switch(l){case"input":Nc(r,o);break;case"textarea":em(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Xs(r,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Xs(r,!!o.multiple,o.defaultValue,!0):Xs(r,!!o.multiple,o.multiple?[]:"",!1))}r[To]=o}catch(p){xe(t,t.return,p)}}break;case 6:if(Rt(e,t),zt(t),s&4){if(t.stateNode===null)throw Error(z(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(p){xe(t,t.return,p)}}break;case 3:if(Rt(e,t),zt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{So(e.containerInfo)}catch(p){xe(t,t.return,p)}break;case 4:Rt(e,t),zt(t);break;case 13:Rt(e,t),zt(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Iu=ve())),s&4&&gf(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(We=(d=We)||u,Rt(e,t),We=d):Rt(e,t),zt(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(W=t,u=t.child;u!==null;){for(h=W=u;W!==null;){switch(f=W,m=f.child,f.tag){case 0:case 11:case 14:case 15:oo(4,f,f.return);break;case 1:Vs(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){xe(s,n,p)}}break;case 5:Vs(f,f.return);break;case 22:if(f.memoizedState!==null){xf(h);continue}}m!==null?(m.return=f,W=m):xf(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,d?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sm("display",i))}catch(p){xe(t,t.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){xe(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rt(e,t),zt(t),s&4&&gf(t);break;case 21:break;default:Rt(e,t),zt(t)}}function zt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rx(n)){var s=n;break e}n=n.return}throw Error(z(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(xo(r,""),s.flags&=-33);var o=pf(t);gd(t,o,r);break;case 3:case 4:var i=s.stateNode.containerInfo,l=pf(t);pd(t,l,i);break;default:throw Error(z(161))}}catch(c){xe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function s1(t,e,n){W=t,Ax(t)}function Ax(t,e,n){for(var s=(t.mode&1)!==0;W!==null;){var r=W,o=r.child;if(r.tag===22&&s){var i=r.memoizedState!==null||vi;if(!i){var l=r.alternate,c=l!==null&&l.memoizedState!==null||We;l=vi;var d=We;if(vi=i,(We=c)&&!d)for(W=r;W!==null;)i=W,c=i.child,i.tag===22&&i.memoizedState!==null?yf(r):c!==null?(c.return=i,W=c):yf(r);for(;o!==null;)W=o,Ax(o),o=o.sibling;W=r,vi=l,We=d}mf(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,W=o):mf(t)}}function mf(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||cl(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!We)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Pt(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Zh(e,o,s);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zh(e,i,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&So(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}We||e.flags&512&&fd(e)}catch(f){xe(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function xf(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function yf(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cl(4,e)}catch(c){xe(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){xe(e,r,c)}}var o=e.return;try{fd(e)}catch(c){xe(e,o,c)}break;case 5:var i=e.return;try{fd(e)}catch(c){xe(e,i,c)}}}catch(c){xe(e,e.return,c)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var r1=Math.ceil,Aa=fn.ReactCurrentDispatcher,Du=fn.ReactCurrentOwner,jt=fn.ReactCurrentBatchConfig,ee=0,De=null,je=null,Ne=0,ut=0,qs=Vn(0),_e=0,Ao=null,ys=0,dl=0,Au=0,io=null,tt=null,Iu=0,dr=1/0,en=null,Ia=!1,md=null,$n=null,Si=!1,Cn=null,Na=0,ao=0,xd=null,ea=-1,ta=0;function Xe(){return ee&6?ve():ea!==-1?ea:ea=ve()}function Mn(t){return t.mode&1?ee&2&&Ne!==0?Ne&-Ne:Bv.transition!==null?(ta===0&&(ta=mm()),ta):(t=ie,t!==0||(t=window.event,t=t===void 0?16:km(t.type)),t):1}function $t(t,e,n,s){if(50<ao)throw ao=0,xd=null,Error(z(185));Ko(t,n,s),(!(ee&2)||t!==De)&&(t===De&&(!(ee&2)&&(dl|=n),_e===4&&kn(t,Ne)),it(t,s),n===1&&ee===0&&!(e.mode&1)&&(dr=ve()+500,il&&qn()))}function it(t,e){var n=t.callbackNode;Bb(t,e);var s=xa(t,t===De?Ne:0);if(s===0)n!==null&&Th(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Th(n),e===1)t.tag===0?Fv(bf.bind(null,t)):Wm(bf.bind(null,t)),Mv(function(){!(ee&6)&&qn()}),n=null;else{switch(xm(s)){case 1:n=ou;break;case 4:n=pm;break;case 16:n=ma;break;case 536870912:n=gm;break;default:n=ma}n=Fx(n,Ix.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ix(t,e){if(ea=-1,ta=0,ee&6)throw Error(z(327));var n=t.callbackNode;if(tr()&&t.callbackNode!==n)return null;var s=xa(t,t===De?Ne:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=$a(t,s);else{e=s;var r=ee;ee|=2;var o=$x();(De!==t||Ne!==e)&&(en=null,dr=ve()+500,cs(t,e));do try{a1();break}catch(l){Nx(t,l)}while(!0);yu(),Aa.current=o,ee=r,je!==null?e=0:(De=null,Ne=0,e=_e)}if(e!==0){if(e===2&&(r=Hc(t),r!==0&&(s=r,e=yd(t,r))),e===1)throw n=Ao,cs(t,0),kn(t,s),it(t,ve()),n;if(e===6)kn(t,s);else{if(r=t.current.alternate,!(s&30)&&!o1(r)&&(e=$a(t,s),e===2&&(o=Hc(t),o!==0&&(s=o,e=yd(t,o))),e===1))throw n=Ao,cs(t,0),kn(t,s),it(t,ve()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(z(345));case 2:ts(t,tt,en);break;case 3:if(kn(t,s),(s&130023424)===s&&(e=Iu+500-ve(),10<e)){if(xa(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Xe(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Qc(ts.bind(null,t,tt,en),e);break}ts(t,tt,en);break;case 4:if(kn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var i=31-Nt(s);o=1<<i,i=e[i],i>r&&(r=i),s&=~o}if(s=r,s=ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*r1(s/1960))-s,10<s){t.timeoutHandle=Qc(ts.bind(null,t,tt,en),s);break}ts(t,tt,en);break;case 5:ts(t,tt,en);break;default:throw Error(z(329))}}}return it(t,ve()),t.callbackNode===n?Ix.bind(null,t):null}function yd(t,e){var n=io;return t.current.memoizedState.isDehydrated&&(cs(t,e).flags|=256),t=$a(t,e),t!==2&&(e=tt,tt=n,e!==null&&bd(e)),t}function bd(t){tt===null?tt=t:tt.push.apply(tt,t)}function o1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],o=r.getSnapshot;r=r.value;try{if(!Mt(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kn(t,e){for(e&=~Au,e&=~dl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nt(e),s=1<<n;t[n]=-1,e&=~s}}function bf(t){if(ee&6)throw Error(z(327));tr();var e=xa(t,0);if(!(e&1))return it(t,ve()),null;var n=$a(t,e);if(t.tag!==0&&n===2){var s=Hc(t);s!==0&&(e=s,n=yd(t,s))}if(n===1)throw n=Ao,cs(t,0),kn(t,e),it(t,ve()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,tt,en),it(t,ve()),null}function Nu(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(dr=ve()+500,il&&qn())}}function bs(t){Cn!==null&&Cn.tag===0&&!(ee&6)&&tr();var e=ee;ee|=1;var n=jt.transition,s=ie;try{if(jt.transition=null,ie=1,t)return t()}finally{ie=s,jt.transition=n,ee=e,!(ee&6)&&qn()}}function $u(){ut=qs.current,ue(qs)}function cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$v(n)),je!==null)for(n=je.return;n!==null;){var s=n;switch(gu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&wa();break;case 3:lr(),ue(rt),ue(qe),ju();break;case 5:ku(s);break;case 4:lr();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:bu(s.type._context);break;case 22:case 23:$u()}n=n.return}if(De=t,je=t=On(t.current,null),Ne=ut=e,_e=0,Ao=null,Au=dl=ys=0,tt=io=null,os!==null){for(e=0;e<os.length;e++)if(n=os[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,o=n.pending;if(o!==null){var i=o.next;o.next=r,s.next=i}n.pending=s}os=null}return t}function Nx(t,e){do{var n=je;try{if(yu(),Gi.current=Da,Pa){for(var s=pe.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Pa=!1}if(xs=0,Pe=Te=pe=null,ro=!1,Ro=0,Du.current=null,n===null||n.return===null){_e=1,Ao=e,je=null;break}e:{var o=t,i=n.return,l=n,c=e;if(e=Ne,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=of(i);if(m!==null){m.flags&=-257,af(m,i,l,o,e),m.mode&1&&rf(o,d,e),e=m,c=d;var g=e.updateQueue;if(g===null){var p=new Set;p.add(c),e.updateQueue=p}else g.add(c);break e}else{if(!(e&1)){rf(o,d,e),Mu();break e}c=Error(z(426))}}else if(he&&l.mode&1){var x=of(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),af(x,i,l,o,e),mu(cr(c,l));break e}}o=c=cr(c,l),_e!==4&&(_e=2),io===null?io=[o]:io.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=xx(o,c,e);Qh(o,b);break e;case 1:l=c;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($n===null||!$n.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=yx(o,l,e);Qh(o,w);break e}}o=o.return}while(o!==null)}Ox(n)}catch(k){e=k,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function $x(){var t=Aa.current;return Aa.current=Da,t===null?Da:t}function Mu(){(_e===0||_e===3||_e===2)&&(_e=4),De===null||!(ys&268435455)&&!(dl&268435455)||kn(De,Ne)}function $a(t,e){var n=ee;ee|=2;var s=$x();(De!==t||Ne!==e)&&(en=null,cs(t,e));do try{i1();break}catch(r){Nx(t,r)}while(!0);if(yu(),ee=n,Aa.current=s,je!==null)throw Error(z(261));return De=null,Ne=0,_e}function i1(){for(;je!==null;)Mx(je)}function a1(){for(;je!==null&&!Ab();)Mx(je)}function Mx(t){var e=zx(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?Ox(t):je=e,Du.current=null}function Ox(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=e1(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_e=6,je=null;return}}else if(n=Zv(n,e,ut),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);_e===0&&(_e=5)}function ts(t,e,n){var s=ie,r=jt.transition;try{jt.transition=null,ie=1,l1(t,e,n,s)}finally{jt.transition=r,ie=s}return null}function l1(t,e,n,s){do tr();while(Cn!==null);if(ee&6)throw Error(z(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Wb(t,o),t===De&&(je=De=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Si||(Si=!0,Fx(ma,function(){return tr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jt.transition,jt.transition=null;var i=ie;ie=1;var l=ee;ee|=4,Du.current=null,n1(t,n),Dx(n,t),_v(Xc),ya=!!Jc,Xc=Jc=null,t.current=n,s1(n),Ib(),ee=l,ie=i,jt.transition=o}else t.current=n;if(Si&&(Si=!1,Cn=t,Na=r),o=t.pendingLanes,o===0&&($n=null),Mb(n.stateNode),it(t,ve()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Ia)throw Ia=!1,t=md,md=null,t;return Na&1&&t.tag!==0&&tr(),o=t.pendingLanes,o&1?t===xd?ao++:(ao=0,xd=t):ao=0,qn(),null}function tr(){if(Cn!==null){var t=xm(Na),e=jt.transition,n=ie;try{if(jt.transition=null,ie=16>t?16:t,Cn===null)var s=!1;else{if(t=Cn,Cn=null,Na=0,ee&6)throw Error(z(331));var r=ee;for(ee|=4,W=t.current;W!==null;){var o=W,i=o.child;if(W.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(W=d;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:oo(8,u,o)}var h=u.child;if(h!==null)h.return=u,W=h;else for(;W!==null;){u=W;var f=u.sibling,m=u.return;if(_x(u),u===d){W=null;break}if(f!==null){f.return=m,W=f;break}W=m}}}var g=o.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}W=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,W=i;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:oo(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,W=b;break e}W=o.return}}var y=t.current;for(W=y;W!==null;){i=W;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,W=v;else e:for(i=y;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cl(9,l)}}catch(k){xe(l,l.return,k)}if(l===i){W=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,W=w;break e}W=l.return}}if(ee=r,qn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(tl,t)}catch{}s=!0}return s}finally{ie=n,jt.transition=e}}return!1}function vf(t,e,n){e=cr(n,e),e=xx(t,e,1),t=Nn(t,e,1),e=Xe(),t!==null&&(Ko(t,1,e),it(t,e))}function xe(t,e,n){if(t.tag===3)vf(t,t,n);else for(;e!==null;){if(e.tag===3){vf(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&($n===null||!$n.has(s))){t=cr(n,t),t=yx(e,t,1),e=Nn(e,t,1),t=Xe(),e!==null&&(Ko(e,1,t),it(e,t));break}}e=e.return}}function c1(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Xe(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(Ne&n)===n&&(_e===4||_e===3&&(Ne&130023424)===Ne&&500>ve()-Iu?cs(t,0):Au|=n),it(t,e)}function Lx(t,e){e===0&&(t.mode&1?(e=ui,ui<<=1,!(ui&130023424)&&(ui=4194304)):e=1);var n=Xe();t=dn(t,e),t!==null&&(Ko(t,e,n),it(t,n))}function d1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lx(t,n)}function u1(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(e),Lx(t,n)}var zx;zx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rt.current)st=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return st=!1,Qv(t,e,n);st=!!(t.flags&131072)}else st=!1,he&&e.flags&1048576&&Um(e,Ca,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Zi(t,e),t=e.pendingProps;var r=or(e,qe.current);er(e,n),r=Tu(null,e,s,t,r,n);var o=Eu();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(s)?(o=!0,ka(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Su(e),r.updater=ll,e.stateNode=r,r._reactInternals=e,od(e,s,t,n),e=ld(null,e,s,!0,o,n)):(e.tag=0,he&&o&&pu(e),Ye(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Zi(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=f1(s),t=Pt(s,t),r){case 0:e=ad(null,e,s,t,n);break e;case 1:e=df(null,e,s,t,n);break e;case 11:e=lf(null,e,s,t,n);break e;case 14:e=cf(null,e,s,Pt(s.type,t),n);break e}throw Error(z(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Pt(s,r),ad(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Pt(s,r),df(t,e,s,r,n);case 3:e:{if(wx(e),t===null)throw Error(z(387));s=e.pendingProps,o=e.memoizedState,r=o.element,Jm(t,e),_a(e,s,null,n);var i=e.memoizedState;if(s=i.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=cr(Error(z(423)),e),e=uf(t,e,s,n,r);break e}else if(s!==r){r=cr(Error(z(424)),e),e=uf(t,e,s,n,r);break e}else for(ht=In(e.stateNode.containerInfo.firstChild),ft=e,he=!0,It=null,n=Km(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ir(),s===r){e=un(t,e,n);break e}Ye(t,e,s,n)}e=e.child}return e;case 5:return Xm(e),t===null&&nd(e),s=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,i=r.children,Gc(s,r)?i=null:o!==null&&Gc(s,o)&&(e.flags|=32),Sx(t,e),Ye(t,e,i,n),e.child;case 6:return t===null&&nd(e),null;case 13:return kx(t,e,n);case 4:return wu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ar(e,null,s,n):Ye(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Pt(s,r),lf(t,e,s,r,n);case 7:return Ye(t,e,e.pendingProps,n),e.child;case 8:return Ye(t,e,e.pendingProps.children,n),e.child;case 12:return Ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,o=e.memoizedProps,i=r.value,le(Ta,s._currentValue),s._currentValue=i,o!==null)if(Mt(o.value,i)){if(o.children===r.children&&!rt.current){e=un(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=an(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),sd(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(z(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sd(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ye(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,er(e,n),r=Ct(r),s=s(r),e.flags|=1,Ye(t,e,s,n),e.child;case 14:return s=e.type,r=Pt(s,e.pendingProps),r=Pt(s.type,r),cf(t,e,s,r,n);case 15:return bx(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Pt(s,r),Zi(t,e),e.tag=1,ot(s)?(t=!0,ka(e)):t=!1,er(e,n),mx(e,s,r),od(e,s,r,n),ld(null,e,s,!0,t,n);case 19:return jx(t,e,n);case 22:return vx(t,e,n)}throw Error(z(156,e.tag))};function Fx(t,e){return fm(t,e)}function h1(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(t,e,n,s){return new h1(t,e,n,s)}function Ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f1(t){if(typeof t=="function")return Ou(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nu)return 11;if(t===su)return 14}return 2}function On(t,e){var n=t.alternate;return n===null?(n=wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function na(t,e,n,s,r,o){var i=2;if(s=t,typeof t=="function")Ou(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Ms:return ds(n.children,r,o,e);case tu:i=8,r|=8;break;case Rc:return t=wt(12,n,e,r|2),t.elementType=Rc,t.lanes=o,t;case Pc:return t=wt(13,n,e,r),t.elementType=Pc,t.lanes=o,t;case Dc:return t=wt(19,n,e,r),t.elementType=Dc,t.lanes=o,t;case Xg:return ul(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yg:i=10;break e;case Jg:i=9;break e;case nu:i=11;break e;case su:i=14;break e;case vn:i=16,s=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=wt(i,n,e,r),e.elementType=t,e.type=s,e.lanes=o,e}function ds(t,e,n,s){return t=wt(7,t,s,e),t.lanes=n,t}function ul(t,e,n,s){return t=wt(22,t,s,e),t.elementType=Xg,t.lanes=n,t.stateNode={isHidden:!1},t}function nc(t,e,n){return t=wt(6,t,null,e),t.lanes=n,t}function sc(t,e,n){return e=wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p1(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Lu(t,e,n,s,r,o,i,l,c){return t=new p1(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=wt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(o),t}function g1(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Bx(t){if(!t)return Wn;t=t._reactInternals;e:{if(Ts(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(ot(n))return Bm(t,n,e)}return e}function Wx(t,e,n,s,r,o,i,l,c){return t=Lu(n,s,!0,t,r,o,i,l,c),t.context=Bx(null),n=t.current,s=Xe(),r=Mn(n),o=an(s,r),o.callback=e??null,Nn(n,o,r),t.current.lanes=r,Ko(t,r,s),it(t,s),t}function hl(t,e,n,s){var r=e.current,o=Xe(),i=Mn(r);return n=Bx(n),e.context===null?e.context=n:e.pendingContext=n,e=an(o,i),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Nn(r,e,i),t!==null&&($t(t,r,i,o),Xi(t,r,i)),i}function Ma(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zu(t,e){Sf(t,e),(t=t.alternate)&&Sf(t,e)}function m1(){return null}var Ux=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fu(t){this._internalRoot=t}fl.prototype.render=Fu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));hl(t,e,null,null)};fl.prototype.unmount=Fu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bs(function(){hl(null,t,null,null)}),e[cn]=null}};function fl(t){this._internalRoot=t}fl.prototype.unstable_scheduleHydration=function(t){if(t){var e=vm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wn.length&&e!==0&&e<wn[n].priority;n++);wn.splice(n,0,t),n===0&&wm(t)}};function Bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wf(){}function x1(t,e,n,s,r){if(r){if(typeof s=="function"){var o=s;s=function(){var d=Ma(i);o.call(d)}}var i=Wx(e,s,t,0,null,!1,!1,"",wf);return t._reactRootContainer=i,t[cn]=i.current,jo(t.nodeType===8?t.parentNode:t),bs(),i}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var d=Ma(c);l.call(d)}}var c=Lu(t,0,!1,null,null,!1,!1,"",wf);return t._reactRootContainer=c,t[cn]=c.current,jo(t.nodeType===8?t.parentNode:t),bs(function(){hl(e,c,n,s)}),c}function gl(t,e,n,s,r){var o=n._reactRootContainer;if(o){var i=o;if(typeof r=="function"){var l=r;r=function(){var c=Ma(i);l.call(c)}}hl(e,i,t,r)}else i=x1(n,e,t,r,s);return Ma(i)}ym=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qr(e.pendingLanes);n!==0&&(iu(e,n|1),it(e,ve()),!(ee&6)&&(dr=ve()+500,qn()))}break;case 13:bs(function(){var s=dn(t,1);if(s!==null){var r=Xe();$t(s,t,1,r)}}),zu(t,1)}};au=function(t){if(t.tag===13){var e=dn(t,134217728);if(e!==null){var n=Xe();$t(e,t,134217728,n)}zu(t,134217728)}};bm=function(t){if(t.tag===13){var e=Mn(t),n=dn(t,e);if(n!==null){var s=Xe();$t(n,t,e,s)}zu(t,e)}};vm=function(){return ie};Sm=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};Bc=function(t,e,n){switch(e){case"input":if(Nc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=ol(s);if(!r)throw Error(z(90));Qg(s),Nc(s,r)}}}break;case"textarea":em(t,n);break;case"select":e=n.value,e!=null&&Xs(t,!!n.multiple,e,!1)}};am=Nu;lm=bs;var y1={usingClientEntryPoint:!1,Events:[Jo,Fs,ol,om,im,Nu]},Ar={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b1={bundleType:Ar.bundleType,version:Ar.version,rendererPackageName:Ar.rendererPackageName,rendererConfig:Ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=um(t),t===null?null:t.stateNode},findFiberByHostInstance:Ar.findFiberByHostInstance||m1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wi.isDisabled&&wi.supportsFiber)try{tl=wi.inject(b1),Yt=wi}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y1;gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bu(e))throw Error(z(200));return g1(t,e,null,n)};gt.createRoot=function(t,e){if(!Bu(t))throw Error(z(299));var n=!1,s="",r=Ux;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Lu(t,1,!1,null,null,n,!1,s,r),t[cn]=e.current,jo(t.nodeType===8?t.parentNode:t),new Fu(e)};gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=um(e),t=t===null?null:t.stateNode,t};gt.flushSync=function(t){return bs(t)};gt.hydrate=function(t,e,n){if(!pl(e))throw Error(z(200));return gl(null,t,e,!0,n)};gt.hydrateRoot=function(t,e,n){if(!Bu(t))throw Error(z(405));var s=n!=null&&n.hydratedSources||null,r=!1,o="",i=Ux;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=Wx(e,null,t,1,n??null,r,!1,o,i),t[cn]=e.current,jo(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new fl(e)};gt.render=function(t,e,n){if(!pl(e))throw Error(z(200));return gl(null,t,e,!1,n)};gt.unmountComponentAtNode=function(t){if(!pl(t))throw Error(z(40));return t._reactRootContainer?(bs(function(){gl(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1};gt.unstable_batchedUpdates=Nu;gt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!pl(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return gl(t,e,n,!1,s)};gt.version="18.3.1-next-f1338f8080-20240426";function Hx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hx)}catch(t){console.error(t)}}Hx(),Hg.exports=gt;var v1=Hg.exports,Vx,kf=v1;Vx=kf.createRoot,kf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Io(){return Io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Io.apply(this,arguments)}var Tn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tn||(Tn={}));const jf="popstate";function S1(t){t===void 0&&(t={});function e(s,r){let{pathname:o,search:i,hash:l}=s.location;return vd("",{pathname:o,search:i,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Oa(r)}return k1(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w1(){return Math.random().toString(36).substr(2,8)}function Cf(t,e){return{usr:t.state,key:t.key,idx:e}}function vd(t,e,n,s){return n===void 0&&(n=null),Io({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yr(e):e,{state:n,key:e&&e.key||s||w1()})}function Oa(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function yr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function k1(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:o=!1}=s,i=r.history,l=Tn.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Io({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function h(){l=Tn.Pop;let x=u(),b=x==null?null:x-d;d=x,c&&c({action:l,location:p.location,delta:b})}function f(x,b){l=Tn.Push;let y=vd(p.location,x,b);d=u()+1;let v=Cf(y,d),w=p.createHref(y);try{i.pushState(v,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(w)}o&&c&&c({action:l,location:p.location,delta:1})}function m(x,b){l=Tn.Replace;let y=vd(p.location,x,b);d=u();let v=Cf(y,d),w=p.createHref(y);i.replaceState(v,"",w),o&&c&&c({action:l,location:p.location,delta:0})}function g(x){let b=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof x=="string"?x:Oa(x);return y=y.replace(/ $/,"%20"),we(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let p={get action(){return l},get location(){return t(r,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(jf,h),c=x,()=>{r.removeEventListener(jf,h),c=null}},createHref(x){return e(r,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(x){return i.go(x)}};return p}var Tf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tf||(Tf={}));function j1(t,e,n){return n===void 0&&(n="/"),C1(t,e,n)}function C1(t,e,n,s){let r=typeof e=="string"?yr(e):e,o=Wu(r.pathname||"/",n);if(o==null)return null;let i=Kx(t);T1(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=L1(o);l=$1(i[c],d)}return l}function Kx(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Ln([s,c.relativePath]),u=n.concat(c);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Kx(o.children,e,u,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:I1(d,o.index),routesMeta:u})};return t.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))r(o,i);else for(let c of Yx(o.path))r(o,i,c)}),e}function Yx(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let i=Yx(s.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),r&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function T1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const E1=/^:[\w-]+$/,_1=3,R1=2,P1=1,D1=10,A1=-2,Ef=t=>t==="*";function I1(t,e){let n=t.split("/"),s=n.length;return n.some(Ef)&&(s+=A1),e&&(s+=R1),n.filter(r=>!Ef(r)).reduce((r,o)=>r+(E1.test(o)?_1:o===""?P1:D1),s)}function N1(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function $1(t,e,n){let{routesMeta:s}=t,r={},o="/",i=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=o==="/"?e:e.slice(o.length)||"/",h=M1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(r,h.params),i.push({params:r,pathname:Ln([o,h.pathname]),pathnameBase:W1(Ln([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=Ln([o,h.pathnameBase]))}return i}function M1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=O1(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],i=o.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let p=l[h]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:t}}function O1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function L1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function z1(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?yr(t):t;return{pathname:n?n.startsWith("/")?n:F1(n,e):e,search:U1(s),hash:H1(r)}}function F1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function rc(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Uu(t,e){let n=B1(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Hu(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=yr(t):(r=Io({},t),we(!r.pathname||!r.pathname.includes("?"),rc("?","pathname","search",r)),we(!r.pathname||!r.pathname.includes("#"),rc("#","pathname","hash",r)),we(!r.search||!r.search.includes("#"),rc("#","search","hash",r)));let o=t===""||r.pathname==="",i=o?"/":r.pathname,l;if(i==null)l=n;else{let h=e.length-1;if(!s&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=z1(r,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ln=t=>t.join("/").replace(/\/\/+/g,"/"),W1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Jx=["post","put","patch","delete"];new Set(Jx);const q1=["get",...Jx];new Set(q1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},No.apply(this,arguments)}const Vu=S.createContext(null),K1=S.createContext(null),Kn=S.createContext(null),ml=S.createContext(null),pn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Xx=S.createContext(null);function Y1(t,e){let{relative:n}=e===void 0?{}:e;br()||we(!1);let{basename:s,navigator:r}=S.useContext(Kn),{hash:o,pathname:i,search:l}=Zx(t,{relative:n}),c=i;return s!=="/"&&(c=i==="/"?s:Ln([s,i])),r.createHref({pathname:c,search:l,hash:o})}function br(){return S.useContext(ml)!=null}function Es(){return br()||we(!1),S.useContext(ml).location}function Gx(t){S.useContext(Kn).static||S.useLayoutEffect(t)}function Me(){let{isDataRoute:t}=S.useContext(pn);return t?aS():J1()}function J1(){br()||we(!1);let t=S.useContext(Vu),{basename:e,future:n,navigator:s}=S.useContext(Kn),{matches:r}=S.useContext(pn),{pathname:o}=Es(),i=JSON.stringify(Uu(r,n.v7_relativeSplatPath)),l=S.useRef(!1);return Gx(()=>{l.current=!0}),S.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=Hu(d,JSON.parse(i),o,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ln([e,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[e,s,i,o,t])}function Qx(){let{matches:t}=S.useContext(pn),e=t[t.length-1];return e?e.params:{}}function Zx(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=S.useContext(Kn),{matches:r}=S.useContext(pn),{pathname:o}=Es(),i=JSON.stringify(Uu(r,s.v7_relativeSplatPath));return S.useMemo(()=>Hu(t,JSON.parse(i),o,n==="path"),[t,i,o,n])}function X1(t,e){return G1(t,e)}function G1(t,e,n,s){br()||we(!1);let{navigator:r}=S.useContext(Kn),{matches:o}=S.useContext(pn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Es(),u;if(e){var h;let x=typeof e=="string"?yr(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||we(!1),u=x}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=j1(t,{pathname:m}),p=nS(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ln([c,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ln([c,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,s);return e&&p?S.createElement(ml.Provider,{value:{location:No({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Tn.Pop}},p):p}function Q1(){let t=iS(),e=V1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:r},n):null,null)}const Z1=S.createElement(Q1,null);class eS extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(pn.Provider,{value:this.props.routeContext},S.createElement(Xx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tS(t){let{routeContext:e,match:n,children:s}=t,r=S.useContext(Vu);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(pn.Provider,{value:e},s)}function nS(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let u=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||we(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,f)=>{let m,g=!1,p=null,x=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||Z1,c&&(d<0&&f===0?(lS("route-fallback"),g=!0,x=null):d===f&&(g=!0,x=h.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,f+1)),y=()=>{let v;return m?v=p:g?v=x:h.route.Component?v=S.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,S.createElement(tS,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(eS,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var ey=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ey||{}),ty=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ty||{});function sS(t){let e=S.useContext(Vu);return e||we(!1),e}function rS(t){let e=S.useContext(K1);return e||we(!1),e}function oS(t){let e=S.useContext(pn);return e||we(!1),e}function ny(t){let e=oS(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function iS(){var t;let e=S.useContext(Xx),n=rS(),s=ny();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function aS(){let{router:t}=sS(ey.UseNavigateStable),e=ny(ty.UseNavigateStable),n=S.useRef(!1);return Gx(()=>{n.current=!0}),S.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,No({fromRouteId:e},o)))},[t,e])}const _f={};function lS(t,e,n){_f[t]||(_f[t]=!0)}function cS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ks(t){let{to:e,replace:n,state:s,relative:r}=t;br()||we(!1);let{future:o,static:i}=S.useContext(Kn),{matches:l}=S.useContext(pn),{pathname:c}=Es(),d=Me(),u=Hu(e,Uu(l,o.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(u);return S.useEffect(()=>d(JSON.parse(h),{replace:n,state:s,relative:r}),[d,h,r,n,s]),null}function be(t){we(!1)}function dS(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Tn.Pop,navigator:o,static:i=!1,future:l}=t;br()&&we(!1);let c=e.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:c,navigator:o,static:i,future:No({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof s=="string"&&(s=yr(s));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=s,p=S.useMemo(()=>{let x=Wu(u,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:g},navigationType:r}},[c,u,h,f,m,g,r]);return p==null?null:S.createElement(Kn.Provider,{value:d},S.createElement(ml.Provider,{children:n,value:p}))}function uS(t){let{children:e,location:n}=t;return X1(Sd(e),n)}new Promise(()=>{});function Sd(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(s,r)=>{if(!S.isValidElement(s))return;let o=[...e,r];if(s.type===S.Fragment){n.push.apply(n,Sd(s.props.children,o));return}s.type!==be&&we(!1),!s.props.index||!s.props.children||we(!1);let i={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Sd(s.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},wd.apply(this,arguments)}function hS(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,o;for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function fS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pS(t,e){return t.button===0&&(!e||e==="_self")&&!fS(t)}function kd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function gS(t,e){let n=kd(t);return e&&e.forEach((s,r)=>{n.has(r)||e.getAll(r).forEach(o=>{n.append(r,o)})}),n}const mS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xS="6";try{window.__reactRouterVersion=xS}catch{}const yS="startTransition",Rf=cb[yS];function bS(t){let{basename:e,children:n,future:s,window:r}=t,o=S.useRef();o.current==null&&(o.current=S1({window:r,v5Compat:!0}));let i=o.current,[l,c]=S.useState({action:i.action,location:i.location}),{v7_startTransition:d}=s||{},u=S.useCallback(h=>{d&&Rf?Rf(()=>c(h)):c(h)},[c,d]);return S.useLayoutEffect(()=>i.listen(u),[i,u]),S.useEffect(()=>cS(s),[s]),S.createElement(dS,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:i,future:s})}const vS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qu=S.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,f=hS(e,mS),{basename:m}=S.useContext(Kn),g,p=!1;if(typeof d=="string"&&SS.test(d)&&(g=d,vS))try{let v=new URL(window.location.href),w=d.startsWith("//")?new URL(v.protocol+d):new URL(d),k=Wu(w.pathname,m);w.origin===v.origin&&k!=null?d=k+w.search+w.hash:p=!0}catch{}let x=Y1(d,{relative:r}),b=wS(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:r,viewTransition:h});function y(v){s&&s(v),v.defaultPrevented||b(v)}return S.createElement("a",wd({},f,{href:g||x,onClick:p||o?s:y,ref:n,target:c}))});var Pf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pf||(Pf={}));var Df;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Df||(Df={}));function wS(t,e){let{target:n,replace:s,state:r,preventScrollReset:o,relative:i,viewTransition:l}=e===void 0?{}:e,c=Me(),d=Es(),u=Zx(t,{relative:i});return S.useCallback(h=>{if(pS(h,n)){h.preventDefault();let f=s!==void 0?s:Oa(d)===Oa(u);c(t,{replace:f,state:r,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,u,s,r,n,t,o,i,l])}function kS(t){let e=S.useRef(kd(t)),n=S.useRef(!1),s=Es(),r=S.useMemo(()=>gS(s.search,n.current?null:e.current),[s.search]),o=Me(),i=S.useCallback((l,c)=>{const d=kd(typeof l=="function"?l(r):l);n.current=!0,o("?"+d,c)},[o,r]);return[r,i]}function sy(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=sy(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function us(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=sy(t))&&(s&&(s+=" "),s+=e);return s}function jS(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}jS(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Go=t=>typeof t=="number"&&!isNaN(t),vs=t=>typeof t=="string",hn=t=>typeof t=="function",CS=t=>vs(t)||Go(t),jd=t=>vs(t)||hn(t)?t:null,TS=(t,e)=>t===!1||Go(t)&&t>0?t:e,Cd=t=>S.isValidElement(t)||vs(t)||hn(t)||Go(t);function ES(t,e,n=300){let{scrollHeight:s,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=s+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function _S({enter:t,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:r=300}){return function({children:o,position:i,preventExitTransition:l,done:c,nodeRef:d,isIn:u,playToast:h}){let f=n?`${t}--${i}`:t,m=n?`${e}--${i}`:e,g=S.useRef(0);return S.useLayoutEffect(()=>{let p=d.current,x=f.split(" "),b=y=>{y.target===d.current&&(h(),p.removeEventListener("animationend",b),p.removeEventListener("animationcancel",b),g.current===0&&y.type!=="animationcancel"&&p.classList.remove(...x))};p.classList.add(...x),p.addEventListener("animationend",b),p.addEventListener("animationcancel",b)},[]),S.useEffect(()=>{let p=d.current,x=()=>{p.removeEventListener("animationend",x),s?ES(p,c,r):c()};u||(l?x():(g.current=1,p.className+=` ${m}`,p.addEventListener("animationend",x)))},[u]),oe.createElement(oe.Fragment,null,o)}}function Af(t,e){return{content:ry(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function ry(t,e,n=!1){return S.isValidElement(t)&&!vs(t.type)?S.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):hn(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function RS({closeToast:t,theme:e,ariaLabel:n="close"}){return oe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),t(!0)},"aria-label":n},oe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},oe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function PS({delay:t,isRunning:e,closeToast:n,type:s="default",hide:r,className:o,controlledProgress:i,progress:l,rtl:c,isIn:d,theme:u}){let h=r||i&&l===0,f={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};i&&(f.transform=`scaleX(${l})`);let m=us("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":c}),g=hn(o)?o({rtl:c,type:s,defaultClassName:m}):us(m,o),p={[i&&l>=1?"onTransitionEnd":"onAnimationEnd"]:i&&l<1?null:()=>{d&&n()}};return oe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},oe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${s}`}),oe.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:g,style:f,...p}))}var DS=1,oy=()=>`${DS++}`;function AS(t,e,n){let s=1,r=0,o=[],i=[],l=e,c=new Map,d=new Set,u=y=>(d.add(y),()=>d.delete(y)),h=()=>{i=Array.from(c.values()),d.forEach(y=>y())},f=({containerId:y,toastId:v,updateId:w})=>{let k=y?y!==t:t!==1,j=c.has(v)&&w==null;return k||j},m=(y,v)=>{c.forEach(w=>{var k;(v==null||v===w.props.toastId)&&((k=w.toggle)==null||k.call(w,y))})},g=y=>{var v,w;(w=(v=y.props)==null?void 0:v.onClose)==null||w.call(v,y.removalReason),y.isActive=!1},p=y=>{if(y==null)c.forEach(g);else{let v=c.get(y);v&&g(v)}h()},x=()=>{r-=o.length,o=[]},b=y=>{var v,w;let{toastId:k,updateId:j}=y.props,C=j==null;y.staleId&&c.delete(y.staleId),y.isActive=!0,c.set(k,y),h(),n(Af(y,C?"added":"updated")),C&&((w=(v=y.props).onOpen)==null||w.call(v))};return{id:t,props:l,observe:u,toggle:m,removeToast:p,toasts:c,clearQueue:x,buildToast:(y,v)=>{if(f(v))return;let{toastId:w,updateId:k,data:j,staleId:C,delay:T}=v,P=k==null;P&&r++;let R={...l,style:l.toastStyle,key:s++,...Object.fromEntries(Object.entries(v).filter(([M,U])=>U!=null)),toastId:w,updateId:k,data:j,isIn:!1,className:jd(v.className||l.toastClassName),progressClassName:jd(v.progressClassName||l.progressClassName),autoClose:v.isLoading?!1:TS(v.autoClose,l.autoClose),closeToast(M){c.get(w).removalReason=M,p(w)},deleteToast(){let M=c.get(w);if(M!=null){if(n(Af(M,"removed")),c.delete(w),r--,r<0&&(r=0),o.length>0){b(o.shift());return}h()}}};R.closeButton=l.closeButton,v.closeButton===!1||Cd(v.closeButton)?R.closeButton=v.closeButton:v.closeButton===!0&&(R.closeButton=Cd(l.closeButton)?l.closeButton:!0);let _={content:y,props:R,staleId:C};l.limit&&l.limit>0&&r>l.limit&&P?o.push(_):Go(T)?setTimeout(()=>{b(_)},T):b(_)},setProps(y){l=y},setToggle:(y,v)=>{let w=c.get(y);w&&(w.toggle=v)},isToastActive:y=>{var v;return(v=c.get(y))==null?void 0:v.isActive},getSnapshot:()=>i}}var Je=new Map,$o=[],Td=new Set,IS=t=>Td.forEach(e=>e(t)),iy=()=>Je.size>0;function NS(){$o.forEach(t=>ly(t.content,t.options)),$o=[]}var $S=(t,{containerId:e})=>{var n;return(n=Je.get(e||1))==null?void 0:n.toasts.get(t)};function ay(t,e){var n;if(e)return!!((n=Je.get(e))!=null&&n.isToastActive(t));let s=!1;return Je.forEach(r=>{r.isToastActive(t)&&(s=!0)}),s}function MS(t){if(!iy()){$o=$o.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||CS(t))Je.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Je.get(t.containerId);e?e.removeToast(t.id):Je.forEach(n=>{n.removeToast(t.id)})}}var OS=(t={})=>{Je.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function ly(t,e){Cd(t)&&(iy()||$o.push({content:t,options:e}),Je.forEach(n=>{n.buildToast(t,e)}))}function LS(t){var e;(e=Je.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function cy(t,e){Je.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function zS(t){let e=t.containerId||1;return{subscribe(n){let s=AS(e,t,IS);Je.set(e,s);let r=s.observe(n);return NS(),()=>{r(),Je.delete(e)}},setProps(n){var s;(s=Je.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=Je.get(e))==null?void 0:n.getSnapshot()}}}function FS(t){return Td.add(t),()=>{Td.delete(t)}}function BS(t){return t&&(vs(t.toastId)||Go(t.toastId))?t.toastId:oy()}function Qo(t,e){return ly(t,e),e.toastId}function xl(t,e){return{...e,type:e&&e.type||t,toastId:BS(e)}}function yl(t){return(e,n)=>Qo(e,xl(t,n))}function Y(t,e){return Qo(t,xl("default",e))}Y.loading=(t,e)=>Qo(t,xl("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function WS(t,{pending:e,error:n,success:s},r){let o;e&&(o=vs(e)?Y.loading(e,r):Y.loading(e.render,{...r,...e}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,u,h)=>{if(u==null){Y.dismiss(o);return}let f={type:d,...i,...r,data:h},m=vs(u)?{render:u}:u;return o?Y.update(o,{...f,...m}):Y(m.render,{...f,...m}),h},c=hn(t)?t():t;return c.then(d=>l("success",s,d)).catch(d=>l("error",n,d)),c}Y.promise=WS;Y.success=yl("success");Y.info=yl("info");Y.error=yl("error");Y.warning=yl("warning");Y.warn=Y.warning;Y.dark=(t,e)=>Qo(t,xl("default",{theme:"dark",...e}));function US(t){MS(t)}Y.dismiss=US;Y.clearWaitingQueue=OS;Y.isActive=ay;Y.update=(t,e={})=>{let n=$S(t,e);if(n){let{props:s,content:r}=n,o={delay:100,...s,...e,toastId:e.toastId||t,updateId:oy()};o.toastId!==t&&(o.staleId=t);let i=o.render||r;delete o.render,Qo(i,o)}};Y.done=t=>{Y.update(t,{progress:1})};Y.onChange=FS;Y.play=t=>cy(!0,t);Y.pause=t=>cy(!1,t);function HS(t){var e;let{subscribe:n,getSnapshot:s,setProps:r}=S.useRef(zS(t)).current;r(t);let o=(e=S.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function i(l){if(!o)return[];let c=new Map;return t.newestOnTop&&o.reverse(),o.forEach(d=>{let{position:u}=d.props;c.has(u)||c.set(u,[]),c.get(u).push(d)}),Array.from(c,d=>l(d[0],d[1]))}return{getToastToRender:i,isToastActive:ay,count:o==null?void 0:o.length}}function VS(t){let[e,n]=S.useState(!1),[s,r]=S.useState(!1),o=S.useRef(null),i=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:h}=t;LS({id:t.toastId,containerId:t.containerId,fn:n}),S.useEffect(()=>{if(t.pauseOnFocusLoss)return f(),()=>{m()}},[t.pauseOnFocusLoss]);function f(){document.hasFocus()||b(),window.addEventListener("focus",x),window.addEventListener("blur",b)}function m(){window.removeEventListener("focus",x),window.removeEventListener("blur",b)}function g(C){if(t.draggable===!0||t.draggable===C.pointerType){y();let T=o.current;i.canCloseOnClick=!0,i.canDrag=!0,T.style.transition="none",t.draggableDirection==="x"?(i.start=C.clientX,i.removalDistance=T.offsetWidth*(t.draggablePercent/100)):(i.start=C.clientY,i.removalDistance=T.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function p(C){let{top:T,bottom:P,left:R,right:_}=o.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&C.clientX>=R&&C.clientX<=_&&C.clientY>=T&&C.clientY<=P?b():x()}function x(){n(!0)}function b(){n(!1)}function y(){i.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",k)}function v(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",k)}function w(C){let T=o.current;if(i.canDrag&&T){i.didMove=!0,e&&b(),t.draggableDirection==="x"?i.delta=C.clientX-i.start:i.delta=C.clientY-i.start,i.start!==C.clientX&&(i.canCloseOnClick=!1);let P=t.draggableDirection==="x"?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`;T.style.transform=`translate3d(${P},0)`,T.style.opacity=`${1-Math.abs(i.delta/i.removalDistance)}`}}function k(){v();let C=o.current;if(i.canDrag&&i.didMove&&C){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance){r(!0),t.closeToast(!0),t.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let j={onPointerDown:g,onPointerUp:p};return l&&c&&(j.onMouseEnter=b,t.stacked||(j.onMouseLeave=x)),h&&(j.onClick=C=>{u&&u(C),i.canCloseOnClick&&d(!0)}),{playToast:x,pauseToast:b,isRunning:e,preventExitTransition:s,toastRef:o,eventHandlers:j}}var qS=typeof window<"u"?S.useLayoutEffect:S.useEffect,bl=({theme:t,type:e,isLoading:n,...s})=>oe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function KS(t){return oe.createElement(bl,{...t},oe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function YS(t){return oe.createElement(bl,{...t},oe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function JS(t){return oe.createElement(bl,{...t},oe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function XS(t){return oe.createElement(bl,{...t},oe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function GS(){return oe.createElement("div",{className:"Toastify__spinner"})}var Ed={info:YS,warning:KS,success:JS,error:XS,spinner:GS},QS=t=>t in Ed;function ZS({theme:t,type:e,isLoading:n,icon:s}){let r=null,o={theme:t,type:e};return s===!1||(hn(s)?r=s({...o,isLoading:n}):S.isValidElement(s)?r=S.cloneElement(s,o):n?r=Ed.spinner():QS(e)&&(r=Ed[e](o))),r}var ew=t=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:r,playToast:o}=VS(t),{closeButton:i,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:h,closeToast:f,transition:m,position:g,className:p,style:x,progressClassName:b,updateId:y,role:v,progress:w,rtl:k,toastId:j,deleteToast:C,isIn:T,isLoading:P,closeOnClick:R,theme:_,ariaLabel:M}=t,U=us("Toastify__toast",`Toastify__toast-theme--${_}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":R}),F=hn(p)?p({rtl:k,position:g,type:u,defaultClassName:U}):us(U,p),O=ZS(t),I=!!w||!c,N={closeToast:f,type:u,theme:_},E=null;return i===!1||(hn(i)?E=i(N):S.isValidElement(i)?E=S.cloneElement(i,N):E=RS(N)),oe.createElement(m,{isIn:T,done:C,position:g,preventExitTransition:n,nodeRef:s,playToast:o},oe.createElement("div",{id:j,tabIndex:0,onClick:d,"data-in":T,className:F,...r,style:x,ref:s,...T&&{role:v,"aria-label":M}},O!=null&&oe.createElement("div",{className:us("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},O),ry(l,t,!e),E,!t.customProgressBar&&oe.createElement(PS,{...y&&!I?{key:`p-${y}`}:{},rtl:k,theme:_,delay:c,isRunning:e,isIn:T,closeToast:f,hide:h,type:u,className:b,controlledProgress:I,progress:w||0})))},tw=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),nw=_S(tw("bounce",!0)),sw={position:"top-right",transition:nw,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function rw(t){let e={...sw,...t},n=t.stacked,[s,r]=S.useState(!0),o=S.useRef(null),{getToastToRender:i,isToastActive:l,count:c}=HS(e),{className:d,style:u,rtl:h,containerId:f,hotKeys:m}=e;function g(x){let b=us("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":h});return hn(d)?d({position:x,rtl:h,defaultClassName:b}):us(b,jd(d))}function p(){n&&(r(!0),Y.play())}return qS(()=>{var x;if(n){let b=o.current.querySelectorAll('[data-in="true"]'),y=12,v=(x=e.position)==null?void 0:x.includes("top"),w=0,k=0;Array.from(b).reverse().forEach((j,C)=>{let T=j;T.classList.add("Toastify__toast--stacked"),C>0&&(T.dataset.collapsed=`${s}`),T.dataset.pos||(T.dataset.pos=v?"top":"bot");let P=w*(s?.2:1)+(s?0:y*C);T.style.setProperty("--y",`${v?P:P*-1}px`),T.style.setProperty("--g",`${y}`),T.style.setProperty("--s",`${1-(s?k:0)}`),w+=T.offsetHeight,k+=.025})}},[s,c,n]),S.useEffect(()=>{function x(b){var y;let v=o.current;m(b)&&((y=v.querySelector('[tabIndex="0"]'))==null||y.focus(),r(!1),Y.pause()),b.key==="Escape"&&(document.activeElement===v||v!=null&&v.contains(document.activeElement))&&(r(!0),Y.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[m]),oe.createElement("section",{ref:o,className:"Toastify",id:f,onMouseEnter:()=>{n&&(r(!1),Y.pause())},onMouseLeave:p,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},i((x,b)=>{let y=b.length?{...u}:{...u,pointerEvents:"none"};return oe.createElement("div",{tabIndex:-1,className:g(x),"data-stacked":n,style:y,key:`c-${x}`},b.map(({content:v,props:w})=>oe.createElement(ew,{...w,stacked:n,collapseAll:p,isIn:l(w.toastId,w.containerId),key:`t-${w.key}`},v)))}))}const K=t=>typeof t=="string",Ir=()=>{let t,e;const n=new Promise((s,r)=>{t=s,e=r});return n.resolve=t,n.reject=e,n},If=t=>t==null?"":""+t,ow=(t,e,n)=>{t.forEach(s=>{e[s]&&(n[s]=e[s])})},iw=/###/g,Nf=t=>t&&t.indexOf("###")>-1?t.replace(iw,"."):t,$f=t=>!t||K(t),lo=(t,e,n)=>{const s=K(e)?e.split("."):e;let r=0;for(;r<s.length-1;){if($f(t))return{};const o=Nf(s[r]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++r}return $f(t)?{}:{obj:t,k:Nf(s[r])}},Mf=(t,e,n)=>{const{obj:s,k:r}=lo(t,e,Object);if(s!==void 0||e.length===1){s[r]=n;return}let o=e[e.length-1],i=e.slice(0,e.length-1),l=lo(t,i,Object);for(;l.obj===void 0&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),l=lo(t,i,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${o}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${o}`]=n},aw=(t,e,n,s)=>{const{obj:r,k:o}=lo(t,e,Object);r[o]=r[o]||[],r[o].push(n)},La=(t,e)=>{const{obj:n,k:s}=lo(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},lw=(t,e,n)=>{const s=La(t,n);return s!==void 0?s:La(e,n)},dy=(t,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?K(t[s])||t[s]instanceof String||K(e[s])||e[s]instanceof String?n&&(t[s]=e[s]):dy(t[s],e[s],n):t[s]=e[s]);return t},As=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var cw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const dw=t=>K(t)?t.replace(/[&<>"'\/]/g,e=>cw[e]):t;class uw{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const hw=[" ",",","?","!",";"],fw=new uw(20),pw=(t,e,n)=>{e=e||"",n=n||"";const s=hw.filter(i=>e.indexOf(i)<0&&n.indexOf(i)<0);if(s.length===0)return!0;const r=fw.getRegExp(`(${s.map(i=>i==="?"?"\\?":i).join("|")})`);let o=!r.test(t);if(!o){const i=t.indexOf(n);i>0&&!r.test(t.substring(0,i))&&(o=!0)}return o},_d=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(n);let r=t;for(let o=0;o<s.length;){if(!r||typeof r!="object")return;let i,l="";for(let c=o;c<s.length;++c)if(c!==o&&(l+=n),l+=s[c],i=r[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<s.length-1)continue;o+=c-o+1;break}r=i}return r},Mo=t=>t==null?void 0:t.replace("_","-"),gw={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,s;(s=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||s.call(n,console,e)}};class za{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||gw,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,r){return r&&!this.debug?null:(K(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new za(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new za(this.logger,e)}}var Kt=new za;class vl{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(n)||0;this.observers[s].set(n,r+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,o])=>{for(let i=0;i<o;i++)r(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,o])=>{for(let i=0;i<o;i++)r.apply(r,[e,...n])})}}class Of extends vl{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s,r={}){var d,u;const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,i=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],s&&(Array.isArray(s)?l.push(...s):K(s)&&o?l.push(...s.split(o)):l.push(s)));const c=La(this.data,l);return!c&&!n&&!s&&e.indexOf(".")>-1&&(e=l[0],n=l[1],s=l.slice(2).join(".")),c||!i||!K(s)?c:_d((u=(d=this.data)==null?void 0:d[e])==null?void 0:u[n],s,o)}addResource(e,n,s,r,o={silent:!1}){const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let l=[e,n];s&&(l=l.concat(i?s.split(i):s)),e.indexOf(".")>-1&&(l=e.split("."),r=n,n=l[1]),this.addNamespaces(n),Mf(this.data,l,r),o.silent||this.emit("added",e,n,s,r)}addResources(e,n,s,r={silent:!1}){for(const o in s)(K(s[o])||Array.isArray(s[o]))&&this.addResource(e,n,o,s[o],{silent:!0});r.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,r,o,i={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),r=s,s=n,n=l[1]),this.addNamespaces(n);let c=La(this.data,l)||{};i.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?dy(c,s,o):c={...c,...s},Mf(this.data,l,c),i.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var uy={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,s,r){return t.forEach(o=>{var i;e=((i=this.processors[o])==null?void 0:i.process(e,n,s,r))??e}),e}};const hy=Symbol("i18next/PATH_KEY");function mw(){const t=[],e=Object.create(null);let n;return e.get=(s,r)=>{var o;return(o=n==null?void 0:n.revoke)==null||o.call(n),r===hy?t:(t.push(r),n=Proxy.revocable(s,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Rd(t,e){const{[hy]:n}=t(mw());return n.join((e==null?void 0:e.keySeparator)??".")}const Lf={},oc=t=>!K(t)&&typeof t!="boolean"&&typeof t!="number";class Fa extends vl{constructor(e,n={}){super(),ow(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Kt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const s={...n};if(e==null)return!1;const r=this.resolve(e,s);if((r==null?void 0:r.res)===void 0)return!1;const o=oc(r.res);return!(s.returnObjects===!1&&o)}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const i=s&&e.indexOf(s)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!pw(e,s,r);if(i&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:K(o)?[o]:o};const d=e.split(s);(s!==r||s===r&&this.options.ns.indexOf(d[0])>-1)&&(o=d.shift()),e=d.join(r)}return{key:e,namespaces:K(o)?[o]:o}}translate(e,n,s){let r=typeof n=="object"?{...n}:n;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=Rd(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const o=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],r),d=c[c.length-1];let u=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const h=r.lng||this.language,f=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return f?o?{res:`${d}${u}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(r)}:`${d}${u}${l}`:o?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(r)}:l;const m=this.resolve(e,r);let g=m==null?void 0:m.res;const p=(m==null?void 0:m.usedKey)||l,x=(m==null?void 0:m.exactUsedKey)||l,b=["[object Number]","[object Function]","[object RegExp]"],y=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,w=r.count!==void 0&&!K(r.count),k=Fa.hasDefaultValue(r),j=w?this.pluralResolver.getSuffix(h,r.count,r):"",C=r.ordinal&&w?this.pluralResolver.getSuffix(h,r.count,{ordinal:!1}):"",T=w&&!r.ordinal&&r.count===0,P=T&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${j}`]||r[`defaultValue${C}`]||r.defaultValue;let R=g;v&&!g&&k&&(R=P);const _=oc(R),M=Object.prototype.toString.apply(R);if(v&&R&&_&&b.indexOf(M)<0&&!(K(y)&&Array.isArray(R))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,R,{...r,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return o?(m.res=U,m.usedParams=this.getUsedParamsDetails(r),m):U}if(i){const U=Array.isArray(R),F=U?[]:{},O=U?x:p;for(const I in R)if(Object.prototype.hasOwnProperty.call(R,I)){const N=`${O}${i}${I}`;k&&!g?F[I]=this.translate(N,{...r,defaultValue:oc(P)?P[I]:void 0,joinArrays:!1,ns:c}):F[I]=this.translate(N,{...r,joinArrays:!1,ns:c}),F[I]===N&&(F[I]=R[I])}g=F}}else if(v&&K(y)&&Array.isArray(g))g=g.join(y),g&&(g=this.extendTranslation(g,e,r,s));else{let U=!1,F=!1;!this.isValidLookup(g)&&k&&(U=!0,g=P),this.isValidLookup(g)||(F=!0,g=l);const I=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:g,N=k&&P!==g&&this.options.updateMissing;if(F||U||N){if(this.logger.log(N?"updateKey":"missingKey",h,d,l,N?P:g),i){const B=this.resolve(l,{...r,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let E=[];const $=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let B=0;B<$.length;B++)E.push($[B]);else this.options.saveMissingTo==="all"?E=this.languageUtils.toResolveHierarchy(r.lng||this.language):E.push(r.lng||this.language);const L=(B,q,G)=>{var ae;const X=k&&G!==g?G:I;this.options.missingKeyHandler?this.options.missingKeyHandler(B,d,q,X,N,r):(ae=this.backendConnector)!=null&&ae.saveMissing&&this.backendConnector.saveMissing(B,d,q,X,N,r),this.emit("missingKey",B,d,q,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?E.forEach(B=>{const q=this.pluralResolver.getSuffixes(B,r);T&&r[`defaultValue${this.options.pluralSeparator}zero`]&&q.indexOf(`${this.options.pluralSeparator}zero`)<0&&q.push(`${this.options.pluralSeparator}zero`),q.forEach(G=>{L([B],l+G,r[`defaultValue${G}`]||P)})}):L(E,l,P))}g=this.extendTranslation(g,e,r,m,s),F&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${d}${u}${l}`),(F||U)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${l}`:l,U?g:void 0,r))}return o?(m.res=g,m.usedParams=this.getUsedParamsDetails(r),m):g}extendTranslation(e,n,s,r,o){var c,d;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const u=K(e)&&(((d=s==null?void 0:s.interpolation)==null?void 0:d.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const m=e.match(this.interpolator.nestingRegexp);h=m&&m.length}let f=s.replace&&!K(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,s.lng||this.language||r.usedLng,s),u){const m=e.match(this.interpolator.nestingRegexp),g=m&&m.length;h<g&&(s.nest=!1)}!s.lng&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>(o==null?void 0:o[0])===m[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),s)),s.interpolation&&this.interpolator.reset()}const i=s.postProcess||this.options.postProcess,l=K(i)?[i]:i;return e!=null&&(l!=null&&l.length)&&s.applyPostProcessor!==!1&&(e=uy.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,n={}){let s,r,o,i,l;return K(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(s))return;const d=this.extractFromKey(c,n),u=d.key;r=u;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=n.count!==void 0&&!K(n.count),m=f&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(K(n.context)||typeof n.context=="number")&&n.context!=="",p=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(x=>{var b,y;this.isValidLookup(s)||(l=x,!Lf[`${p[0]}-${x}`]&&((b=this.utils)!=null&&b.hasLoadedNamespace)&&!((y=this.utils)!=null&&y.hasLoadedNamespace(l))&&(Lf[`${p[0]}-${x}`]=!0,this.logger.warn(`key "${r}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(v=>{var j;if(this.isValidLookup(s))return;i=v;const w=[u];if((j=this.i18nFormat)!=null&&j.addLookupKeys)this.i18nFormat.addLookupKeys(w,u,v,x,n);else{let C;f&&(C=this.pluralResolver.getSuffix(v,n.count,n));const T=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(n.ordinal&&C.indexOf(P)===0&&w.push(u+C.replace(P,this.options.pluralSeparator)),w.push(u+C),m&&w.push(u+T)),g){const R=`${u}${this.options.contextSeparator||"_"}${n.context}`;w.push(R),f&&(n.ordinal&&C.indexOf(P)===0&&w.push(R+C.replace(P,this.options.pluralSeparator)),w.push(R+C),m&&w.push(R+T))}}let k;for(;k=w.pop();)this.isValidLookup(s)||(o=k,s=this.getResource(v,x,k,n))}))})}),{res:s,usedKey:r,exactUsedKey:o,usedLng:i,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s,r={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,s,r):this.resourceStore.getResource(e,n,s,r)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!K(e.replace);let r=s?e.replace:e;if(s&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const o of n)delete r[o]}return r}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}class zf{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Kt.create("languageUtils")}getScriptPartFromCode(e){if(e=Mo(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Mo(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(K(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(n=r)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const r=this.getScriptPartFromCode(s);if(this.isSupportedCode(r))return n=r;const o=this.getLanguagePartFromCode(s);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&(i.indexOf("-")>0&&o.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===o||i.indexOf(o)===0&&o.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),K(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),r=[],o=i=>{i&&(this.isSupportedCode(i)?r.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return K(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):K(e)&&o(this.formatLanguageCode(e)),s.forEach(i=>{r.indexOf(i)<0&&o(this.formatLanguageCode(i))}),r}}const Ff={zero:0,one:1,two:2,few:3,many:4,other:5},Bf={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class xw{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Kt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const s=Mo(e==="dev"?"en":e),r=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:s,type:r});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(s,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Bf;if(!e.match(/-|_/))return Bf;const c=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(c,n)}return this.pluralRulesCache[o]=i,i}needsPlural(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,s={}){return this.getSuffixes(e,s).map(r=>`${n}${r}`)}getSuffixes(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((r,o)=>Ff[r]-Ff[o]).map(r=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,n,s={}){const r=this.getRule(e,s);return r?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,s))}}const Wf=(t,e,n,s=".",r=!0)=>{let o=lw(t,e,n);return!o&&r&&K(n)&&(o=_d(t,n,s),o===void 0&&(o=_d(e,n,s))),o},ic=t=>t.replace(/\$/g,"$$$$");class yw{constructor(e={}){var n;this.logger=Kt.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(s=>s),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:r,prefix:o,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:x,maxReplaces:b,alwaysFormat:y}=e.interpolation;this.escape=n!==void 0?n:dw,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=o?As(o):i||"{{",this.suffix=l?As(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?As(f):m||As("$t("),this.nestingSuffix=g?As(g):p||As(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=b||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>(n==null?void 0:n.source)===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,s,r){var m;let o,i,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=g=>{if(g.indexOf(this.formatSeparator)<0){const y=Wf(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,s,{...r,...n,interpolationkey:g}):y}const p=g.split(this.formatSeparator),x=p.shift().trim(),b=p.join(this.formatSeparator).trim();return this.format(Wf(n,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),b,s,{...r,...n,interpolationkey:x})};this.resetRegExp();const u=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((m=r==null?void 0:r.interpolation)==null?void 0:m.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>ic(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?ic(this.escape(g)):ic(g)}].forEach(g=>{for(l=0;o=g.regex.exec(e);){const p=o[1].trim();if(i=d(p),i===void 0)if(typeof u=="function"){const b=u(e,o,r);i=K(b)?b:""}else if(r&&Object.prototype.hasOwnProperty.call(r,p))i="";else if(h){i=o[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),i="";else!K(i)&&!this.useRawValueToEscape&&(i=If(i));const x=g.safeValue(i);if(e=e.replace(o[0],x),h?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,s={}){let r,o,i;const l=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const h=c.split(new RegExp(`${u}[ ]*{`));let f=`{${h[1]}`;c=h[0],f=this.interpolate(f,i);const m=f.match(/'/g),g=f.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(f=f.replace(/'/g,'"'));try{i=JSON.parse(f),d&&(i={...d,...i})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${u}${f}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];i={...s},i=i.replace&&!K(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const d=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(d!==-1&&(c=r[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),r[1]=r[1].slice(0,d)),o=n(l.call(this,r[1].trim(),i),i),o&&r[0]===e&&!K(o))return o;K(o)||(o=If(o)),o||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),o=""),c.length&&(o=c.reduce((u,h)=>this.format(u,h,s.lng,{...s,interpolationkey:r[1].trim()}),o.trim())),e=e.replace(r[0],o),this.regexp.lastIndex=0}return e}}const bw=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);e==="currency"&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(i=>{if(i){const[l,...c]=i.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();n[u]||(n[u]=d),d==="false"&&(n[u]=!1),d==="true"&&(n[u]=!0),isNaN(d)||(n[u]=parseInt(d,10))}})}return{formatName:e,formatOptions:n}},Uf=t=>{const e={};return(n,s,r)=>{let o=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(o={...o,[r.interpolationkey]:void 0});const i=s+JSON.stringify(o);let l=e[i];return l||(l=t(Mo(s),r),e[i]=l),l(n)}},vw=t=>(e,n,s)=>t(Mo(n),s)(e);class Sw{constructor(e={}){this.logger=Kt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?Uf:vw;this.formats={number:s((r,o)=>{const i=new Intl.NumberFormat(r,{...o});return l=>i.format(l)}),currency:s((r,o)=>{const i=new Intl.NumberFormat(r,{...o,style:"currency"});return l=>i.format(l)}),datetime:s((r,o)=>{const i=new Intl.DateTimeFormat(r,{...o});return l=>i.format(l)}),relativetime:s((r,o)=>{const i=new Intl.RelativeTimeFormat(r,{...o});return l=>i.format(l,o.range||"day")}),list:s((r,o)=>{const i=new Intl.ListFormat(r,{...o});return l=>i.format(l)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Uf(n)}format(e,n,s,r={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(l=>l.indexOf(")")>-1)){const l=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,l)].join(this.formatSeparator)}return o.reduce((l,c)=>{var h;const{formatName:d,formatOptions:u}=bw(c);if(this.formats[d]){let f=l;try{const m=((h=r==null?void 0:r.formatParams)==null?void 0:h[r.interpolationkey])||{},g=m.locale||m.lng||r.locale||r.lng||s;f=this.formats[d](l,g,{...u,...r,...m})}catch(m){this.logger.warn(m)}return f}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const ww=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class kw extends vl{constructor(e,n,s,r={}){var o,i;super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=Kt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(i=(o=this.backend)==null?void 0:o.init)==null||i.call(o,s,r.backend,r)}queueLoad(e,n,s,r){const o={},i={},l={},c={};return e.forEach(d=>{let u=!0;n.forEach(h=>{const f=`${d}|${h}`;!s.reload&&this.store.hasResourceBundle(d,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?i[f]===void 0&&(i[f]=!0):(this.state[f]=1,u=!1,i[f]===void 0&&(i[f]=!0),o[f]===void 0&&(o[f]=!0),c[h]===void 0&&(c[h]=!0)))}),u||(l[d]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,n,s){const r=e.split("|"),o=r[0],i=r[1];n&&this.emit("failedLoading",o,i,n),!n&&s&&this.store.addResourceBundle(o,i,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const l={};this.queue.forEach(c=>{aw(c.loaded,[o],i),ww(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const u=c.loaded[d];u.length&&u.forEach(h=>{l[d][h]===void 0&&(l[d][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,n,s,r=0,o=this.retryTimeout,i){if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:r,wait:o,callback:i});return}this.readingCalls++;const l=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&u&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,r+1,o*2,i)},o);return}i(d,u)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const d=c(e,n);d&&typeof d.then=="function"?d.then(u=>l(null,u)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,n,l)}prepareLoading(e,n,s={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();K(e)&&(e=this.languageUtils.toResolveHierarchy(e)),K(n)&&(n=[n]);const o=this.queueLoad(e,n,s,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach(i=>{this.loadOne(i)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e,n=""){const s=e.split("|"),r=s[0],o=s[1];this.read(r,o,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${n}loading namespace ${o} for language ${r} failed`,i),!i&&l&&this.logger.log(`${n}loaded namespace ${o} for language ${r}`,l),this.loaded(e,i,l)})}saveMissing(e,n,s,r,o,i={},l=()=>{}){var c,d,u,h,f;if((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace&&!((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((f=this.backend)!=null&&f.create){const m={...i,isUpdate:o},g=this.backend.create.bind(this.backend);if(g.length<6)try{let p;g.length===5?p=g(e,n,s,r,m):p=g(e,n,s,r),p&&typeof p.then=="function"?p.then(x=>l(null,x)).catch(l):l(null,p)}catch(p){l(p)}else g(e,n,s,r,l,m)}!e||!e[0]||this.store.addResource(e[0],n,s,r)}}}const Hf=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),K(t[1])&&(e.defaultValue=t[1]),K(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Vf=t=>{var e,n;return K(t.ns)&&(t.ns=[t.ns]),K(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),K(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},ki=()=>{},jw=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Oo extends vl{constructor(e={},n){if(super(),this.options=Vf(e),this.services={},this.logger=Kt,this.modules={external:[]},jw(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(K(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=Hf();this.options={...s,...this.options,...Vf(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Kt.init(r(this.modules.logger),this.options):Kt.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=Sw;const u=new zf(this.options);this.store=new Of(this.options.resources,this.options);const h=this.services;h.logger=Kt,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new xw(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(h.formatter=r(d),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new yw(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new kw(r(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(h.languageDetector=r(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=r(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Fa(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ki),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const l=Ir(),c=()=>{const d=(u,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(u,h)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,n=ki){var o,i;let s=n;const r=K(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};r?c(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>c(u)),(i=(o=this.options.preload)==null?void 0:o.forEach)==null||i.call(o,d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(e,n,s){const r=Ir();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=ki),this.services.backendConnector.reload(e,n,o=>{r.resolve(),s(o)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&uy.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const s=Ir();this.emit("languageChanging",e);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?this.isLanguageChangingTo===e&&(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve((...d)=>this.t(...d)),n&&n(l,(...d)=>this.t(...d))},i=l=>{var u,h;!e&&!l&&this.services.languageDetector&&(l=[]);const c=K(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(K(l)?[l]:l);d&&(this.language||r(d),this.translator.language||this.translator.changeLanguage(d),(h=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||h.call(u,d)),this.loadResources(d,f=>{o(f,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e),s}getFixedT(e,n,s){const r=(o,i,...l)=>{let c;typeof i!="object"?c=this.options.overloadTranslationOptionHandler([o,i].concat(l)):c={...i},c.lng=c.lng||r.lng,c.lngs=c.lngs||r.lngs,c.ns=c.ns||r.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||s||r.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(o)?u=o.map(h=>(typeof h=="function"&&(h=Rd(h,{...this.options,...i})),`${c.keyPrefix}${d}${h}`)):(typeof o=="function"&&(o=Rd(o,{...this.options,...i})),u=c.keyPrefix?`${c.keyPrefix}${d}${o}`:o),this.t(u,c)};return K(e)?r.lng=e:r.lngs=e,r.ns=n,r.keyPrefix=s,r}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(n.precheck){const l=n.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(s,e)&&(!r||i(o,e)))}loadNamespaces(e,n){const s=Ir();return this.options.ns?(K(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),n&&n(r)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=Ir();K(e)&&(e=[e]);const r=this.options.preload||[],o=e.filter(i=>r.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return o.length?(this.options.preload=r.concat(o),this.loadResources(i=>{s.resolve(),n&&n(i)}),s):(n&&n(),Promise.resolve())}dir(e){var r,o;if(e||(e=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const l=i.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((o=this.services)==null?void 0:o.languageUtils)||new zf(Hf());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Oo(e,n)}cloneInstance(e={},n=ki){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new Oo(r);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},s){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,h)=>(u[h]={...c[d][h]},u),c[d]),c),{});o.store=new Of(l,r),o.services.resourceStore=o.store}return o.translator=new Fa(o.services,r),o.translator.on("*",(l,...c)=>{o.emit(l,...c)}),o.init(r,n),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ke=Oo.createInstance();Ke.createInstance=Oo.createInstance;Ke.createInstance;Ke.dir;Ke.init;Ke.loadResources;Ke.reloadResources;Ke.use;Ke.changeLanguage;Ke.getFixedT;Ke.t;Ke.exists;Ke.setDefaultNamespace;Ke.hasLoadedNamespace;Ke.loadNamespaces;Ke.loadLanguages;const Cw=(t,e,n,s)=>{var o,i,l,c;const r=[n,{code:e,...s||{}}];if((i=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&i.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);Ss(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(c=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&c.warn?t.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},qf={},fy=(t,e,n,s)=>{Ss(n)&&qf[n]||(Ss(n)&&(qf[n]=new Date),Cw(t,e,n,s))},py=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Pd=(t,e,n)=>{t.loadNamespaces(e,py(t,n))},Kf=(t,e,n,s)=>{if(Ss(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Pd(t,n,s);n.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,py(t,s))},Tw=(t,e,n={})=>!e.languages||!e.languages.length?(fy(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!r(s.isLanguageChangingTo,t))return!1}}),Ss=t=>typeof t=="string",Ew=t=>typeof t=="object"&&t!==null,_w=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Rw={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Pw=t=>Rw[t],Dw=t=>t.replace(_w,Pw);let Dd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Dw};const Aw=(t={})=>{Dd={...Dd,...t}},Iw=()=>Dd;let gy;const Nw=t=>{gy=t},$w=()=>gy,Mw={type:"3rdParty",init(t){Aw(t.options.react),Nw(t)}},Ow=S.createContext();class Lw{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var my={exports:{}},xy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ur=S;function zw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fw=typeof Object.is=="function"?Object.is:zw,Bw=ur.useState,Ww=ur.useEffect,Uw=ur.useLayoutEffect,Hw=ur.useDebugValue;function Vw(t,e){var n=e(),s=Bw({inst:{value:n,getSnapshot:e}}),r=s[0].inst,o=s[1];return Uw(function(){r.value=n,r.getSnapshot=e,ac(r)&&o({inst:r})},[t,n,e]),Ww(function(){return ac(r)&&o({inst:r}),t(function(){ac(r)&&o({inst:r})})},[t]),Hw(n),n}function ac(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fw(t,n)}catch{return!0}}function qw(t,e){return e()}var Kw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qw:Vw;xy.useSyncExternalStore=ur.useSyncExternalStore!==void 0?ur.useSyncExternalStore:Kw;my.exports=xy;var Yw=my.exports;const Jw=(t,e)=>Ss(e)?e:Ew(e)&&Ss(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Xw={t:Jw,ready:!1},Gw=()=>()=>{},yy=(t,e={})=>{var w,k;const{i18n:n}=e,{i18n:s,defaultNS:r}=S.useContext(Ow)||{},o=n||s||$w();o&&!o.reportNamespaces&&(o.reportNamespaces=new Lw),o||fy(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=S.useMemo(()=>{var j;return{...Iw(),...(j=o==null?void 0:o.options)==null?void 0:j.react,...e}},[o,e]),{useSuspense:l,keyPrefix:c}=i,d=S.useMemo(()=>{var C;const j=t||r||((C=o==null?void 0:o.options)==null?void 0:C.defaultNS);return Ss(j)?[j]:j||["translation"]},[t,r,o]);(k=(w=o==null?void 0:o.reportNamespaces)==null?void 0:w.addUsedNamespaces)==null||k.call(w,d);const u=S.useRef(0),h=S.useCallback(j=>{if(!o)return Gw;const{bindI18n:C,bindI18nStore:T}=i,P=()=>{u.current+=1,j()};return C&&o.on(C,P),T&&o.store.on(T,P),()=>{C&&C.split(" ").forEach(R=>o.off(R,P)),T&&T.split(" ").forEach(R=>o.store.off(R,P))}},[o,i]),f=S.useRef(),m=S.useCallback(()=>{if(!o)return Xw;const j=!!(o.isInitialized||o.initializedStoreOnce)&&d.every(M=>Tw(M,o,i)),C=e.lng||o.language,T=u.current,P=f.current;if(P&&P.ready===j&&P.lng===C&&P.keyPrefix===c&&P.revision===T)return P;const _={t:o.getFixedT(C,i.nsMode==="fallback"?d:d[0],c),ready:j,lng:C,keyPrefix:c,revision:T};return f.current=_,_},[o,d,c,i,e.lng]),[g,p]=S.useState(0),{t:x,ready:b}=Yw.useSyncExternalStore(h,m,m);S.useEffect(()=>{if(o&&!b&&!l){const j=()=>p(C=>C+1);e.lng?Kf(o,e.lng,d,j):Pd(o,d,j)}},[o,e.lng,d,b,l,g]);const y=o||{},v=S.useMemo(()=>{const j=[x,y,b];return j.t=x,j.i18n=y,j.ready=b,j},[x,y,b]);if(o&&l&&!b)throw new Promise(j=>{const C=()=>j();e.lng?Kf(o,e.lng,d,C):Pd(o,d,C)});return v},Qw="Bienvenue",Zw="Sauvegarder",ek="Tester",tk="Recharger",nk="Chargement...",sk="Succs",rk="Erreur",ok="Actif",ik="Inactif",ak="Annuler",lk="Confirmer",ck="Statut",dk="Modifier",uk="Voir",hk="Rechercher",fk="Filtrer",pk="Tous",gk="Oui",mk="Non",xk="Tableau de bord",yk="Profil",bk="Ma Socit",vk="Paramtres",Sk="Accueil",wk="Retour",kk="Suivant",jk="Prcdent",Ck="Crer",Tk="Mettre  jour",Ek="Soumettre",_k="Requis",Rk="Optionnel",Pk="Statut",Dk="Date",Ak="Heure",Ik="Actions",Nk="Interventions",$k="Demandes",Mk="Inconnu",Ok="Date invalide",Lk="N/A",zk="Dtails",Fk="Page",Bk="sur",Wk="fr-FR",Uk="Rinitialiser",Hk="Aller  la page",Vk="Premire",qk="Dernire",Kk="Premire page",Yk="Dernire page",Jk="Ressayer",Xk={OPEN:"Ouvert",IN_PROGRESS:"En cours",CLOSED:"Cltur",PENDING:"En attente",OUVERT:"Ouvert",EN_COURS:"En cours",CLOTURE:"Cltur",EN_ATTENTE:"En attente",Ouvert:"Ouvert","En cours":"En cours",Cltur:"Cltur","En attente":"En attente",ouvert:"Ouvert","en cours":"En cours",cltur:"Cltur","en attente":"En attente","Planifi":"Planifi","Rsolu":"Rsolu","Clotur":"Cltur",Planifi:"Planifi",Rsolu:"Rsolu",Clotur:"Clotur"},Gk="Janvier",Qk="Fvrier",Zk="Mars",e2="Avril",t2="Mai",n2="Juin",s2="Juillet",r2="Aot",o2="Septembre",i2="Octobre",a2="Novembre",l2="Dcembre",c2="Lundi",d2="Mardi",u2="Mercredi",h2="Jeudi",f2="Vendredi",p2="Samedi",g2="Dimanche",m2="Retour  la liste",x2="Donnes rafrachies",y2="Assignation...",b2="Mise  jour...",v2="Ajout...",S2="Rafrachir",w2="Non assign",k2="Non spcifi",j2="Jamais",C2={loadingError:"Erreur lors du chargement des donnes",actionFailed:"Action choue",refreshFailed:"Erreur lors du rafrachissement"},T2="Dsactiver",E2="Aucune donne disponible",_2={jan:"Jan",feb:"Fv",mar:"Mar",apr:"Avr",may:"Mai",jun:"Juin",jul:"Juil",aug:"Ao",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dc"},R2={welcome:Qw,save:Zw,test:ek,reload:tk,loading:nk,success:sk,error:rk,active:ok,inactive:ik,cancel:ak,confirm:lk,delete:"Supprimer",statut:ck,edit:dk,view:uk,search:hk,filter:fk,all:pk,yes:gk,no:mk,dashboard:xk,profile:yk,myCompany:bk,settings:vk,home:Sk,back:wk,next:kk,previous:jk,create:Ck,update:Tk,submit:Ek,required:_k,optional:Rk,status:Pk,date:Dk,time:Ak,actions:Ik,interventions:Nk,demandes:$k,unknown:Mk,invalidDate:Ok,notAvailable:Lk,details:zk,page:Fk,of:Bk,locale:Wk,reset:Uk,goToPage:Hk,first:Vk,last:qk,firstPage:Kk,lastPage:Yk,retry:Jk,statusTicket:Xk,january:Gk,february:Qk,march:Zk,april:e2,may:t2,june:n2,july:s2,august:r2,september:o2,october:i2,november:a2,december:l2,monday:c2,tuesday:d2,wednesday:u2,thursday:h2,friday:f2,saturday:p2,sunday:g2,backToList:m2,dataRefreshed:x2,assigning:y2,updating:b2,adding:v2,refresh:S2,notAssigned:w2,notSpecified:k2,never:j2,errors:C2,deactivate:T2,noDataAvailable:E2,months:_2},P2="Chargement des demandes...",D2="Recherche en cours...",A2="demande(s) trouve(s)",I2="Gestion des Demandes",N2="Rfrence",$2="Nouvelle demande",M2="Socit",O2="Produit",L2="Mes demandes",z2="Description",F2="Date cration",B2="Non dfinie",W2="Non spcifi",U2="Aucune description",H2="Aucune demande trouve avec les critres slectionns",V2="Tous les tats",q2="Toutes les priorits",K2="Rechercher par rfrence",Y2="Rechercher par produit",J2="Rechercher par socit",X2="Date dbut",G2="Date fin",Q2={label:"Statut",new:"Nouveau",inProgress:"En cours",pending:"En attente",waitingClient:"En attente client",scheduled:"Planifi",resolved:"Rsolu",closed:"Cltur"},Z2={label:"Priorit",low:"Basse",normal:"Normale",high:"Haute",urgent:"Urgente"},ej="Chargement des dtails du ticket...",tj="Ticket non trouv",nj="Informations Client",sj="Nom du contact",rj="Tlphone",oj="Informations du Ticket",ij="Catgorie",aj="Agent assign",lj="Source",cj="Dernire mise  jour",dj="Pices jointes",uj="Solutions",hj="Interactions",fj="Cr le",pj={loadingRequests:P2,searching:D2,requestsFound:A2,requestsManagement:I2,reference:N2,newTicket:$2,company:M2,product:O2,myTickets:L2,description:z2,creationDate:F2,companyNotDefined:B2,productNotSpecified:W2,noDescription:U2,noRequestsFound:H2,allStatuses:V2,allPriorities:q2,searchByReference:K2,searchByProduct:Y2,searchByCompany:J2,startDate:X2,endDate:G2,status:Q2,priority:Z2,loadingTicketDetails:ej,ticketNotFound:tj,clientInfo:nj,contactName:sj,phone:rj,ticketInfo:oj,category:ij,assignedAgent:aj,source:lj,lastUpdate:cj,attachments:dj,solutions:uj,interactions:hj,createdOn:fj},gj={title:"Configuration WhatsApp Business API",configName:"Nom de la configuration",apiUrl:"URL de l'API",apiKey:"Cl API 360dialog",apiKeyHelp:"Cl API fournie par 360dialog (doit tre chiffre)",phoneId:"ID du numro de tlphone",phoneIdHelp:"ID du numro WhatsApp Business configur dans 360dialog",businessId:"ID du compte Business (optionnel)",webhookUrl:"URL Webhook (optionnel)",webhookUrlHelp:"URL o votre application reoit les statuts des messages",webhookToken:"Token Webhook (optionnel)",description:"Description (optionnel)",activeConfig:"Configuration active",saveSuccess:"Configuration WhatsApp sauvegarde avec succs!",saveError:"Erreur lors de la sauvegarde",testSuccess:"Test russi! Configuration WhatsApp valide.",testError:"chec du test",testFirstSave:"Veuillez d'abord sauvegarder la configuration avant de tester",guideTitle:" Guide de configuration 360dialog",guideText:"Pour configurer WhatsApp Business API :",guideStep1:"Crer un compte sur 360dialog",guideStep2:"Obtenir votre Cl API depuis le dashboard 360dialog",guideStep3:"Configurer un numro WhatsApp Business",guideStep4:"Rcuprer l'ID du numro de tlphone depuis 360dialog",guideStep5:"Pour les webhooks, configurer l'URL de callback dans les paramtres 360dialog",guideStep6:"Le token webhook doit correspondre  celui configur dans 360dialog"},mj={title:"Configuration SMTP",server:"Serveur SMTP",port:"Port",email:"Email (utilisateur)",password:"Mot de passe (App Password)",passwordHelp:"Pour Gmail, utilisez un App Password et non votre mot de passe principal",testEmail:"Tester l'envoi d'email"},xj={title:"Paramtres gnraux",companyName:"Nom de l'entreprise",language:"Langue",timezone:"Fuseau horaire",dateFormat:"Format de date"},yj={whatsapp:gj,smtp:mj,general:xj},bj="Administration",vj="Utilisateurs",Sj="Rapports",wj="Configurations",kj="Gestion des utilisateurs",jj="Statistiques",Cj="Systme",Tj="Sauvegarde",Ej="Journaux",_j="Gestion des utilisateurs",Rj="Gestion des rles",Pj="Permissions",Dj="Sant du systme",Aj="Performance",Ij="Monitoring",Nj="Gestion des Demandes",$j="Dtails du Ticket",Mj="Assigner un Agent",Oj="Changer le Statut",Lj="Ajouter une Note Interne",zj="Agent assign avec succs",Fj="Statut mis  jour avec succs",Bj="Note interne ajoute",Wj="Informations du Ticket",Uj="Informations Supplmentaires",Hj="Historique d'Activit",Vj="Actuellement assign",qj="Slectionner un Agent",Kj="Choisir un agent",Yj="Aucune spcialit",Jj="Veuillez slectionner un agent",Xj="Nouveau Statut",Gj="Choisir un statut",Qj="Statut Actuel",Zj="Commentaire pour le changement de statut",eC="Commentaire optionnel expliquant le changement de statut...",tC="Veuillez slectionner un statut",nC="Mettre  jour le Statut",sC="Pour le ticket",rC="Cette note sera uniquement visible par les administrateurs et ne sera pas envoye au client.",oC="Contenu de la note",iC="Saisissez votre note interne ici...",aC="Veuillez saisir une note",lC="Ajouter la Note",cC={email:"Email",phone:"Tlphone",internalNote:"Note Interne",system:"Systme"},dC="Visible par le client",uC="Note interne",hC="Aucune interaction pour le moment",fC="Aucune pice jointe",pC="Aucune solution pour le moment",gC="tes-vous sr de vouloir supprimer cette interaction ?",mC="Interaction supprime avec succs",xC="Temps de rsolution",yC={admin:bj,users:vj,reports:Sj,configurations:wj,gestionUtilisateurs:kj,statistics:jj,system:Cj,backup:Tj,logs:Ej,userManagement:_j,roleManagement:Rj,permissions:Pj,systemHealth:Dj,performance:Aj,monitoring:Ij,demandesManagement:Nj,ticketDetails:$j,assignAgent:Mj,changeStatus:Oj,addInternalNote:Lj,agentAssignedSuccess:zj,statusUpdatedSuccess:Fj,internalNoteAdded:Bj,ticketInformation:Wj,additionalInfo:Uj,activityHistory:Hj,currentlyAssigned:Vj,selectAgent:qj,chooseAgent:Kj,noSpecialty:Yj,selectAgentRequired:Jj,newStatus:Xj,chooseStatus:Gj,currentStatus:Qj,statusChangeComment:Zj,commentPlaceholder:eC,selectStatusRequired:tC,updateStatus:nC,forTicket:sC,internalNoteWarning:rC,noteContent:oC,notePlaceholder:iC,noteRequired:aC,addNote:lC,interactionTypes:cC,visibleToClient:dC,internalNote:uC,noInteractions:hC,noAttachments:fC,noSolutions:pC,confirmDeleteInteraction:gC,interactionDeleted:mC,resolutionTime:xC},bC="Regle mot de passe",vC="Portail client",SC="Identifiez-vous",wC="Se dconnecter",kC="Adresse email",jC="Votre adresse email",CC="Mot de passe",TC="Votre mot de passe",EC="Se connecter",_C="Connexion...",RC="Mot de passe oubli?",PC={title:"Comptes de dmonstration",client:"Client",clientDescription:"Accs aux fonctionnalits client",consultant:"Consultant",consultantDescription:"Gestion des tickets et interventions",admin:"Administrateur",adminDescription:"Accs complet  l'administration"},DC="Vrification en 2 tapes",AC="Entrez le code de vrification  4 chiffres envoy  votre adresse email",IC="Veuillez saisir le code complet",NC="Code rgnr avec succs",$C="Erreur lors du renvoi du code",MC="Vrification...",OC="Vrifier",LC="Renvoyer le code",zC="Retour  la connexion",FC={title:"Portail Client OPTIMADA",description:"Grez vos demandes de support, consultez l'historique de vos interventions et accdez  tous vos services en un seul endroit.",features:{feature2:{title:"Suivi en temps rel",description:"Suivez l'avancement de vos demandes"},feature3:{title:"Interface intuitive",description:"Navigation simple et efficace"}}},BC="Envoyer le lien de rinitialisation",WC="Un email de rinitialisation a t envoy",UC="Erreur lors de l'envoi de l'email",HC="Veuillez entrer votre email pour rinitialiser votre mot de passe",VC="Entrez votre email et nous vous enverrons un lien pour rinitialiser votre mot de passe",qC="Envoi en cours...",KC="Rinitialiser le mot de passe",YC="Nouveau mot de passe",JC="Confirmer le mot de passe",XC="Entrez votre nouveau mot de passe",GC="Confirmez votre nouveau mot de passe",QC="Le mot de passe doit contenir au moins 6 caractres",ZC="Les mots de passe ne correspondent pas",eT="Mot de passe rinitialis avec succs! Redirection...",tT="Erreur lors de la rinitialisation du mot de passe",nT="Lien de rinitialisation invalide ou expir",sT="Lien invalide",rT="Erreur lors de la validation du lien",oT="Validation du lien en cours...",iT="Rinitialisation...",aT={test:bC,clientPortal:vC,login:SC,logout:wC,email:kC,emailPlaceholder:jC,password:CC,passwordPlaceholder:TC,signIn:EC,signingIn:_C,forgotPassword:RC,demo:PC,verificationTitle:DC,verificationDescription:AC,completeCodeError:IC,codeRegenerated:NC,regenerateError:$C,verifying:MC,verify:OC,resendCode:LC,backToLogin:zC,hero:FC,sendResetLink:BC,resetEmailSent:WC,resetEmailError:UC,enterEmailForReset:HC,resetInstructions:VC,sending:qC,resetPassword:KC,newPassword:YC,confirmPassword:JC,newPasswordPlaceholder:XC,confirmPasswordPlaceholder:GC,passwordMinLength:QC,passwordsDoNotMatch:ZC,passwordResetSuccess:eT,passwordResetError:tT,invalidResetToken:nT,invalidResetTokenTitle:sT,resetTokenValidationError:rT,validatingToken:oT,resetting:iT},lT="Tableau de bord",cT="Bon retour",dT="Aperu",uT="Activit rcente",hT="Actions rapides",fT="Statistiques",pT="Aperu des demandes",gT="Aperu des interventions",mT="Utilisateurs en ligne",xT="Statut du systme",yT="Aujourd'hui",bT="Cette semaine",vT="Ce mois",ST="Temps de rponse moyen",wT="Rpartition par statut",kT="volution des tickets",jT="Performance consultants",CT="Tickets Clos",TT="Tickets En Cours",ET="Total Tickets",_T="Tickets Ouverts",RT="En Cours",PT="Clturs",DT="Companies",AT="Consultants",IT="Interventions Planifies",NT="Chargement du dashboard admin...",$T="Performance quipe",MT="Dure de traitement moyenne",OT="Rpartition des dlais",LT="jours",zT="heures",FT="Rapides",BT="Normaux",WT="Lents",UT="Aucune donne disponible",HT="Tickets Rcents",VT="Rfrence",qT="Titre",KT="Statut",YT="Date",JT="Aucun ticket rcent",XT="Chargement de votre tableau de bord...",GT="Dure de traitement :",QT="Rpartition par produit :",ZT="Crdits Horaires",eE="Chargement des crdits horaires...",tE="Aucun produit disponible",nE="Produit",sE="Disponible",rE="Consomm",oE="Reste",iE="Tickets",aE="Statistiques de l'quipe",lE="Performances moyennes",cE="Tickets clturs totaux",dE="Interventions totales",uE="Moyenne",hE="Dures de traitement globales",fE="Indicateur de performance",pE="En jours",gE="Taux de rsolution",mE={dashboard:lT,welcomeBack:cT,overview:dT,recentActivity:uT,quickActions:hT,statistics:fT,ticketsOverview:pT,interventionsOverview:gT,usersOnline:mT,systemStatus:xT,today:yT,thisWeek:bT,thisMonth:vT,averageResponse:ST,statusDistribution:wT,ticketsEvolution:kT,consultantsPerformance:jT,closedTickets:CT,ticketsInProgress:TT,totalTickets:ET,openTickets:_T,inProgress:RT,closed:PT,companies:DT,consultants:AT,scheduledInterventions:IT,loadingAdminDashboard:NT,teamPerformance:$T,averageProcessingTime:MT,delaysDistribution:OT,days:LT,hours:zT,fast:FT,normal:BT,slow:WT,noDataAvailable:UT,recentTickets:HT,reference:VT,title:qT,status:KT,date:YT,noRecentTickets:JT,loadingDashboard:XT,processingTime:GT,productDistribution:QT,hourlyCredits:ZT,loadingCredits:eE,noProductsAvailable:tE,product:nE,available:sE,consumed:rE,remaining:oE,tickets:iE,teamStats:aE,averagePerformance:lE,totalClosedTickets:cE,totalInterventions:dE,average:uE,globalProcessingTimes:hE,performanceIndicator:fE,inDays:pE,resolutionRate:gE},xE={title:"Templates de Notification",new:"Nouveau Template",empty:"Aucun template disponible"},yE={noSelection:"Aucun template slectionn",selectOrCreate:"Slectionnez un template dans la liste ou crez-en un nouveau",createTitle:"Crer un Template",editTitle:"Modifier le Template",code:"Code",canal:"Canal",sujet:"Sujet",contenuHtml:"Contenu HTML",test:"Tester le Template",testResult:"Rsultat du test"},bE={code:"Code du Template",libelle:"Libell",libellePlaceholder:"Ex: Cration de ticket",canal:"Canal de notification",sujet:"Sujet du message",sujetPlaceholder:"Ex: Nouveau Ticket - {reference}",contenuHtml:"Contenu HTML",contenuHtmlPlaceholder:"Saisissez le contenu HTML du template...",variablesHelp:"Utilisez {variable} pour les placeholders dynamiques (ex: {reference}, {utilisateur}, {titre})",active:"Template actif"},vE={list:xE,details:yE,form:bE},SE="Chargement des statuts de synchronisation...",wE="Erreur de chargement",kE="tat des Synchronisations CRM",jE="Actualiser",CE="Les synchronisations planifies s'excutent automatiquement selon la configuration cron",TE="En cours",EE="Arrt demand",_E="Inactive",RE="Companies",PE="Crdits horaires",DE="Personnes",AE="Produits",IE="Tickets",NE="Solutions",$E="Liaisons solutions-tickets",ME="Dernire sync",OE={loadingSyncStatus:SE,loadingError:wE,crmSyncStatus:kE,refresh:jE,scheduledSyncInfo:CE,inProgress:TE,stopRequested:EE,inactive:_E,companies:RE,timeCredits:PE,people:DE,products:AE,tickets:IE,solutions:NE,solutionTicketLinks:$E,lastSync:ME},LE="Recherche",zE="Nom, prnom, email...",FE="Date dbut",BE="Date fin",WE="Identifiant",UE="Nom",HE="Prnom",VE="Email",qE="Mot de passe",KE="Tlphone",YE="Crer l'utilisateur",JE="Poste",XE="Socit",GE="Date de cration",QE="Anciennet",ZE="Non dfinie",e_="Client",t_="Consultant",n_="Voir dtails",s_="Liste des utilisateurs",r_="Nouvel utilisateur",o_="Dtails de l'utilisateur",i_="an",a_="ans",l_={search:LE,searchPlaceholder:zE,startDate:FE,endDate:BE,username:WE,lastName:UE,firstName:HE,email:VE,password:qE,phone:KE,createUser:YE,position:JE,company:XE,creationDate:GE,seniority:QE,notDefined:ZE,client:e_,consultant:t_,viewDetails:n_,userList:s_,newUser:r_,userDetails:o_,year_one:i_,year_other:a_},c_="volution de l'activit",d_="Satisfaction client",u_="Performance des consultants",h_="Aucune donne d'activit disponible pour la priode slectionne",f_="Aucune donne de satisfaction disponible",p_="Aucune donne de performance disponible pour la priode slectionne",g_="Type de rapport",m_="Activit gnrale",x_="Date dbut",y_="Date fin",b_="Gnration...",v_="Gnrer le rapport",S_="ce mois",w_="Total demandes",k_="Taux de rsolution",j_="Temps moyen rponse",C_="Demandes rsolues",T_="Chargement...",E_="Demandes cres",__="Demandes rsolues",R_="Trs satisfait",P_="Satisfait",D_="Neutre",A_="Insatisfait",I_="Trs insatisfait",N_="Tickets rsolus",$_="Rapports et Statistiques",M_="Afficher le mois en cours",O_="Exporter en PDF",L_="Exporter en Excel",z_={activityEvolution:c_,customerSatisfaction:d_,consultantPerformance:u_,noActivityData:h_,noSatisfactionData:f_,noPerformanceData:p_,reportType:g_,generalActivity:m_,startDate:x_,endDate:y_,generating:b_,generateReport:v_,thisMonth:S_,totalRequests:w_,resolutionRate:k_,averageResponseTime:j_,resolvedRequests:C_,loading:T_,requestsCreated:E_,requestsResolved:__,verySatisfied:R_,satisfied:P_,neutral:D_,unsatisfied:A_,veryUnsatisfied:I_,ticketsResolved:N_,reportsAndStatistics:$_,showCurrentMonth:M_,exportPDF:O_,exportExcel:L_},F_="Solution OK",B_="Solution KO",W_="Solution valide avec succs",U_="Solution rejete avec succs",H_="Ticket cltur avec succs",V_="Expliquez le problme rencontr",q_="Dcrivez pourquoi cette solution ne fonctionne pas...",K_="Soumettre le problme",lc={solutionOK:F_,solutionKO:B_,solutionValidated:W_,solutionRejected:U_,ticketClosed:H_,explainIssue:V_,commentPlaceholder:q_,submitIssue:K_},Y_="Welcome",J_="Save",X_="Test",G_="Reload",Q_="Loading...",Z_="Success",eR="Error",tR="Active",nR="Statut",sR="Inactive",rR="Cancel",oR="Confirm",iR="Edit",aR="View",lR="Search",cR="Filter",dR="All",uR="Yes",hR="No",fR="Dashboard",pR="Profile",gR="My Company",mR="Settings",xR="Home",yR="Back",bR="Next",vR="Previous",SR="Create",wR="Update",kR="Submit",jR="Required",CR="Optional",TR="Status",ER="Date",_R="Time",RR="Actions",PR="Interventions",DR="Requests",AR="Unknown",IR="Invalid date",NR="N/A",$R="Details",MR="Page",OR="of",LR="en-US",zR="Reset",FR="Go to page",BR="First",WR="Last",UR="First page",HR="Last page",VR="Retry",qR={OPEN:"Open",IN_PROGRESS:"In Progress",CLOSED:"Closed",PENDING:"Pending",OUVERT:"Open",EN_COURS:"In Progress",CLOTURE:"Closed",EN_ATTENTE:"Pending",Ouvert:"Open","En cours":"In Progress",Cltur:"Closed","En attente":"Pending",ouvert:"Open","en cours":"In Progress",cltur:"Closed","en attente":"Pending","Planifi":"Planned","Rsolu":"Resolved","Clotur":"Closed",Planifi:"Planned",Rsolu:"Resolved",Clotur:"Closed"},KR="January",YR="February",JR="March",XR="April",GR="May",QR="June",ZR="July",eP="August",tP="September",nP="October",sP="November",rP="December",oP="Monday",iP="Tuesday",aP="Wednesday",lP="Thursday",cP="Friday",dP="Saturday",uP="Sunday",hP="Back to list",fP="Data refreshed",pP="Assigning...",gP="Updating...",mP="Adding...",xP="Refresh",yP="Not assigned",bP="Not specified",vP="Never",SP={loadingError:"Error loading data",actionFailed:"Action failed",refreshFailed:"Refresh failed"},wP="Disable",kP={welcome:Y_,save:J_,test:X_,reload:G_,loading:Q_,success:Z_,error:eR,active:tR,statut:nR,inactive:sR,cancel:rR,confirm:oR,delete:"Delete",edit:iR,view:aR,search:lR,filter:cR,all:dR,yes:uR,no:hR,dashboard:fR,profile:pR,myCompany:gR,settings:mR,home:xR,back:yR,next:bR,previous:vR,create:SR,update:wR,submit:kR,required:jR,optional:CR,status:TR,date:ER,time:_R,actions:RR,interventions:PR,demandes:DR,unknown:AR,invalidDate:IR,notAvailable:NR,details:$R,page:MR,of:OR,locale:LR,reset:zR,goToPage:FR,first:BR,last:WR,firstPage:UR,lastPage:HR,retry:VR,statusTicket:qR,january:KR,february:YR,march:JR,april:XR,may:GR,june:QR,july:ZR,august:eP,september:tP,october:nP,november:sP,december:rP,monday:oP,tuesday:iP,wednesday:aP,thursday:lP,friday:cP,saturday:dP,sunday:uP,backToList:hP,dataRefreshed:fP,assigning:pP,updating:gP,adding:mP,refresh:xP,notAssigned:yP,notSpecified:bP,never:vP,errors:SP,deactivate:wP},jP="Loading requests...",CP="Searching...",TP="request(s) found",EP="Requests Management",_P="Reference",RP="New request",PP="Company",DP="Product",AP="My tickets",IP="Description",NP="Creation date",$P="Not defined",MP="Not specified",OP="No description",LP="No requests found with selected criteria",zP="All statuses",FP="All priorities",BP="Search by reference",WP="Search by product",UP="Search by company",HP="Start date",VP="End date",qP={label:"Status",new:"New",inProgress:"In progress",pending:"Pending",waitingClient:"Waiting client",scheduled:"Scheduled",resolved:"Resolved",closed:"Closed"},KP={label:"Priority",low:"Low",normal:"Normal",high:"High",urgent:"Urgent"},YP="Loading ticket details...",JP="Ticket not found",XP="Client Information",GP="Contact name",QP="Phone",ZP="Ticket Information",eD="Category",tD="Assigned agent",nD="Source",sD="Last update",rD="Attachments",oD="Solutions",iD="Interactions",aD="Created on",lD={loadingRequests:jP,searching:CP,requestsFound:TP,requestsManagement:EP,reference:_P,newTicket:RP,company:PP,product:DP,myTickets:AP,description:IP,creationDate:NP,companyNotDefined:$P,productNotSpecified:MP,noDescription:OP,noRequestsFound:LP,allStatuses:zP,allPriorities:FP,searchByReference:BP,searchByProduct:WP,searchByCompany:UP,startDate:HP,endDate:VP,status:qP,priority:KP,loadingTicketDetails:YP,ticketNotFound:JP,clientInfo:XP,contactName:GP,phone:QP,ticketInfo:ZP,category:eD,assignedAgent:tD,source:nD,lastUpdate:sD,attachments:rD,solutions:oD,interactions:iD,createdOn:aD},cD={title:"WhatsApp Business API Configuration",configName:"Configuration name",apiUrl:"API URL",apiKey:"360dialog API Key",apiKeyHelp:"API key provided by 360dialog (should be encrypted)",phoneId:"Phone number ID",phoneIdHelp:"WhatsApp Business phone number ID configured in 360dialog",businessId:"Business account ID (optional)",webhookUrl:"Webhook URL (optional)",webhookUrlHelp:"URL where your app receives message statuses",webhookToken:"Webhook token (optional)",description:"Description (optional)",activeConfig:"Active configuration",saveSuccess:"WhatsApp configuration saved successfully!",saveError:"Error while saving",testSuccess:"Test successful! WhatsApp configuration validated.",testError:"Test failed",testFirstSave:"Please save the configuration first before testing",guideTitle:" 360dialog Configuration Guide",guideText:"To configure WhatsApp Business API:",guideStep1:"Create an account on 360dialog",guideStep2:"Get your API Key from 360dialog dashboard",guideStep3:"Configure a WhatsApp Business number",guideStep4:"Retrieve Phone number ID from 360dialog",guideStep5:"For webhooks, configure callback URL in 360dialog settings",guideStep6:"Webhook token must match the one configured in 360dialog"},dD={title:"SMTP Configuration",server:"SMTP Server",port:"Port",email:"Email (username)",password:"Password (App Password)",passwordHelp:"For Gmail, use an App Password instead of your main password",testEmail:"Test email sending"},uD={title:"General Settings",companyName:"Company name",language:"Language",timezone:"Timezone",dateFormat:"Date format"},hD={whatsapp:cD,smtp:dD,general:uD},fD="Administration",pD="Users",gD="Reports",mD="Configurations",xD="User management",yD="Statistics",bD="System",vD="Backup",SD="Logs",wD="User management",kD="Role management",jD="Permissions",CD="System health",TD="Performance",ED="Monitoring",_D="Requests Management",RD="Ticket Details",PD="Assign Agent",DD="Change Status",AD="Add Internal Note",ID="Agent assigned successfully",ND="Status updated successfully",$D="Internal note added",MD="Ticket Information",OD="Additional Information",LD="Activity History",zD="Currently assigned",FD="Select Agent",BD="Choose an agent",WD="No specialty",UD="Please select an agent",HD="New Status",VD="Choose a status",qD="Current Status",KD="Comment for status change",YD="Optional comment explaining the status change...",JD="Please select a status",XD="Update Status",GD="For ticket",QD="This note will only be visible to administrators and will not be sent to the client.",ZD="Note content",eA="Enter your internal note here...",tA="Please enter a note",nA="Add Note",sA={email:"Email",phone:"Phone",internalNote:"Internal Note",system:"System"},rA="Visible to client",oA="Internal note",iA="No interactions yet",aA="No attachments",lA="No solutions yet",cA="Are you sure you want to delete this interaction?",dA="Interaction deleted successfully",uA="Resolution time",hA={admin:fD,users:pD,reports:gD,configurations:mD,gestionUtilisateurs:xD,statistics:yD,system:bD,backup:vD,logs:SD,userManagement:wD,roleManagement:kD,permissions:jD,systemHealth:CD,performance:TD,monitoring:ED,demandesManagement:_D,ticketDetails:RD,assignAgent:PD,changeStatus:DD,addInternalNote:AD,agentAssignedSuccess:ID,statusUpdatedSuccess:ND,internalNoteAdded:$D,ticketInformation:MD,additionalInfo:OD,activityHistory:LD,currentlyAssigned:zD,selectAgent:FD,chooseAgent:BD,noSpecialty:WD,selectAgentRequired:UD,newStatus:HD,chooseStatus:VD,currentStatus:qD,statusChangeComment:KD,commentPlaceholder:YD,selectStatusRequired:JD,updateStatus:XD,forTicket:GD,internalNoteWarning:QD,noteContent:ZD,notePlaceholder:eA,noteRequired:tA,addNote:nA,interactionTypes:sA,visibleToClient:rA,internalNote:oA,noInteractions:iA,noAttachments:aA,noSolutions:lA,confirmDeleteInteraction:cA,interactionDeleted:dA,resolutionTime:uA},fA="password rules",pA="Client Portal",gA="Login",mA="Logout",xA="Email address",yA="Your email address",bA="Password",vA="Your password",SA="Sign in",wA="Signing in...",kA="Forgot password?",jA={title:"Demo Accounts",client:"Client",clientDescription:"Access to client features",consultant:"Consultant",consultantDescription:"Manage tickets and interventions",admin:"Administrator",adminDescription:"Full administrative access"},CA="2-Step Verification",TA="Enter the 4-digit verification code sent to your email address",EA="Please enter the complete code",_A="Code regenerated successfully",RA="Error while resending code",PA="Verifying...",DA="Verify",AA="Resend code",IA="Back to login",NA={title:"OPTIMADA Client Portal",description:"Manage your support requests, view your intervention history and access all your services in one place.",features:{feature2:{title:"Real-time Tracking",description:"Track the progress of your requests"},feature3:{title:"Intuitive Interface",description:"Simple and efficient navigation"}}},$A={test:fA,clientPortal:pA,login:gA,logout:mA,email:xA,emailPlaceholder:yA,password:bA,passwordPlaceholder:vA,signIn:SA,signingIn:wA,forgotPassword:kA,demo:jA,verificationTitle:CA,verificationDescription:TA,completeCodeError:EA,codeRegenerated:_A,regenerateError:RA,verifying:PA,verify:DA,resendCode:AA,backToLogin:IA,hero:NA},MA="Dashboard",OA="Welcome back",LA="Overview",zA="Recent activity",FA="Quick actions",BA="Statistics",WA="Tickets overview",UA="Interventions overview",HA="Users online",VA="System status",qA="Today",KA="This week",YA="This month",JA="Average response time",XA="Status Distribution",GA="Tickets Evolution",QA="Consultants Performance",ZA="Closed Tickets",eI="Tickets In Progress",tI="Total Tickets",nI="Open Tickets",sI="In Progress",rI="Closed",oI="Companies",iI="Consultants",aI="Scheduled Interventions",lI="Loading admin dashboard...",cI="Team Performance",dI="Average Processing Time",uI="Delays Distribution",hI="days",fI="hours",pI="Fast",gI="Normal",mI="Slow",xI="No data available",yI="Recent Tickets",bI="Reference",vI="Title",SI="Status",wI="Date",kI="No recent tickets",jI={dashboard:MA,welcomeBack:OA,overview:LA,recentActivity:zA,quickActions:FA,statistics:BA,ticketsOverview:WA,interventionsOverview:UA,usersOnline:HA,systemStatus:VA,today:qA,thisWeek:KA,thisMonth:YA,averageResponse:JA,"charts.repartitionParStatut":"Distribution by status","charts.evolutionTickets":"Ticket evolution","charts.performanceConsultants":"Consultant performance","error.title":"Error","error.retry":"Retry","loading.dashboardAdmin":"Loading admin dashboard...","stats.totalTickets":"Total tickets","stats.ticketsOuverts":"Open tickets","stats.ticketsEnCours":"In progress","stats.ticketsClotures":"Closed","stats.companies":"Companies","stats.consultants":"Consultants","stats.interventionsPlanifiees":"Scheduled interventions","performanceTeam.title":"Team performance","performanceTeam.avgDuration":"Average processing time","performanceTeam.distribution":"Processing time distribution","performanceTeam.rapides":"Fast (< 24h)","performanceTeam.normaux":"Normal (1-3 days)","performanceTeam.lents":"Slow (> 3 days)","performanceTeam.noData":"No data available","recentTickets.title":"Recent tickets","recentTickets.reference":"Reference","recentTickets.titre":"Title","recentTickets.statut":"Status","recentTickets.date":"Date","recentTickets.noTickets":"No recent tickets","synchronisationStatus.loading":"Loading synchronization statuses...","synchronisationStatus.errorTitle":"Loading error","synchronisationStatus.retry":"Retry","synchronisationStatus.header":"CRM Synchronization Status","synchronisationStatus.refresh":"Refresh","synchronisationStatus.tip":" Scheduled synchronizations run automatically according to the cron configuration","syncStatusCard.status.enCours":"In progress","syncStatusCard.status.arretDemande":"Stop requested","syncStatusCard.status.inactive":"Inactive","syncStatusCard.lastSync":"Last sync","syncStatusCard.types.companies":"Companies","syncStatusCard.types.creditsHoraires":"Hour credits","syncStatusCard.types.personnes":"People","syncStatusCard.types.produits":"Products","syncStatusCard.types.tickets":"Tickets","syncStatusCard.types.solutions":"Solutions","syncStatusCard.types.liaisonsSolutionsTickets":"SolutionsTickets links",statusDistribution:XA,ticketsEvolution:GA,consultantsPerformance:QA,closedTickets:ZA,ticketsInProgress:eI,totalTickets:tI,openTickets:nI,inProgress:sI,closed:rI,companies:oI,consultants:iI,scheduledInterventions:aI,loadingAdminDashboard:lI,teamPerformance:cI,averageProcessingTime:dI,delaysDistribution:uI,days:hI,hours:fI,fast:pI,normal:gI,slow:mI,noDataAvailable:xI,recentTickets:yI,reference:bI,title:vI,status:SI,date:wI,noRecentTickets:kI},CI={title:"Title of templates",new:"New Template",empty:"No templates available"},TI={noSelection:"No template selected",selectOrCreate:"Select a template from the list or create a new one",createTitle:"Create Template",editTitle:"Edit Template",code:"Code",canal:"Channel",sujet:"Subject",contenuHtml:"HTML Content",test:"Test Template",testResult:"Test Result"},EI={code:"Template Code",libelle:"Label",libellePlaceholder:"Ex: Ticket creation",canal:"Notification channel",sujet:"Message subject",sujetPlaceholder:"Ex: New Ticket - {reference}",contenuHtml:"HTML Content",contenuHtmlPlaceholder:"Enter the HTML content of the template...",variablesHelp:"Use {variable} for dynamic placeholders (ex: {reference}, {user}, {title})",active:"Active template"},_I={list:CI,details:TI,form:EI},RI="Loading synchronization status...",PI="Loading error",DI="CRM Synchronization Status",AI="Refresh",II="Scheduled synchronizations run automatically according to cron configuration",NI="In Progress",$I="Stop Requested",MI="Inactive",OI="Companies",LI="Time Credits",zI="People",FI="Products",BI="Tickets",WI="Solutions",UI="Solution-Ticket Links",HI="Last sync",VI={loadingSyncStatus:RI,loadingError:PI,crmSyncStatus:DI,refresh:AI,scheduledSyncInfo:II,inProgress:NI,stopRequested:$I,inactive:MI,companies:OI,timeCredits:LI,people:zI,products:FI,tickets:BI,solutions:WI,solutionTicketLinks:UI,lastSync:HI},qI="Search",KI="Name, first name, email...",YI="Start date",JI="End date",XI="Username",GI="Last name",QI="First name",ZI="Email",eN="Password",tN="Phone",nN="Create user",sN="Position",rN="Company",oN="Creation date",iN="Seniority",aN="Not defined",lN="Client",cN="Consultant",dN="View details",uN="User list",hN="New user",fN="User details",pN="year",gN="years",mN={search:qI,searchPlaceholder:KI,startDate:YI,endDate:JI,username:XI,lastName:GI,firstName:QI,email:ZI,password:eN,phone:tN,createUser:nN,position:sN,company:rN,creationDate:oN,seniority:iN,notDefined:aN,client:lN,consultant:cN,viewDetails:dN,userList:uN,newUser:hN,userDetails:fN,year_one:pN,year_other:gN},xN="Activity Evolution",yN="Customer Satisfaction",bN="Consultant Performance",vN="No activity data available for the selected period",SN="No satisfaction data available",wN="No performance data available for the selected period",kN="Report type",jN="General activity",CN="Start date",TN="End date",EN="Generating...",_N="Generate report",RN="this month",PN="Total requests",DN="Resolution rate",AN="Average response time",IN="Resolved requests",NN="Loading...",$N="Requests created",MN="Requests resolved",ON="Very satisfied",LN="Satisfied",zN="Neutral",FN="Unsatisfied",BN="Very unsatisfied",WN="Tickets resolved",UN="Reports and Statistics",HN="Show current month",VN="Export to PDF",qN="Export to Excel",KN={activityEvolution:xN,customerSatisfaction:yN,consultantPerformance:bN,noActivityData:vN,noSatisfactionData:SN,noPerformanceData:wN,reportType:kN,generalActivity:jN,startDate:CN,endDate:TN,generating:EN,generateReport:_N,thisMonth:RN,totalRequests:PN,resolutionRate:DN,averageResponseTime:AN,resolvedRequests:IN,loading:NN,requestsCreated:$N,requestsResolved:MN,verySatisfied:ON,satisfied:LN,neutral:zN,unsatisfied:FN,veryUnsatisfied:BN,ticketsResolved:WN,reportsAndStatistics:UN,showCurrentMonth:HN,exportPDF:VN,exportExcel:qN},YN="Tongasoa",JN="Tehirizina",XN="Andrana",GN="Averina indray",QN="Eo am-pandefasana...",ZN="Nahomby",e5="Hadisoana",t5="Mavitrika",n5="Sata",s5="Tsy mavitrika",r5="Afoana",o5="Fankatoavana",i5="Fanovana",a5="Hijery",l5="Fikarohana",c5="Sivana",d5="Rehetra",u5="Eny",h5="Tsia",f5="Fangatahana",p5="Fidirana an-tsehatra",g5="Tabilao fiombonana",m5="Mombamomba ahy",x5="Ny Orinasako",y5="Fanovana",b5="Fandraisana",v5="Miverina",S5="Manaraka",w5="Teo aloha",k5="Hamorona",j5="Havaozina",C5="Alefa",T5="Ilaina",E5="Tsy maintsy",_5="Sata",R5="Daty",P5="Fotoana",D5="Asa",A5="Tsy fantatra",I5="Daty diso",N5="Tsy hita",$5="Antsipirihany",M5="Pejy",O5="amin'ny",L5="mg-MG",z5="Averina",F5="Handeha any amin'ny pejy",B5="Voalohany",W5="Farany",U5="Pejy voalohany",H5="Pejy farany",V5="Averina andramana",q5={OPEN:"Misokatra",IN_PROGRESS:"Eo am-panatanterahana",CLOSED:"Mikatona",PENDING:"Miandry",OUVERT:"Misokatra",EN_COURS:"Eo am-panatanterahana",CLOTURE:"Mikatona",EN_ATTENTE:"Miandry",Ouvert:"Misokatra","En cours":"Eo am-panatanterahana",Cltur:"Mikatona","En attente":"Miandry",ouvert:"Misokatra","en cours":"Eo am-panatanterahana",cltur:"Mikatona","en attente":"Miandry",planifi:"Voapetraka","Planifi":"Voahomana","Rsolu":"Voavaha","Clotur":"Vaoahidy",Planifi:"Voahomana",Rsolu:"Voavaha",Clotur:"Mikatona"},K5="Janoary",Y5="Febroary",J5="Martsa",X5="Aprily",G5="Mey",Q5="Jona",Z5="Jolay",e$="Aogositra",t$="Septambra",n$="Oktobra",s$="Novambra",r$="Desambra",o$="Alatsinainy",i$="Talata",a$="Alarobia",l$="Alakamisy",c$="Zoma",d$="Asabotsy",u$="Alahady",h$="Miverina any amin'ny lisitra",f$="Angona vaovao",p$="Fampanaovana anjara asa...",g$="Fanavaozana...",m$="Fampidirana...",x$="Havaozina",y$="Tsy nomena anjara asa",b$="Tsy voafaritra",v$="Tsy mbola",S$={loadingError:"Hadisoana nandritra ny fampidirana angona",actionFailed:"Tsy nahomby ny asa",refreshFailed:"Hadisoana nandritra ny fanavaozana"},w$="Ahato",k$={welcome:YN,save:JN,test:XN,reload:GN,loading:QN,success:ZN,error:e5,active:t5,statut:n5,inactive:s5,cancel:r5,confirm:o5,delete:"Fafana",edit:i5,view:a5,search:l5,filter:c5,all:d5,yes:u5,no:h5,demandes:f5,interventions:p5,dashboard:g5,profile:m5,myCompany:x5,settings:y5,home:b5,back:v5,next:S5,previous:w5,create:k5,update:j5,submit:C5,required:T5,optional:E5,status:_5,date:R5,time:P5,actions:D5,unknown:A5,invalidDate:I5,notAvailable:N5,details:$5,page:M5,of:O5,locale:L5,reset:z5,goToPage:F5,first:B5,last:W5,firstPage:U5,lastPage:H5,retry:V5,statusTicket:q5,january:K5,february:Y5,march:J5,april:X5,may:G5,june:Q5,july:Z5,august:e$,september:t$,october:n$,november:s$,december:r$,monday:o$,tuesday:i$,wednesday:a$,thursday:l$,friday:c$,saturday:d$,sunday:u$,backToList:h$,dataRefreshed:f$,assigning:p$,updating:g$,adding:m$,refresh:x$,notAssigned:y$,notSpecified:b$,never:v$,errors:S$,deactivate:w$},j$="Fampidirana ny fangatahana...",C$="Fikarohana...",T$="fangatahana hita",E$="Fitantanana Fangatahana",_$="Fampahafantarana",R$="Fangatahana vaovao",P$="Orinasa",D$="Vokatra",A$="Ireo fangatahako",I$="Famariparitana",N$="Daty namoronana",$$="Tsy voafaritra",M$="Tsy voafaritra",O$="Tsy misy famariparitana",L$="Tsy nahita fangatahana tamin'ny fepetra nifantina",z$="Sata rehetra",F$="Zava-dehibe rehetra",B$="Hikaroka amin'ny fampahafantarana",W$="Hikaroka amin'ny vokatra",U$="Hikaroka amin'ny orinasa",H$="Daty fanombohana",V$="Daty farany",q$={label:"Sata",new:"Vaovao",inProgress:"Eo am-panatanterahana",pending:"Miandry",waitingClient:"Miandry ny mpanjifa",scheduled:"Voalahatra",resolved:"Vahana",closed:"Mikatona"},K$={label:"Laharam-pahamehana",low:"Ambany",normal:"Antonony",high:"Avony",urgent:"Maika"},Y$="Fampidirana ny antsipirihan'ny fangatahana...",J$="Tsy nahita fangatahana",X$="Antsipirihan'ny Mpanjifa",G$="Anaran'ny mpandray anjara",Q$="Finday",Z$="Antsipirihan'ny Fangatahana",eM="Sokajy",tM="Mpiasa nomena anjara asa",nM="Loharanom-baovao",sM="Fanavaozana farany",rM="Rakitra mpiara",oM="Vahaolana",iM="Fifampiresahana",aM="Noforonina ny",lM={loadingRequests:j$,searching:C$,requestsFound:T$,requestsManagement:E$,reference:_$,newTicket:R$,company:P$,product:D$,myTickets:A$,description:I$,creationDate:N$,companyNotDefined:$$,productNotSpecified:M$,noDescription:O$,noRequestsFound:L$,allStatuses:z$,allPriorities:F$,searchByReference:B$,searchByProduct:W$,searchByCompany:U$,startDate:H$,endDate:V$,status:q$,priority:K$,loadingTicketDetails:Y$,ticketNotFound:J$,clientInfo:X$,contactName:G$,phone:Q$,ticketInfo:Z$,category:eM,assignedAgent:tM,source:nM,lastUpdate:sM,attachments:rM,solutions:oM,interactions:iM,createdOn:aM},cM={title:"Fametrahana WhatsApp Business API",configName:"Anaran'ny fametrahana",apiUrl:"URL API",apiKey:"Fanalahidy API 360dialog",apiKeyHelp:"Fanalahidy API omen'i 360dialog (tokony hosoratana)",phoneId:"ID laharana finday",phoneIdHelp:"ID laharana WhatsApp Business napetraka ao amin'ny 360dialog",businessId:"ID kaonty orinasa (tsy maintsy)",webhookUrl:"URL Webhook (tsy maintsy)",webhookUrlHelp:"URL alehan'ny satitan'ny hafatra",webhookToken:"Token Webhook (tsy maintsy)",description:"Famariparitana (tsy maintsy)",activeConfig:"Fametrahana mavitrika",saveSuccess:"Tafiditra soa aman-tsara ny fametrahana WhatsApp!",saveError:"Nisy olana nandritra ny fitahirizana",testSuccess:"Nahomby ny fitsapana! Voamarina ny fametrahana WhatsApp.",testError:"Tsy nahomby ny fitsapana",testFirstSave:"Ampidiro aloha ny fametrahana vao manao fitsapana",guideTitle:" Torolalana fametrahana 360dialog",guideText:"Hanamboarana WhatsApp Business API:",guideStep1:"Mamorona kaonty ao amin'ny 360dialog",guideStep2:"Alao ny Fanalahidy API ao amin'ny dashboard 360dialog",guideStep3:"Hametraka laharana WhatsApp Business",guideStep4:"Alao ny ID laharana finday ao amin'ny 360dialog",guideStep5:"Ho an'ny webhooks, amboary ny URL callback ao amin'ny paramtres 360dialog",guideStep6:"Tokony hifanaraka amin'ny an'ny 360dialog ny token webhook"},dM={title:"Fametrahana SMTP",server:"Mpanompo SMTP",port:"Seranana",email:"Mailaka (mpampiasa)",password:"Tenimiafina (App Password)",passwordHelp:"Ho an'ny Gmail, ampiasao App Password fa tsy ny tenimiafina fototra",testEmail:"Andrana fandefasana mailaka"},uM={title:"Fanovana ankapobeny",companyName:"Anaran'ny orinasa",language:"Fiteny",timezone:"Faritra ora",dateFormat:"Endrika daty"},hM={whatsapp:cM,smtp:dM,general:uM},fM="Fitantanana",pM="Mpampiasa",gM="Tatitra",mM="Fametrahana",xM="Fanovana",yM="Fangatahana",bM="Fitantanana mpampiasa",vM="Statistika",SM="Rafitra",wM="Famatorana",kM="Tatitra atao",jM="Fitantanana mpampiasa",CM="Fitantanana anjara asa",TM="Fahazoan-dalana",EM="Fahasalamana rafitra",_M="Fahombiazana",RM="Fandinihana",PM="Fitantanana Fangatahana",DM="Antsipirihan'ny Fangatahana",AM="Manendry Mpiasa",IM="Hanova Sata",NM="Hanampy Fanamarihana anatiny",$M="Nomena anjara asa soa aman-tsara ilay mpiasa",MM="Nohavaozina soa aman-tsara ny sata",OM="Nampidirina ny fanamarihana anatiny",LM="Antsipirihan'ny Fangatahana",zM="Antsipirihany fanampiny",FM="Tantaran'ny asa natao",BM="Nomena anjara asa ankehitriny",WM="Misafidia Mpiasa",UM="Misafidia mpiasa",HM="Tsy manana fahaizana manokana",VM="Mba misafidia mpiasa azafady",qM="Sata Vaovao",KM="Misafidia sata",YM="Sata Eto Anivon'ny",JM="Fanamarihana momba ny fanovana sata",XM="Fanamarihana tsy maintsy atao mamaritra ny fanovana sata...",GM="Mba misafidia sata azafady",QM="Hanova Sata",ZM="Ho an'ny fangatahana",e6="Ho hita fotsiny amin'ny mpitantana ity fanamarihana ity ary tsy handefasana amin'ny mpanjifa.",t6="Votoatin'ny fanamarihana",n6="Ampidiro eto ny fanamarihana anatinao...",s6="Mba ampidiro fanamarihana azafady",r6="Hanampy Fanamarihana",o6={email:"Mailaka",phone:"Finday",internalNote:"Fanamarihana Anatiny",system:"Rafitra"},i6="Hita amin'ny mpanjifa",a6="Fanamarihana anatiny",l6="Mbola tsy misy fifampiresahana",c6="Tsy misy rakitra mpiara",d6="Mbola tsy misy vahaolana",u6="Azo antoka ve fa te-hamafa ity fifampiresahana ity ianao?",h6="Nofafana soa aman-tsara ny fifampiresahana",f6="Fotoana fanatanterahana",p6={admin:fM,users:pM,reports:gM,configurations:mM,interventions:xM,demandes:yM,gestionUtilisateurs:bM,statistics:vM,system:SM,backup:wM,logs:kM,userManagement:jM,roleManagement:CM,permissions:TM,systemHealth:EM,performance:_M,monitoring:RM,demandesManagement:PM,ticketDetails:DM,assignAgent:AM,changeStatus:IM,addInternalNote:NM,agentAssignedSuccess:$M,statusUpdatedSuccess:MM,internalNoteAdded:OM,ticketInformation:LM,additionalInfo:zM,activityHistory:FM,currentlyAssigned:BM,selectAgent:WM,chooseAgent:UM,noSpecialty:HM,selectAgentRequired:VM,newStatus:qM,chooseStatus:KM,currentStatus:YM,statusChangeComment:JM,commentPlaceholder:XM,selectStatusRequired:GM,updateStatus:QM,forTicket:ZM,internalNoteWarning:e6,noteContent:t6,notePlaceholder:n6,noteRequired:s6,addNote:r6,interactionTypes:o6,visibleToClient:i6,internalNote:a6,noInteractions:l6,noAttachments:c6,noSolutions:d6,confirmDeleteInteraction:u6,interactionDeleted:h6,resolutionTime:f6},g6="Teny miafina",m6="Fandraisana mpanjifa",x6="Hiditra",y6="Hiala",b6="Adiresy mailaka",v6="Ny adiresy mailakao",S6="Tenimiafina",w6="Ny tenimiafinao",k6="Hiditra",j6="Eo am-pidirana...",C6="Hadino ny tenimiafina?",T6={title:"Kaonty fampisehoana",client:"Mpanjifa",clientDescription:"Fidirana amin'ny tolotra mpanjifa",consultant:"Mpanolotra hevitra",consultantDescription:"Fitantanana tiketra sy fanovana",admin:"Mpitantana",adminDescription:"Fidirana feno amin'ny fitantnana"},E6="Fanamarinana 2 dingana",_6="Ampidiro ny kaody fampanamarinana isa 4 nalefany tany amin'ny adiresy mailakao",R6="Ampidiro azafady ny kaody feno",P6="Taozava-bato ny kaody",D6="Nisy olana nandritra ny famerenana ny kaody",A6="Eo am-panamarinana...",I6="Hamarinina",N6="Averina alefa ny kaody",$6="Hiverina any amin'ny fidirana",M6={title:"Fandraisana Mpanjifa OPTIMADA",description:"Tantoy ny fangatahana fanampiana, jereo ny tantaran'ny fanovana ary midira amin'ny tolotrao rehetra ao amin'ny toerana iray.",features:{feature2:{title:"Fandinihana amin'ny fotoana tena",description:"Araho ny fandrosoan'ny fangatahanao"},feature3:{title:"Fampidirana mora",description:"Fikarohana tsotra sy mahomby"}}},O6={test:g6,clientPortal:m6,login:x6,logout:y6,email:b6,emailPlaceholder:v6,password:S6,passwordPlaceholder:w6,signIn:k6,signingIn:j6,forgotPassword:C6,demo:T6,verificationTitle:E6,verificationDescription:_6,completeCodeError:R6,codeRegenerated:P6,regenerateError:D6,verifying:A6,verify:I6,resendCode:N6,backToLogin:$6,hero:M6},L6="Tabilao fiombonana",z6="Tongasoa eto indray",F6="Topimaso",B6="Asa farany",W6="Asa haingana",U6="Statistika",H6="Topimaso tiketra",V6="Topimaso fanovana",q6="Mpampiasa en-line",K6="Satan'ny rafitra",Y6="Androany",J6="Herinandro ity",X6="Volana ity",G6="Fotoana valin-teny antonony",Q6="Fizarana araka ny sata",Z6="Fiovan'ny tikety",e3="Fahombiazan'ny mpanoro hevitra",t3="Tikety mikatona",n3="Tikety eo am-panatanterahana",s3="Totalin'ny tikety",r3="Tikety misokatra",o3="Eo am-panatanterahana",i3="Mikatona",a3="Orinasa",l3="Mpanoro hevitra",c3="Fidirana an-tsehatra voalahatra",d3="Eo am-pampidirana ny tabilao fiombonana admin...",u3="Fahombiazan'ny ekipa",h3="Fotoana fanodinana salan'isa",f3="Fizarana ny fahatarana",p3="andro",g3="ora",m3="Haingana",x3="Mahazatra",y3="Mora",b3="Tsy misy angona hita",v3="Tikety vao haingana",S3="Fampahafantarana",w3="Lohateny",k3="Sata",j3="Daty",C3="Tsy misy tikety vao haingana",T3={dashboard:L6,welcomeBack:z6,overview:F6,recentActivity:B6,quickActions:W6,statistics:U6,ticketsOverview:H6,interventionsOverview:V6,usersOnline:q6,systemStatus:K6,today:Y6,thisWeek:J6,thisMonth:X6,averageResponse:G6,statusDistribution:Q6,ticketsEvolution:Z6,consultantsPerformance:e3,closedTickets:t3,ticketsInProgress:n3,totalTickets:s3,openTickets:r3,inProgress:o3,closed:i3,companies:a3,consultants:l3,scheduledInterventions:c3,loadingAdminDashboard:d3,teamPerformance:u3,averageProcessingTime:h3,delaysDistribution:f3,days:p3,hours:g3,fast:m3,normal:x3,slow:y3,noDataAvailable:b3,recentTickets:v3,reference:S3,title:w3,status:k3,date:j3,noRecentTickets:C3},E3={title:"Modely fampandrenesana",new:"Modely Vaovao",empty:"Tsy misy modely misy"},_3={noSelection:"Tsy misy modely voafantina",selectOrCreate:"Fidio modely iray amin'ny lisitra na mamorona modely vaovao",createTitle:"Mamorona Modely",editTitle:"Hanova Modely",code:"Kaody",canal:"Fantsona",sujet:"Lohahevitra",contenuHtml:"Votoaty HTML",test:"Hanandrama ny Modely",testResult:"Vokatra fanandramana"},R3={code:"Kaodim-pandrenesana",libelle:"Anarana",libellePlaceholder:"Ohatra: Famoronana tapakila",canal:"Fantsona fampandrenesana",sujet:"Lohahevitry ny hafatra",sujetPlaceholder:"Ohatra: Tapakila vaovao - {reference}",contenuHtml:"Votoaty HTML",contenuHtmlPlaceholder:"Ampidiro ny votoaty HTML an'ity modely...",variablesHelp:"Ampiasao {variable} ho an'ny toerana azo ovaina (ohatra: {reference}, {utilisateur}, {titre})",active:"Modely mavitrika"},P3={list:E3,details:_3,form:R3},D3="Eo am-pampidirana ny sata fifanarahana...",A3="Hadisoana fampidirana",I3="Toetran'ny Fifanarahana CRM",N3="Havaozina",$3="Mihodina ho azy ny fifanarahana voalahatra araka ny fandaharana cron",M3="Eo am-panatanterahana",O3="Fijanonana angatahina",L3="Tsy mavitrika",z3="Orinasa",F3="Kaonty ora",B3="Olona",W3="Vokatra",U3="Tikety",H3="Vahaolana",V3="Rohidian'ny vahaolana sy tikety",q3="Fifanarahana farany",K3={loadingSyncStatus:D3,loadingError:A3,crmSyncStatus:I3,refresh:N3,scheduledSyncInfo:$3,inProgress:M3,stopRequested:O3,inactive:L3,companies:z3,timeCredits:F3,people:B3,products:W3,tickets:U3,solutions:H3,solutionTicketLinks:V3,lastSync:q3},Y3="Fikarohana",J3="Anarana, fanampin'anarana, mailaka...",X3="Daty fanombohana",G3="Daty farany",Q3="Fampiasana anarana",Z3="Fanampin'anarana",e4="Anarana",t4="Mailaka",n4="Tenimiafina",s4="Finday",r4="Hamorona mpampiasa",o4="Toerana",i4="Orinasa",a4="Daty namoronana",l4="Efa ela",c4="Tsy voafaritra",d4="Mpanjifa",u4="Mpanoro hevitra",h4="Hijery antsipirihany",f4="Lisitry ny mpampiasa",p4="Mpampiasa vaovao",g4="Antsipirihan'ny mpampiasa",m4="taona",x4="taona",y4={search:Y3,searchPlaceholder:J3,startDate:X3,endDate:G3,username:Q3,firstName:Z3,lastName:e4,email:t4,password:n4,phone:s4,createUser:r4,position:o4,company:i4,creationDate:a4,seniority:l4,notDefined:c4,client:d4,consultant:u4,viewDetails:h4,userList:f4,newUser:p4,userDetails:g4,year_one:m4,year_other:x4},b4="Fiovan'ny asa",v4="Fahafaham-po ny mpanjifa",S4="Fahombiazan'ny mpanoro hevitra",w4="Tsy misy angona asa hita ho an'ny fotoana voafantina",k4="Tsy misy angona fahafaham-po hita",j4="Tsy misy angona fahombiazana hita ho an'ny fotoana voafantina",C4="Karazana tatitra",T4="Asa ankapobeny",E4="Daty fanombohana",_4="Daty farany",R4="Amboarina...",P4="Mamorona tatitra",D4="ity volana ity",A4="Totalin'ny fangatahana",I4="Tahan'ny famahana",N4="Fotoana valin-teny salan'isa",$4="Fangatahana voavaha",M4="Eo am-pampidirana...",O4="Fangatahana noforonina",L4="Fangatahana voavaha",z4="Faly be",F4="Faly",B4="Tsy miandany",W4="Tsy faly",U4="Tsy faly be",H4="Tikety voavaha",V4="Tatitra sy Statistiky",q4="Asehoy ity volana ity",K4="Hanonta PDF",Y4="Hanonta Excel",J4={activityEvolution:b4,customerSatisfaction:v4,consultantPerformance:S4,noActivityData:w4,noSatisfactionData:k4,noPerformanceData:j4,reportType:C4,generalActivity:T4,startDate:E4,endDate:_4,generating:R4,generateReport:P4,thisMonth:D4,totalRequests:A4,resolutionRate:I4,averageResponseTime:N4,resolvedRequests:$4,loading:M4,requestsCreated:O4,requestsResolved:L4,verySatisfied:z4,satisfied:F4,neutral:B4,unsatisfied:W4,veryUnsatisfied:U4,ticketsResolved:H4,reportsAndStatistics:V4,showCurrentMonth:q4,exportPDF:K4,exportExcel:Y4},by={fr:{common:R2,tickets:pj,config:yj,admin:yC,auth:aT,dashboard:mE,templates:vE,sync:OE,users:l_,reports:z_,solution:lc},en:{common:kP,tickets:lD,config:hD,admin:hA,auth:$A,dashboard:jI,templates:_I,sync:VI,users:mN,reports:KN,solution:lc},mg:{common:k$,tickets:lM,config:hM,admin:p6,auth:O6,dashboard:T3,templates:P3,sync:K3,users:y4,reports:J4,solution:lc}},X4={type:"languageDetector",async:!1,init:()=>{},detect:()=>{const t=localStorage.getItem("preferred-language");if(t)return t;const e=navigator.language.split("-")[0];return by[e]?e:"fr"},cacheUserLanguage:t=>{localStorage.setItem("preferred-language",t)}};Ke.use(X4).use(Mw).init({resources:by,fallbackLng:"fr",debug:!1,interpolation:{escapeValue:!1},keySeparator:".",nsSeparator:":",returnObjects:!1,returnEmptyString:!1,returnNull:!1,detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"preferred-language"},supportedLngs:["fr","en","mg"],react:{useSuspense:!1}});function vy(t,e){return function(){return t.apply(e,arguments)}}const{toString:G4}=Object.prototype,{getPrototypeOf:Ku}=Object,{iterator:Sl,toStringTag:Sy}=Symbol,wl=(t=>e=>{const n=G4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Lt=t=>(t=t.toLowerCase(),e=>wl(e)===t),kl=t=>e=>typeof e===t,{isArray:vr}=Array,hr=kl("undefined");function Zo(t){return t!==null&&!hr(t)&&t.constructor!==null&&!hr(t.constructor)&&at(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const wy=Lt("ArrayBuffer");function Q4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&wy(t.buffer),e}const Z4=kl("string"),at=kl("function"),ky=kl("number"),ei=t=>t!==null&&typeof t=="object",eO=t=>t===!0||t===!1,sa=t=>{if(wl(t)!=="object")return!1;const e=Ku(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Sy in t)&&!(Sl in t)},tO=t=>{if(!ei(t)||Zo(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},nO=Lt("Date"),sO=Lt("File"),rO=Lt("Blob"),oO=Lt("FileList"),iO=t=>ei(t)&&at(t.pipe),aO=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||at(t.append)&&((e=wl(t))==="formdata"||e==="object"&&at(t.toString)&&t.toString()==="[object FormData]"))},lO=Lt("URLSearchParams"),[cO,dO,uO,hO]=["ReadableStream","Request","Response","Headers"].map(Lt),fO=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ti(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),vr(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Zo(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let l;for(s=0;s<i;s++)l=o[s],e.call(null,t[l],l,t)}}function jy(t,e){if(Zo(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Cy=t=>!hr(t)&&t!==as;function Ad(){const{caseless:t,skipUndefined:e}=Cy(this)&&this||{},n={},s=(r,o)=>{const i=t&&jy(n,o)||o;sa(n[i])&&sa(r)?n[i]=Ad(n[i],r):sa(r)?n[i]=Ad({},r):vr(r)?n[i]=r.slice():(!e||!hr(r))&&(n[i]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&ti(arguments[r],s);return n}const pO=(t,e,n,{allOwnKeys:s}={})=>(ti(e,(r,o)=>{n&&at(r)?t[o]=vy(r,n):t[o]=r},{allOwnKeys:s}),t),gO=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mO=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},xO=(t,e,n,s)=>{let r,o,i;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)i=r[o],(!s||s(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=n!==!1&&Ku(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yO=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},bO=t=>{if(!t)return null;if(vr(t))return t;let e=t.length;if(!ky(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},vO=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ku(Uint8Array)),SO=(t,e)=>{const s=(t&&t[Sl]).call(t);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},wO=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},kO=Lt("HTMLFormElement"),jO=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Yf=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),CO=Lt("RegExp"),Ty=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};ti(n,(r,o)=>{let i;(i=e(r,o,t))!==!1&&(s[o]=i||r)}),Object.defineProperties(t,s)},TO=t=>{Ty(t,(e,n)=>{if(at(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(at(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},EO=(t,e)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return vr(t)?s(t):s(String(t).split(e)),n},_O=()=>{},RO=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function PO(t){return!!(t&&at(t.append)&&t[Sy]==="FormData"&&t[Sl])}const DO=t=>{const e=new Array(10),n=(s,r)=>{if(ei(s)){if(e.indexOf(s)>=0)return;if(Zo(s))return s;if(!("toJSON"in s)){e[r]=s;const o=vr(s)?[]:{};return ti(s,(i,l)=>{const c=n(i,r+1);!hr(c)&&(o[l]=c)}),e[r]=void 0,o}}return s};return n(t,0)},AO=Lt("AsyncFunction"),IO=t=>t&&(ei(t)||at(t))&&at(t.then)&&at(t.catch),Ey=((t,e)=>t?setImmediate:e?((n,s)=>(as.addEventListener("message",({source:r,data:o})=>{r===as&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),as.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",at(as.postMessage)),NO=typeof queueMicrotask<"u"?queueMicrotask.bind(as):typeof process<"u"&&process.nextTick||Ey,$O=t=>t!=null&&at(t[Sl]),D={isArray:vr,isArrayBuffer:wy,isBuffer:Zo,isFormData:aO,isArrayBufferView:Q4,isString:Z4,isNumber:ky,isBoolean:eO,isObject:ei,isPlainObject:sa,isEmptyObject:tO,isReadableStream:cO,isRequest:dO,isResponse:uO,isHeaders:hO,isUndefined:hr,isDate:nO,isFile:sO,isBlob:rO,isRegExp:CO,isFunction:at,isStream:iO,isURLSearchParams:lO,isTypedArray:vO,isFileList:oO,forEach:ti,merge:Ad,extend:pO,trim:fO,stripBOM:gO,inherits:mO,toFlatObject:xO,kindOf:wl,kindOfTest:Lt,endsWith:yO,toArray:bO,forEachEntry:SO,matchAll:wO,isHTMLForm:kO,hasOwnProperty:Yf,hasOwnProp:Yf,reduceDescriptors:Ty,freezeMethods:TO,toObjectSet:EO,toCamelCase:jO,noop:_O,toFiniteNumber:RO,findKey:jy,global:as,isContextDefined:Cy,isSpecCompliantForm:PO,toJSONObject:DO,isAsyncFn:AO,isThenable:IO,setImmediate:Ey,asap:NO,isIterable:$O};function J(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}D.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const _y=J.prototype,Ry={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ry[t]={value:t}});Object.defineProperties(J,Ry);Object.defineProperty(_y,"isAxiosError",{value:!0});J.from=(t,e,n,s,r,o)=>{const i=Object.create(_y);D.toFlatObject(t,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return J.call(i,l,c,n,s,r),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const MO=null;function Id(t){return D.isPlainObject(t)||D.isArray(t)}function Py(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function Jf(t,e,n){return t?t.concat(e).map(function(r,o){return r=Py(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function OO(t){return D.isArray(t)&&!t.some(Id)}const LO=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function jl(t,e,n){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,x){return!D.isUndefined(x[p])});const s=n.metaTokens,r=n.visitor||u,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(r))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(D.isDate(g))return g.toISOString();if(D.isBoolean(g))return g.toString();if(!c&&D.isBlob(g))throw new J("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(g)||D.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,p,x){let b=g;if(g&&!x&&typeof g=="object"){if(D.endsWith(p,"{}"))p=s?p:p.slice(0,-2),g=JSON.stringify(g);else if(D.isArray(g)&&OO(g)||(D.isFileList(g)||D.endsWith(p,"[]"))&&(b=D.toArray(g)))return p=Py(p),b.forEach(function(v,w){!(D.isUndefined(v)||v===null)&&e.append(i===!0?Jf([p],w,o):i===null?p:p+"[]",d(v))}),!1}return Id(g)?!0:(e.append(Jf(x,p,o),d(g)),!1)}const h=[],f=Object.assign(LO,{defaultVisitor:u,convertValue:d,isVisitable:Id});function m(g,p){if(!D.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(g),D.forEach(g,function(b,y){(!(D.isUndefined(b)||b===null)&&r.call(e,b,D.isString(y)?y.trim():y,p,f))===!0&&m(b,p?p.concat(y):[y])}),h.pop()}}if(!D.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Xf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Yu(t,e){this._pairs=[],t&&jl(t,this,e)}const Dy=Yu.prototype;Dy.append=function(e,n){this._pairs.push([e,n])};Dy.toString=function(e){const n=e?function(s){return e.call(this,s,Xf)}:Xf;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function zO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ay(t,e,n){if(!e)return t;const s=n&&n.encode||zO;D.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(e,n):o=D.isURLSearchParams(e)?e.toString():new Yu(e,n).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Gf{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Iy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FO=typeof URLSearchParams<"u"?URLSearchParams:Yu,BO=typeof FormData<"u"?FormData:null,WO=typeof Blob<"u"?Blob:null,UO={isBrowser:!0,classes:{URLSearchParams:FO,FormData:BO,Blob:WO},protocols:["http","https","file","blob","url","data"]},Ju=typeof window<"u"&&typeof document<"u",Nd=typeof navigator=="object"&&navigator||void 0,HO=Ju&&(!Nd||["ReactNative","NativeScript","NS"].indexOf(Nd.product)<0),VO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qO=Ju&&window.location.href||"http://localhost",KO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ju,hasStandardBrowserEnv:HO,hasStandardBrowserWebWorkerEnv:VO,navigator:Nd,origin:qO},Symbol.toStringTag,{value:"Module"})),Ue={...KO,...UO};function YO(t,e){return jl(t,new Ue.classes.URLSearchParams,{visitor:function(n,s,r,o){return Ue.isNode&&D.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function JO(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function XO(t){const e={},n=Object.keys(t);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],e[o]=t[o];return e}function Ny(t){function e(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=n.length;return i=!i&&D.isArray(r)?r.length:i,c?(D.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!l):((!r[i]||!D.isObject(r[i]))&&(r[i]=[]),e(n,s,r[i],o)&&D.isArray(r[i])&&(r[i]=XO(r[i])),!l)}if(D.isFormData(t)&&D.isFunction(t.entries)){const n={};return D.forEachEntry(t,(s,r)=>{e(JO(s),r,n,0)}),n}return null}function GO(t,e,n){if(D.isString(t))try{return(e||JSON.parse)(t),D.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const ni={transitional:Iy,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=D.isObject(e);if(o&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return r?JSON.stringify(Ny(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e)||D.isReadableStream(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return YO(e,this.formSerializer).toString();if((l=D.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return jl(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),GO(e)):e}],transformResponse:[function(e){const n=this.transitional||ni.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(D.isResponse(e)||D.isReadableStream(e))return e;if(e&&D.isString(e)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?J.from(l,J.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ue.classes.FormData,Blob:Ue.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],t=>{ni.headers[t]={}});const QO=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZO=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||e[n]&&QO[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Qf=Symbol("internals");function Nr(t){return t&&String(t).trim().toLowerCase()}function ra(t){return t===!1||t==null?t:D.isArray(t)?t.map(ra):String(t)}function eL(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const tL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function cc(t,e,n,s,r){if(D.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!D.isString(e)){if(D.isString(s))return e.indexOf(s)!==-1;if(D.isRegExp(s))return s.test(e)}}function nL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function sL(t,e){const n=D.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,o,i){return this[s].call(this,e,r,o,i)},configurable:!0})})}let lt=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function o(l,c,d){const u=Nr(c);if(!u)throw new Error("header name must be a non-empty string");const h=D.findKey(r,u);(!h||r[h]===void 0||d===!0||d===void 0&&r[h]!==!1)&&(r[h||c]=ra(l))}const i=(l,c)=>D.forEach(l,(d,u)=>o(d,u,c));if(D.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(D.isString(e)&&(e=e.trim())&&!tL(e))i(ZO(e),n);else if(D.isObject(e)&&D.isIterable(e)){let l={},c,d;for(const u of e){if(!D.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?D.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,n)}else e!=null&&o(n,e,s);return this}get(e,n){if(e=Nr(e),e){const s=D.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return eL(r);if(D.isFunction(n))return n.call(this,r,s);if(D.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Nr(e),e){const s=D.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||cc(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function o(i){if(i=Nr(i),i){const l=D.findKey(s,i);l&&(!n||cc(s,s[l],l,n))&&(delete s[l],r=!0)}}return D.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!e||cc(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,s={};return D.forEach(this,(r,o)=>{const i=D.findKey(s,o);if(i){n[i]=ra(r),delete n[o];return}const l=e?nL(o):String(o).trim();l!==o&&delete n[o],n[l]=ra(r),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return D.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&D.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Qf]=this[Qf]={accessors:{}}).accessors,r=this.prototype;function o(i){const l=Nr(i);s[l]||(sL(r,i),s[l]=!0)}return D.isArray(e)?e.forEach(o):o(e),this}};lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(lt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});D.freezeMethods(lt);function dc(t,e){const n=this||ni,s=e||n,r=lt.from(s.headers);let o=s.data;return D.forEach(t,function(l){o=l.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function $y(t){return!!(t&&t.__CANCEL__)}function Sr(t,e,n){J.call(this,t??"canceled",J.ERR_CANCELED,e,n),this.name="CanceledError"}D.inherits(Sr,J,{__CANCEL__:!0});function My(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function oL(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,o=0,i;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=s[o];i||(i=d),n[r]=c,s[r]=d;let h=o,f=0;for(;h!==r;)f+=n[h++],h=h%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),d-i<e)return;const m=u&&d-u;return m?Math.round(f*1e3/m):void 0}}function iL(t,e){let n=0,s=1e3/e,r,o;const i=(d,u=Date.now())=>{n=u,r=null,o&&(clearTimeout(o),o=null),t(...d)};return[(...d)=>{const u=Date.now(),h=u-n;h>=s?i(d,u):(r=d,o||(o=setTimeout(()=>{o=null,i(r)},s-h)))},()=>r&&i(r)]}const Ba=(t,e,n=3)=>{let s=0;const r=oL(50,250);return iL(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-s,d=r(c),u=i<=l;s=i;const h={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},Zf=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},ep=t=>(...e)=>D.asap(()=>t(...e)),aL=Ue.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ue.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ue.origin),Ue.navigator&&/(msie|trident)/i.test(Ue.navigator.userAgent)):()=>!0,lL=Ue.hasStandardBrowserEnv?{write(t,e,n,s,r,o){const i=[t+"="+encodeURIComponent(e)];D.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),D.isString(s)&&i.push("path="+s),D.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function dL(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Oy(t,e,n){let s=!cL(e);return t&&(s||n==!1)?dL(t,e):e}const tp=t=>t instanceof lt?{...t}:t;function ws(t,e){e=e||{};const n={};function s(d,u,h,f){return D.isPlainObject(d)&&D.isPlainObject(u)?D.merge.call({caseless:f},d,u):D.isPlainObject(u)?D.merge({},u):D.isArray(u)?u.slice():u}function r(d,u,h,f){if(D.isUndefined(u)){if(!D.isUndefined(d))return s(void 0,d,h,f)}else return s(d,u,h,f)}function o(d,u){if(!D.isUndefined(u))return s(void 0,u)}function i(d,u){if(D.isUndefined(u)){if(!D.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in e)return s(d,u);if(h in t)return s(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,h)=>r(tp(d),tp(u),h,!0)};return D.forEach(Object.keys({...t,...e}),function(u){const h=c[u]||r,f=h(t[u],e[u],u);D.isUndefined(f)&&h!==l||(n[u]=f)}),n}const Ly=t=>{const e=ws({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:l}=e;if(e.headers=i=lt.from(i),e.url=Ay(Oy(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),D.isFormData(n)){if(Ue.hasStandardBrowserEnv||Ue.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(D.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&i.set(u,h)})}}if(Ue.hasStandardBrowserEnv&&(s&&D.isFunction(s)&&(s=s(e)),s||s!==!1&&aL(e.url))){const c=r&&o&&lL.read(o);c&&i.set(r,c)}return e},uL=typeof XMLHttpRequest<"u",hL=uL&&function(t){return new Promise(function(n,s){const r=Ly(t);let o=r.data;const i=lt.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=r,u,h,f,m,g;function p(){m&&m(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function b(){if(!x)return;const v=lt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:v,config:t,request:x};My(function(C){n(C),p()},function(C){s(C),p()},k),x=null}"onloadend"in x?x.onloadend=b:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(b)},x.onabort=function(){x&&(s(new J("Request aborted",J.ECONNABORTED,t,x)),x=null)},x.onerror=function(w){const k=w&&w.message?w.message:"Network Error",j=new J(k,J.ERR_NETWORK,t,x);j.event=w||null,s(j),x=null},x.ontimeout=function(){let w=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const k=r.transitional||Iy;r.timeoutErrorMessage&&(w=r.timeoutErrorMessage),s(new J(w,k.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,t,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&D.forEach(i.toJSON(),function(w,k){x.setRequestHeader(k,w)}),D.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),l&&l!=="json"&&(x.responseType=r.responseType),d&&([f,g]=Ba(d,!0),x.addEventListener("progress",f)),c&&x.upload&&([h,m]=Ba(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(u=v=>{x&&(s(!v||v.type?new Sr(null,t,x):v),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const y=rL(r.url);if(y&&Ue.protocols.indexOf(y)===-1){s(new J("Unsupported protocol "+y+":",J.ERR_BAD_REQUEST,t));return}x.send(o||null)})},fL=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const o=function(d){if(!r){r=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof J?u:new Sr(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,o(new J(`timeout ${e} of ms exceeded`,J.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>D.asap(l),c}},pL=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},gL=async function*(t,e){for await(const n of mL(t))yield*pL(n,e)},mL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},np=(t,e,n,s)=>{const r=gL(t,e);let o=0,i,l=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await r.next();if(d){l(),c.close();return}let h=u.byteLength;if(n){let f=o+=h;n(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},sp=64*1024,{isFunction:ji}=D,xL=(({Request:t,Response:e})=>({Request:t,Response:e}))(D.global),{ReadableStream:rp,TextEncoder:op}=D.global,ip=(t,...e)=>{try{return!!t(...e)}catch{return!1}},yL=t=>{t=D.merge.call({skipUndefined:!0},xL,t);const{fetch:e,Request:n,Response:s}=t,r=e?ji(e):typeof fetch=="function",o=ji(n),i=ji(s);if(!r)return!1;const l=r&&ji(rp),c=r&&(typeof op=="function"?(g=>p=>g.encode(p))(new op):async g=>new Uint8Array(await new n(g).arrayBuffer())),d=o&&l&&ip(()=>{let g=!1;const p=new n(Ue.origin,{body:new rp,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),u=i&&l&&ip(()=>D.isReadableStream(new s("").body)),h={stream:u&&(g=>g.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(p,x)=>{let b=p&&p[g];if(b)return b.call(p);throw new J(`Response type '${g}' is not supported`,J.ERR_NOT_SUPPORT,x)})});const f=async g=>{if(g==null)return 0;if(D.isBlob(g))return g.size;if(D.isSpecCompliantForm(g))return(await new n(Ue.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(D.isArrayBufferView(g)||D.isArrayBuffer(g))return g.byteLength;if(D.isURLSearchParams(g)&&(g=g+""),D.isString(g))return(await c(g)).byteLength},m=async(g,p)=>{const x=D.toFiniteNumber(g.getContentLength());return x??f(p)};return async g=>{let{url:p,method:x,data:b,signal:y,cancelToken:v,timeout:w,onDownloadProgress:k,onUploadProgress:j,responseType:C,headers:T,withCredentials:P="same-origin",fetchOptions:R}=Ly(g),_=e||fetch;C=C?(C+"").toLowerCase():"text";let M=fL([y,v&&v.toAbortSignal()],w),U=null;const F=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let O;try{if(j&&d&&x!=="get"&&x!=="head"&&(O=await m(T,b))!==0){let B=new n(p,{method:"POST",body:b,duplex:"half"}),q;if(D.isFormData(b)&&(q=B.headers.get("content-type"))&&T.setContentType(q),B.body){const[G,X]=Zf(O,Ba(ep(j)));b=np(B.body,sp,G,X)}}D.isString(P)||(P=P?"include":"omit");const I=o&&"credentials"in n.prototype,N={...R,signal:M,method:x.toUpperCase(),headers:T.normalize().toJSON(),body:b,duplex:"half",credentials:I?P:void 0};U=o&&new n(p,N);let E=await(o?_(U,R):_(p,N));const $=u&&(C==="stream"||C==="response");if(u&&(k||$&&F)){const B={};["status","statusText","headers"].forEach(ae=>{B[ae]=E[ae]});const q=D.toFiniteNumber(E.headers.get("content-length")),[G,X]=k&&Zf(q,Ba(ep(k),!0))||[];E=new s(np(E.body,sp,G,()=>{X&&X(),F&&F()}),B)}C=C||"text";let L=await h[D.findKey(h,C)||"text"](E,g);return!$&&F&&F(),await new Promise((B,q)=>{My(B,q,{data:L,headers:lt.from(E.headers),status:E.status,statusText:E.statusText,config:g,request:U})})}catch(I){throw F&&F(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,g,U),{cause:I.cause||I}):J.from(I,I&&I.code,g,U)}}},bL=new Map,zy=t=>{let e=t?t.env:{};const{fetch:n,Request:s,Response:r}=e,o=[s,r,n];let i=o.length,l=i,c,d,u=bL;for(;l--;)c=o[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:yL(e)),u=d;return d};zy();const $d={http:MO,xhr:hL,fetch:{get:zy}};D.forEach($d,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ap=t=>`- ${t}`,vL=t=>D.isFunction(t)||t===null||t===!1,Fy={getAdapter:(t,e)=>{t=D.isArray(t)?t:[t];const{length:n}=t;let s,r;const o={};for(let i=0;i<n;i++){s=t[i];let l;if(r=s,!vL(s)&&(r=$d[(l=String(s)).toLowerCase()],r===void 0))throw new J(`Unknown adapter '${l}'`);if(r&&(D.isFunction(r)||(r=r.get(e))))break;o[l||"#"+i]=r}if(!r){const i=Object.entries(o).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?i.length>1?`since :
`+i.map(ap).join(`
`):" "+ap(i[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:$d};function uc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Sr(null,t)}function lp(t){return uc(t),t.headers=lt.from(t.headers),t.data=dc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Fy.getAdapter(t.adapter||ni.adapter,t)(t).then(function(s){return uc(t),s.data=dc.call(t,t.transformResponse,s),s.headers=lt.from(s.headers),s},function(s){return $y(s)||(uc(t),s&&s.response&&(s.response.data=dc.call(t,t.transformResponse,s.response),s.response.headers=lt.from(s.response.headers))),Promise.reject(s)})}const By="1.12.2",Cl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Cl[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const cp={};Cl.transitional=function(e,n,s){function r(o,i){return"[Axios v"+By+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,l)=>{if(e===!1)throw new J(r(i," has been removed"+(n?" in "+n:"")),J.ERR_DEPRECATED);return n&&!cp[i]&&(cp[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,l):!0}};Cl.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function SL(t,e,n){if(typeof t!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const o=s[r],i=e[o];if(i){const l=t[o],c=l===void 0||i(l,o,t);if(c!==!0)throw new J("option "+o+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new J("Unknown option "+o,J.ERR_BAD_OPTION)}}const oa={assertOptions:SL,validators:Cl},Ft=oa.validators;let hs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Gf,response:new Gf}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ws(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&oa.assertOptions(s,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),r!=null&&(D.isFunction(r)?n.paramsSerializer={serialize:r}:oa.assertOptions(r,{encode:Ft.function,serialize:Ft.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),oa.assertOptions(n,{baseUrl:Ft.spelling("baseURL"),withXsrfToken:Ft.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&D.merge(o.common,o[n.method]);o&&D.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=lt.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,h=0,f;if(!c){const g=[lp.bind(this),void 0];for(g.unshift(...l),g.push(...d),f=g.length,u=Promise.resolve(n);h<f;)u=u.then(g[h++],g[h++]);return u}f=l.length;let m=n;for(;h<f;){const g=l[h++],p=l[h++];try{m=g(m)}catch(x){p.call(this,x);break}}try{u=lp.call(this,m)}catch(g){return Promise.reject(g)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=ws(this.defaults,e);const n=Oy(e.baseURL,e.url,e.allowAbsoluteUrls);return Ay(n,e.params,e.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(e){hs.prototype[e]=function(n,s){return this.request(ws(s||{},{method:e,url:n,data:(s||{}).data}))}});D.forEach(["post","put","patch"],function(e){function n(s){return function(o,i,l){return this.request(ws(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}hs.prototype[e]=n(),hs.prototype[e+"Form"]=n(!0)});let wL=class Wy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(l=>{s.subscribe(l),o=l}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},e(function(o,i,l){s.reason||(s.reason=new Sr(o,i,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Wy(function(r){e=r}),cancel:e}}};function kL(t){return function(n){return t.apply(null,n)}}function jL(t){return D.isObject(t)&&t.isAxiosError===!0}const Md={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Md).forEach(([t,e])=>{Md[e]=t});function Uy(t){const e=new hs(t),n=vy(hs.prototype.request,e);return D.extend(n,hs.prototype,e,{allOwnKeys:!0}),D.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return Uy(ws(t,r))},n}const ke=Uy(ni);ke.Axios=hs;ke.CanceledError=Sr;ke.CancelToken=wL;ke.isCancel=$y;ke.VERSION=By;ke.toFormData=jl;ke.AxiosError=J;ke.Cancel=ke.CanceledError;ke.all=function(e){return Promise.all(e)};ke.spread=kL;ke.isAxiosError=jL;ke.mergeConfig=ws;ke.AxiosHeaders=lt;ke.formToJSON=t=>Ny(D.isHTMLForm(t)?new FormData(t):t);ke.getAdapter=Fy.getAdapter;ke.HttpStatusCode=Md;ke.default=ke;const{Axios:oH,AxiosError:iH,CanceledError:aH,isCancel:lH,CancelToken:cH,VERSION:dH,all:uH,Cancel:hH,isAxiosError:fH,spread:pH,toFormData:gH,AxiosHeaders:mH,HttpStatusCode:xH,formToJSON:yH,getAdapter:bH,mergeConfig:vH}=ke,A=ke.create({baseURL:"http://localhost:8086/api"});class CL{async login(e,n){const s={email:e,motDePasse:n};console.log("Login request:",s);const r=await A.post("/auth/connexion",s);if(console.log("Login response:",r.data),r.status===200)return{success:!0,data:r.data};throw new Error("Login failed")}async forgotPassword(e){return(await A.post("/auth/forgot-password",{email:e})).data}async validateResetToken(e){return(await A.post("/auth/validate-reset-token",{token:e})).data}async resetPassword(e){return(await A.post("/auth/reset-password",e)).data}async verifyCode(e){const n=this.getStoredUserId();if(console.log("Verifying code for userId:",n),!n)throw new Error("User ID not found");const s={utilisateurId:n,code:e};return(await A.post("/auth/valider-code",s)).data}async regenerateCode(){const e=this.getStoredUserId();if(console.log("Regenerating code for userId:",e),!e)throw new Error("User ID not found");return(await A.post("/auth/regenerer-code",null,{params:{utilisateurId:e}})).data}async storeUserRole(e){try{const r=(await A.get(`/utilisateur-role/roles/${e}`)).data[0]||"CLIENT";console.log("Storing user role:",r),localStorage.setItem("role",r)}catch(n){console.error("Error fetching user role:",n),localStorage.setItem("role","CLIENT")}}storeUserData(e){console.log("Storing user data:",e);const{jeton:n,email:s,utilisateurId:r,nom:o,companyId:i,companyName:l}=e,c=r.toString(),d=(i==null?void 0:i.toString())||"";console.log("Converted userId:",c),localStorage.setItem("jeton",n),localStorage.setItem("email",s),localStorage.setItem("userId",c),localStorage.setItem("userName",o),localStorage.setItem("companyId",d),localStorage.setItem("companyName",l),this.storeUserRole(c),console.log("Stored jeton in localStorage:",localStorage.getItem("jeton")),console.log("Stored role in localStorage:",localStorage.getItem("role"))}markUserAsVerified(){localStorage.setItem("verified","true")}getUserRole(){const e=localStorage.getItem("role");return console.log("Retrieved role from localStorage:",e),e||"CLIENT"}logout(){localStorage.clear()}isAuthenticated(){const e=localStorage.getItem("jeton"),n=localStorage.getItem("verified");return console.log("isAuthenticated check:"),console.log(" - jeton exists:",!!e),console.log(" - verified:",n),console.log(" - result:",!!e&&n==="true"),!!e&&n==="true"}getStoredUserId(){const e=localStorage.getItem("userId");return console.log("Retrieved userId from localStorage:",e),e}}const Vt=new CL,TL=()=>{const[t,e]=S.useState(!1),[n,s]=S.useState(""),r=Me(),o=async(h,f)=>{var m;e(!0),s("");try{const g=await Vt.login(h,f);return g.success&&g.data?(Vt.storeUserData(g.data),{success:!0,user:g.data,requiresVerification:!0}):{success:!1,error:"chec de la connexion"}}catch(g){const p=((m=g.response)==null?void 0:m.status)===401?"Email ou mot de passe incorrect":"Erreur de connexion au serveur";return s(p),{success:!1,error:p}}finally{e(!1)}},i=async h=>{e(!0),s("");try{const f=await Vt.verifyCode(h);if(console.log("Code verification response:",f),f.valid){Vt.markUserAsVerified(),console.log("User verified, checking stored data:"),console.log("jeton:",localStorage.getItem("jeton")),console.log("verified:",localStorage.getItem("verified")),console.log("userId:",localStorage.getItem("userId")),console.log("role:",localStorage.getItem("role"));const m=Vt.getUserRole();return console.log("User role:",m),setTimeout(()=>{console.log("Executing navigation..."),c(m)},100),{success:!0}}else return s("Code de vrification incorrect"),{success:!1,error:"Code invalide"}}catch(f){return console.error("Error during code verification:",f),s("Erreur lors de la vrification du code"),{success:!1,error:"Erreur serveur"}}finally{e(!1)}},l=async()=>{e(!0),s("");try{return(await Vt.regenerateCode()).valid?(s(""),{success:!0}):(s("Erreur lors de la rgnration du code"),{success:!1,error:"Erreur de rgnration"})}catch{return s("Erreur lors de la rgnration du code"),{success:!1,error:"Erreur serveur"}}finally{e(!1)}},c=h=>{console.log("Redirecting user with role:",h);const m={ADMIN:"/admin/dashboard",CONSULTANT:"/consultant/tickets",CLIENT:"/dashboard",admin:"/admin/dashboard",consultant:"/consultant/tickets",client:"/dashboard"}[h]||"/dashboard";console.log("Navigating to:",m),window.location.href=m};return{login:o,verifyCode:i,regenerateCode:l,logout:()=>{Vt.logout(),r("/login")},loading:t,error:n,clearError:()=>{s("")},setError:s}},EL=(t=4)=>{const[e,n]=S.useState(Array(t).fill(""));return{code:e,updateCode:(i,l)=>{if(l.length<=1&&/^\d*$/.test(l)){const c=[...e];if(c[i]=l,n(c),l&&i<t-1){const d=document.getElementById(`code-${i+1}`);d==null||d.focus()}}},resetCode:()=>{n(Array(t).fill(""))},getCodeString:()=>e.join("")}},V=t=>{const{t:e,i18n:n,ready:s}=yy(t),r=(l,c)=>{if(!s)return l.split(":").pop()||l;const d=e(l,c);if(d===l){console.warn(`Translation missing for key: ${l}`);const u=l.split(":");return u[u.length-1]}return d},o=l=>n.changeLanguage(l),i=n.language;return{t:r,changeLanguage:o,currentLanguage:i,i18n:n,ready:s}},_L=({email:t,setEmail:e,password:n,setPassword:s,error:r,onLogin:o,loading:i,onFillCredentials:l,onShowForgotPassword:c})=>{const{t:d}=V(["auth","common"]);return a.jsxs("div",{style:{background:"rgba(200, 200, 200, 0.9)",padding:"40px 50px",borderRadius:"30px",width:"450px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)",position:"relative"},children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"20px",marginTop:"-20px"},children:[a.jsx("img",{src:"../../assets/Logoo.png",alt:"OPTIMADA",style:{width:"310px",height:"150px",marginBottom:"10px",borderRadius:"10px",objectFit:"cover",border:"none",overflow:"hidden",display:"block"},onError:u=>{const h=u.target;h.style.display="none";const f=document.getElementById("logo-fallback");f&&(f.style.display="flex")},onLoad:u=>{const h=u.target;h.style.borderRadius="50px"}}),a.jsx("div",{id:"logo-fallback",style:{width:"180px",height:"180px",background:"#FFD700",borderRadius:"50px",display:"none",alignItems:"center",justifyContent:"center",marginBottom:"10px",boxShadow:"0 4px 12px rgba(255, 215, 0, 0.3)"},children:a.jsx("span",{style:{fontSize:"48px",fontWeight:"bold",color:"#000"},children:"O"})}),a.jsx("h2",{style:{textAlign:"center",margin:0,fontSize:"32px",color:"#333"},children:d("auth:login")})]}),r&&a.jsx("div",{style:{color:"#dc3545",backgroundColor:"rgba(220, 53, 69, 0.1)",padding:"10px 20px",borderRadius:"10px",marginBottom:"20px",border:"1px solid #dc3545",textAlign:"center"},children:r}),a.jsxs("form",{onSubmit:o,children:[a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333",fontSize:"14px"},children:[d("auth:email"),":"]}),a.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:d("auth:emailPlaceholder"),style:{width:"100%",padding:"12px 20px",borderRadius:"25px",border:"none",fontSize:"16px",transition:"all 0.2s ease"},onFocus:u=>{u.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:u=>{u.target.style.boxShadow="none"},required:!0})]}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333",fontSize:"14px"},children:[d("auth:password"),":"]}),a.jsx("input",{type:"password",value:n,onChange:u=>s(u.target.value),placeholder:d("auth:passwordPlaceholder"),style:{width:"100%",padding:"12px 20px",borderRadius:"25px",border:"none",fontSize:"16px",transition:"all 0.2s ease"},onFocus:u=>{u.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:u=>{u.target.style.boxShadow="none"},required:!0})]}),a.jsx("button",{type:"submit",disabled:i,style:{width:"100%",background:i?"#6c757d":"#10b981",color:"white",padding:"12px",borderRadius:"25px",border:"none",fontSize:"16px",fontWeight:"600",cursor:i?"not-allowed":"pointer",marginTop:"15px",opacity:i?.7:1,transition:"all 0.2s ease"},onMouseEnter:u=>{i||(u.currentTarget.style.background="#059669",u.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:u=>{i||(u.currentTarget.style.background="#10b981",u.currentTarget.style.transform="translateY(0)")},children:d(i?"auth:signingIn":"auth:signIn")}),a.jsx("div",{style:{textAlign:"center",marginTop:"15px"},children:a.jsx("a",{href:"#",onClick:u=>{u.preventDefault(),c()},style:{color:"#666",fontSize:"14px",textDecoration:"none",transition:"color 0.2s ease"},onMouseEnter:u=>{u.currentTarget.style.color="#3b82f6"},onMouseLeave:u=>{u.currentTarget.style.color="#666"},children:d("auth:forgotPassword")})})]})]})},RL=()=>{const{t}=V(["auth","common"]),[e,n]=S.useState(""),[s,r]=S.useState(!1),o=async l=>{try{return(await Vt.forgotPassword(l)).success}catch(c){throw console.error("Forgot password error:",c),c}};return{message:e,isSending:s,handleSubmit:async l=>{if(!l){n(t("auth:enterEmailForReset"));return}r(!0),n("");try{await o(l),n(t("auth:resetEmailSent"))}catch{n(t("auth:resetEmailError"))}finally{r(!1)}},setMessage:n}},Wa=({children:t,title:e,showLogo:n=!0})=>{const{t:s}=V(["auth"]);return a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #6dd5ed 0%, #2193b0 100%)",padding:"20px"},children:a.jsxs("div",{style:{background:"rgba(200, 200, 200, 0.9)",padding:"40px 50px",borderRadius:"30px",width:"450px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},children:[n&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"30px"},children:[a.jsx("img",{src:"/src/dist/img/Logooo.png",alt:"OPTIMADA",style:{width:"310px",height:"150px",marginBottom:"10px",borderRadius:"10px",objectFit:"cover"}}),e&&a.jsx("h2",{style:{textAlign:"center",margin:0,fontSize:"32px",color:"#333"},children:s(e)})]}),t]})})},Hy=({message:t,type:e,onDismiss:n})=>{if(!t)return null;const s={success:{color:"#28a745",backgroundColor:"rgba(40, 167, 69, 0.1)",border:"1px solid #28a745"},error:{color:"#dc3545",backgroundColor:"rgba(220, 53, 69, 0.1)",border:"1px solid #dc3545"},warning:{color:"#ffc107",backgroundColor:"rgba(255, 193, 7, 0.1)",border:"1px solid #ffc107"},info:{color:"#17a2b8",backgroundColor:"rgba(23, 162, 184, 0.1)",border:"1px solid #17a2b8"}};return a.jsxs("div",{style:{...s[e],padding:"10px 20px",borderRadius:"10px",marginBottom:"20px",textAlign:"center",position:"relative"},children:[t,n&&a.jsx("button",{onClick:n,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",fontSize:"16px",cursor:"pointer",color:"inherit"},children:""})]})},PL=({email:t,setEmail:e,onBackToLogin:n,onSendResetLink:s,loading:r=!1})=>{const{t:o}=V(["auth","common"]),{message:i,isSending:l,handleSubmit:c,setMessage:d}=RL(),u=async h=>{h.preventDefault(),await c(t)};return a.jsxs(Wa,{title:"auth:forgotPassword",showLogo:!0,children:[a.jsx(Hy,{message:i,type:i.includes("Error")?"error":i?"success":"info",onDismiss:()=>d("")}),a.jsxs("form",{onSubmit:u,children:[a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333",fontSize:"14px"},children:[o("auth:email"),":"]}),a.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),placeholder:o("auth:emailPlaceholder"),style:{width:"100%",padding:"12px 20px",borderRadius:"25px",border:"none",fontSize:"16px",transition:"all 0.2s ease"},onFocus:h=>{h.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:h=>{h.target.style.boxShadow="none"},required:!0})]}),a.jsxs("div",{style:{display:"flex",gap:"10px"},children:[a.jsx("button",{type:"button",onClick:n,disabled:l,style:{flex:1,background:"#6c757d",color:"white",padding:"12px",borderRadius:"25px",border:"none",fontSize:"16px",fontWeight:"600",cursor:l?"not-allowed":"pointer",opacity:l?.7:1,transition:"all 0.2s ease"},children:o("common:back")}),a.jsx("button",{type:"submit",disabled:l,style:{flex:1,background:l?"#6c757d":"#3b82f6",color:"white",padding:"12px",borderRadius:"25px",border:"none",fontSize:"16px",fontWeight:"600",cursor:l?"not-allowed":"pointer",opacity:l?.7:1,transition:"all 0.2s ease"},children:o(l?"auth:sending":"auth:sendResetLink")})]})]}),a.jsx("div",{style:{textAlign:"center",marginTop:"20px",fontSize:"14px",color:"#666",lineHeight:"1.5"},children:o("auth:resetInstructions")})]})},DL=({code:t,onCodeChange:e,error:n,onVerify:s,onRegenerateCode:r,onBack:o,loading:i})=>{const{t:l}=V(["auth","common"]),c=(h,f)=>{if(f.length<=1&&/^\d*$/.test(f)&&(e(h,f),f&&h<3)){const m=document.getElementById(`code-${h+1}`);m&&m.focus()}},d=(h,f)=>{if(f.key==="Backspace"&&!t[h]&&h>0){const m=document.getElementById(`code-${h-1}`);m&&m.focus()}},u=h=>{h.preventDefault();const m=h.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);m.split("").forEach((x,b)=>{e(b,x)});const g=Math.min(m.length-1,3),p=document.getElementById(`code-${g}`);p&&p.focus()};return a.jsxs("div",{style:{background:"rgba(200, 200, 200, 0.9)",padding:"50px",borderRadius:"30px",width:"450px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)",textAlign:"center",position:"relative"},children:[a.jsxs("div",{style:{position:"absolute",top:"-80px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[a.jsx("img",{src:"/src/dist/img/Logooo.png",alt:"OPTIMADA",style:{width:"310px",height:"120px",borderRadius:"30px",objectFit:"cover",border:"none",overflow:"hidden",display:"block",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},onError:h=>{const f=h.target;f.style.display="none";const m=document.getElementById("verification-logo-fallback");m&&(m.style.display="flex")},onLoad:h=>{const f=h.target;f.style.borderRadius="30px"}}),a.jsx("div",{id:"verification-logo-fallback",style:{width:"120px",height:"120px",background:"#FFD700",borderRadius:"30px",display:"none",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(255, 215, 0, 0.3)"},children:a.jsx("span",{style:{fontSize:"36px",fontWeight:"bold",color:"#000"},children:"O"})})]}),a.jsx("h2",{style:{marginBottom:"30px",fontSize:"28px",color:"#333",marginTop:"20px"},children:l("auth:verificationTitle")}),a.jsx("p",{style:{marginBottom:"30px",color:"#666",fontSize:"16px",lineHeight:"1.5"},children:l("auth:verificationDescription")}),n&&a.jsx("div",{style:{color:"#dc3545",backgroundColor:"rgba(220, 53, 69, 0.1)",padding:"10px 20px",borderRadius:"10px",marginBottom:"20px",border:"1px solid #dc3545"},children:n}),a.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginBottom:"30px"},children:[0,1,2,3].map(h=>a.jsx("input",{id:`code-${h}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:t[h],onChange:f=>c(h,f.target.value),onKeyDown:f=>d(h,f),onPaste:u,style:{width:"60px",height:"60px",textAlign:"center",fontSize:"24px",fontWeight:"bold",borderRadius:"15px",border:"2px solid #ddd",background:"white",transition:"all 0.2s ease"},onFocus:f=>{f.target.style.borderColor="#3b82f6",f.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:f=>{f.target.style.borderColor="#ddd",f.target.style.boxShadow="none"}},h))}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[a.jsx("button",{onClick:s,disabled:i||t.join("").length!==4,style:{width:"100%",background:i||t.join("").length!==4?"#6c757d":"#10b981",color:"white",padding:"14px",borderRadius:"25px",border:"none",fontSize:"16px",fontWeight:"600",cursor:i||t.join("").length!==4?"not-allowed":"pointer",opacity:i||t.join("").length!==4?.7:1,transition:"all 0.2s ease"},children:l(i?"auth:verifying":"auth:verify")}),a.jsx("button",{onClick:r,disabled:i,style:{background:"transparent",color:"#3b82f6",border:"1px solid #3b82f6",padding:"12px",borderRadius:"25px",fontSize:"14px",cursor:i?"not-allowed":"pointer",opacity:i?.7:1,transition:"all 0.2s ease"},children:l("auth:resendCode")}),a.jsx("button",{onClick:o,style:{background:"transparent",color:"#666",border:"none",padding:"10px",fontSize:"14px",cursor:"pointer",textDecoration:"underline",transition:"color 0.2s ease"},onMouseEnter:h=>{h.currentTarget.style.color="#3b82f6"},onMouseLeave:h=>{h.currentTarget.style.color="#666"},children:l("auth:backToLogin")})]})]})},AL=()=>{const{t}=V("auth");return a.jsxs("div",{style:{flex:1,maxWidth:"600px",color:"white",paddingRight:"60px"},children:[a.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",marginBottom:"20px",textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:t("hero.title")}),a.jsx("p",{style:{fontSize:"20px",marginBottom:"30px",lineHeight:"1.6",textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:t("hero.description")}),a.jsx("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:["feature2","feature3"].map((e,n)=>a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.2)",padding:"15px 20px",borderRadius:"15px",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[a.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:t(`hero.features.${e}.title`)}),a.jsx("div",{style:{fontSize:"14px",opacity:.9},children:t(`hero.features.${e}.description`)})]},e))})]})},IL=[{code:"fr",name:"FR",flag:"",fullName:"Franais"},{code:"en",name:"EN",flag:"",fullName:"English"},{code:"mg",name:"MG",flag:"",fullName:"Malagasy"}],dp=({code:t,size:e=16})=>{const n={fr:"",en:"",mg:""};return a.jsx("span",{style:{fontSize:`${e}px`},children:n[t]||""})},ia=()=>{const{i18n:t}=yy(),[e,n]=S.useState(!1),s=IL,r=s.find(i=>i.code===t.language)||s[0],o=i=>{localStorage.setItem("preferred-language",i),t.changeLanguage(i),n(!1)};return oe.useEffect(()=>{const i=localStorage.getItem("preferred-language");i&&i!==t.language&&t.changeLanguage(i)},[t]),a.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[a.jsxs("button",{onClick:()=>n(!e),style:{background:"rgba(255, 255, 255, 0.2)",color:"white",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"8px 16px",borderRadius:"20px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",backdropFilter:"blur(10px)",minWidth:"120px",justifyContent:"space-between",fontFamily:'"Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji", sans-serif'},children:[a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(dp,{code:r.code,size:16}),a.jsx("span",{children:r.name})]}),a.jsx("span",{style:{fontSize:"12px",transition:"transform 0.3s ease",transform:e?"rotate(180deg)":"rotate(0deg)"},children:""})]}),e&&a.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",marginTop:"8px",padding:"8px",zIndex:1e3,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",minWidth:"140px",fontFamily:'"Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji", sans-serif'},children:s.map(i=>a.jsxs("button",{onClick:()=>o(i.code),style:{width:"100%",background:t.language===i.code?"rgba(59, 130, 246, 0.1)":"transparent",color:t.language===i.code?"#3b82f6":"#374151",border:"none",padding:"10px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.2s ease",textAlign:"left"},children:[a.jsx(dp,{code:i.code,size:16}),a.jsx("span",{style:{flex:1},children:i.fullName}),t.language===i.code&&a.jsx("span",{style:{color:"#3b82f6",fontSize:"12px"},children:""})]},i.code))}),e&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999},onClick:()=>n(!1)})]})},NL=()=>{const[t,e]=S.useState(""),[n,s]=S.useState(""),[r,o]=S.useState("login"),[i,l]=S.useState(null),{login:c,verifyCode:d,regenerateCode:u,loading:h,error:f,setError:m}=TL(),{code:g,updateCode:p,resetCode:x,getCodeString:b}=EL(),{t:y}=V(["auth","common"]),v=async R=>{R.preventDefault(),o("verification");const _=await c(t,n);_.success&&_.requiresVerification&&_.user?l(_.user):_.success||o("login")},w=async()=>{var _;const R=b();R.length===4?(await d(R)).success||(x(),(_=document.getElementById("code-0"))==null||_.focus()):m(y("auth:completeCodeError"))},k=async()=>{const R=await u();R.success?console.log(y("auth:codeRegenerated")):m(R.error||y("auth:regenerateError"))},j=()=>{o("login"),m(""),x(),l(null)},C=()=>{o("forgot-password"),m("")},T=async R=>{try{const _=await fetch("http://localhost:8086/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:R})}),M=await _.json();if(!_.ok)throw new Error(M.message||"Erreur lors de la demande de rinitialisation");if(!M.success)throw new Error(M.message);return}catch(_){throw console.error("Erreur forgot password:",_),_}},P=(R,_)=>{e(R),s(_),m("")};return r==="verification"?a.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #6dd5ed 0%, #2193b0 100%)",padding:"20px",position:"relative"},children:[a.jsx("div",{style:{position:"absolute",top:"20px",right:"20px",zIndex:10},children:a.jsx(ia,{})}),a.jsx(DL,{code:g,onCodeChange:p,error:f,onVerify:w,onRegenerateCode:k,onBack:j,loading:h})]}):r==="forgot-password"?a.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #6dd5ed 0%, #2193b0 100%)",padding:"20px",position:"relative"},children:[a.jsx("div",{style:{position:"absolute",top:"20px",right:"20px",zIndex:10},children:a.jsx(ia,{})}),a.jsx(PL,{email:t,setEmail:e,onBackToLogin:j,onSendResetLink:T,loading:h})]}):a.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(135deg, #6dd5ed 0%, #2193b0 100%)",padding:"40px 80px",position:"relative"},children:[a.jsx("div",{style:{position:"absolute",top:"20px",right:"20px",zIndex:10},children:a.jsx(ia,{})}),a.jsx(AL,{}),a.jsx(_L,{email:t,setEmail:e,password:n,setPassword:s,error:f,onLogin:v,loading:h,onFillCredentials:P,onShowForgotPassword:C})]})};function Ce({role:t}){const e=Me(),{t:n}=V(["common","auth","tickets","admin"]),s=()=>{localStorage.removeItem("jeton"),localStorage.removeItem("role"),localStorage.removeItem("userName"),localStorage.removeItem("company"),e("/connexion")},r=localStorage.getItem("companyName")||n("common:myCompany");return a.jsxs("nav",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 40px",background:"#4ed9f1ff",position:"fixed",top:0,left:0,right:0,zIndex:1e3,width:"100%",boxSizing:"border-box"},children:[a.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[t==="CLIENT"&&a.jsxs(a.Fragment,{children:[a.jsx(yt,{to:"/dashboard",children:n("common:dashboard")}),a.jsx(yt,{to:"/mes-demandes",children:n("tickets:myTickets")}),a.jsx(yt,{to:"/nouvelle-demande",children:n("tickets:newTicket")}),a.jsx(yt,{to:"/ma-societe",children:n("common:myCompany")})]}),t==="CONSULTANT"&&a.jsxs(a.Fragment,{children:[a.jsx(yt,{to:"/consultant/tickets",children:n("tickets:tickets")}),a.jsx(yt,{to:"/consultant/interventions",children:n("admin:interventions")})]}),t==="ADMIN"&&a.jsxs(a.Fragment,{children:[a.jsx(yt,{to:"/admin/demandes",children:n("common:demandes")}),a.jsx(yt,{to:"/admin/interventions",children:n("common:interventions")}),a.jsx(yt,{to:"/admin/dashboard",children:n("common:dashboard")}),a.jsx(yt,{to:"/admin/rapports",children:n("admin:reports")}),a.jsx(yt,{to:"/admin/configurations",children:n("admin:configurations")}),a.jsx(yt,{to:"/admin/gestion-utilisateurs",children:n("admin:users")})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[a.jsx(qu,{to:"/profile",style:{fontSize:"16px",fontFamily:"Arial, sans-serif",color:"black",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.1)",padding:"8px 16px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"20px",backdropFilter:"blur(5px)",textDecoration:"none",transition:"transform 0.2s ease"},onMouseEnter:o=>{o.currentTarget.style.transform="scale(1.1)"},onMouseLeave:o=>{o.currentTarget.style.transform="scale(1)"},children:r}),a.jsx(ia,{}),a.jsx("button",{onClick:s,style:{background:"#ef4444",color:"white",padding:"10px 24px",borderRadius:"25px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background 0.2s ease"},onMouseEnter:o=>{o.currentTarget.style.background="#dc2626"},onMouseLeave:o=>{o.currentTarget.style.background="#ef4444"},children:n("auth:logout")})]})]})}function yt({to:t,children:e}){return a.jsx(qu,{to:t,style:{padding:"10px 24px",background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(10px)",borderRadius:"25px",color:"black",textDecoration:"none",fontSize:"14px",fontWeight:"500",transition:"all 0.3s ease",border:"1px solid rgba(255, 255, 255, 0.3)"},onMouseEnter:n=>{n.currentTarget.style.background="rgba(255, 255, 255, 0.35)",n.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:n=>{n.currentTarget.style.background="rgba(255, 255, 255, 0.25)",n.currentTarget.style.transform="translateY(0)"},children:e})}const Vy={async getDashboardData(t){try{const e=await A.get(`/dashboard/client/${t}`);return console.log("Donnes brutes du backend:",e.data),$L(e.data)}catch(e){throw console.error("Erreur lors du chargement des donnes du dashboard:",e),e}},async getChartData(t,e="6months"){try{return(await A.get(`/dashboard/client/${t}/chart?period=${e}`)).data}catch(n){throw console.error("Erreur lors du chargement des donnes du graphique:",n),n}},async getCreditsHoraires(t){try{const e=await A.get(`/api/credits-horaires/company/${t}`);return console.log("Donnes brutes des crdits horaires:",e.data),Yr(e.data)}catch(e){throw console.error("Erreur lors du chargement des crdits horaires:",e),e}},async getCreditsHorairesParProduit(t,e){try{const n=await A.get(`/creditsHoraires/company/${t}/produit/${e}`);return console.log("Donnes brutes des crdits horaires par produit:",n.data),Yr(n.data)}catch(n){throw console.error("Erreur lors du chargement des crdits horaires par produit:",n),n}},async getCreditsHorairesActifs(t){try{const e=await A.get(`/api/credits-horaires/company/${t}/actifs`);return console.log("Donnes brutes des crdits horaires actifs:",e.data),Yr(e.data)}catch(e){throw console.error("Erreur lors du chargement des crdits horaires actifs:",e),e}},async getCreditsHorairesActifsParProduit(t,e){try{const n=await A.get(`/api/credits-horaires/company/${t}/produit/${e}/actifs`);return console.log("Donnes brutes des crdits horaires actifs par produit:",n.data),Yr(n.data)}catch(n){throw console.error("Erreur lors du chargement des crdits horaires actifs par produit:",n),n}},async getHeuresRestantesPourProduit(t,e){try{const n=await A.get(`/api/credits-horaires/company/${t}/produit/${e}/heures-restantes`);return console.log("Heures restantes pour le produit:",n.data),n.data.heuresRestantes||0}catch(n){return console.error("Erreur lors du chargement des heures restantes:",n),0}},async getHeuresRestantesTotal(t){try{const e=await A.get(`/api/credits-horaires/company/${t}/heures-restantes-total`);return console.log("Heures restantes totales:",e.data),e.data.heuresRestantesTotal||0}catch(e){return console.error("Erreur lors du chargement des heures restantes totales:",e),0}},async consommerHeures(t,e,n){try{const s=await A.post(`/api/credits-horaires/company/${t}/produit/${e}/consommer`,{heures:n});return console.log("Heures consommes avec succs:",s.data),s.data}catch(s){throw console.error("Erreur lors de la consommation d'heures:",s),s}}},$L=t=>(console.log("Transformation des donnes backend:",t),{repartitionStatut:up(t.ticketsParStatut),dureeTraitement:ML(t.dureesMoyennes),repartitionProduit:up(t.ticketsParProduit),creditsHoraires:Yr(t.creditsHoraires),chartData:OL(t)}),up=t=>!t||typeof t!="object"?(console.warn("Donnes manquantes pour la transformation:",t),[]):Object.entries(t).map(([e,n])=>({label:e,value:n})),ML=t=>t?[{label:"Temps moyen de rsolution",value:`${t.moyenneJours||0} jours`},{label:"Tickets rapides (<24h)",value:t.rapides||0},{label:"Tickets normaux (1-3 jours)",value:t.normaux||0},{label:"Tickets lents (>3 jours)",value:t.lents||0}]:[{label:"Temps moyen de rsolution",value:"0 jours"},{label:"Tickets en retard",value:"0 / 0",color:"#10b981"}],Yr=t=>!t||!Array.isArray(t)?(console.warn("Crdits horaires manquants ou invalides:",t),[]):t.map(e=>({id:e.id,product:e.nomProduit||"Non spcifi",produitId:e.produitId,company:e.nomCompany||"",periodeDebut:e.periodeDebut,periodeFin:e.periodeFin,initial:e.heuresAllouees||0,used:e.heuresConsommees||0,remaining:e.heuresRestantes||0,pourcentageUtilisation:e.pourcentageUtilisation||0,actif:e.actif||!1,expire:e.expire||!1})),OL=t=>{if(t.chartData)return t.chartData;const e=t.ticketsParStatut||{};return Object.values(e).reduce((n,s)=>n+Number(s),0),{labels:Object.keys(e),datasets:[{label:"Tickets par statut",data:Object.values(e).map(n=>Number(n)),borderColor:"#000",backgroundColor:"rgba(0, 0, 0, 0.1)",tension:.4,borderWidth:3}]}},LL=()=>{const[t,e]=S.useState(null),[n,s]=S.useState(!0),[r,o]=S.useState(null),i=async()=>{try{s(!0),o(null);const l=localStorage.getItem("userId");if(!l)throw new Error("Utilisateur non connect");const c=await Vy.getDashboardData(l);console.log("Donnes transformes pour le frontend:",c),e(c)}catch(l){console.error("Erreur dans useDashboard:",l),o(l instanceof Error?l.message:"Erreur lors du chargement")}finally{s(!1)}};return S.useEffect(()=>{i()},[]),{dashboardData:t,loading:n,error:r,refetch:i}},hc=({title:t,statistics:e,onStatisticClick:n})=>{const{t:s}=V(["common"]);return!e||!Array.isArray(e)?a.jsxs("div",{style:{background:"rgba(200, 240, 180, 0.7)",padding:"30px",borderRadius:"20px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",marginBottom:"30px"},children:[a.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px",textDecoration:"underline"},children:t}),a.jsx("div",{style:{color:"#666",fontStyle:"italic"},children:s("common:noDataAvailable")})]}):a.jsxs("div",{style:{background:"rgba(200, 240, 180, 0.7)",padding:"30px",borderRadius:"20px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",marginBottom:"30px"},children:[a.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px",textDecoration:"underline"},children:t}),a.jsx("ul",{style:{listStyle:"none",padding:0},children:e.map((r,o)=>a.jsxs("li",{onClick:()=>n==null?void 0:n(r),style:{marginBottom:"12px",color:"#2563eb",textDecoration:"none",cursor:"default",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("span",{children:[r.label," :"]}),a.jsx("span",{style:{fontWeight:"bold",color:r.color||"#2563eb"},children:r.value})]},o))})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function si(t){return t+.5|0}const En=(t,e,n)=>Math.max(Math.min(t,n),e);function Jr(t){return En(si(t*2.55),0,255)}function zn(t){return En(si(t*255),0,255)}function nn(t){return En(si(t/2.55)/100,0,1)}function hp(t){return En(si(t*100),0,100)}const bt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Od=[..."0123456789ABCDEF"],zL=t=>Od[t&15],FL=t=>Od[(t&240)>>4]+Od[t&15],Ci=t=>(t&240)>>4===(t&15),BL=t=>Ci(t.r)&&Ci(t.g)&&Ci(t.b)&&Ci(t.a);function WL(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&bt[t[1]]*17,g:255&bt[t[2]]*17,b:255&bt[t[3]]*17,a:e===5?bt[t[4]]*17:255}:(e===7||e===9)&&(n={r:bt[t[1]]<<4|bt[t[2]],g:bt[t[3]]<<4|bt[t[4]],b:bt[t[5]]<<4|bt[t[6]],a:e===9?bt[t[7]]<<4|bt[t[8]]:255})),n}const UL=(t,e)=>t<255?e(t):"";function HL(t){var e=BL(t)?zL:FL;return t?"#"+e(t.r)+e(t.g)+e(t.b)+UL(t.a,e):void 0}const VL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qy(t,e,n){const s=e*Math.min(n,1-n),r=(o,i=(o+t/30)%12)=>n-s*Math.max(Math.min(i-3,9-i,1),-1);return[r(0),r(8),r(4)]}function qL(t,e,n){const s=(r,o=(r+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function KL(t,e,n){const s=qy(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function YL(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function Xu(t){const n=t.r/255,s=t.g/255,r=t.b/255,o=Math.max(n,s,r),i=Math.min(n,s,r),l=(o+i)/2;let c,d,u;return o!==i&&(u=o-i,d=l>.5?u/(2-o-i):u/(o+i),c=YL(n,s,r,u,o),c=c*60+.5),[c|0,d||0,l]}function Gu(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(zn)}function Qu(t,e,n){return Gu(qy,t,e,n)}function JL(t,e,n){return Gu(KL,t,e,n)}function XL(t,e,n){return Gu(qL,t,e,n)}function Ky(t){return(t%360+360)%360}function GL(t){const e=VL.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Jr(+e[5]):zn(+e[5]));const r=Ky(+e[2]),o=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?s=JL(r,o,i):e[1]==="hsv"?s=XL(r,o,i):s=Qu(r,o,i),{r:s[0],g:s[1],b:s[2],a:n}}function QL(t,e){var n=Xu(t);n[0]=Ky(n[0]+e),n=Qu(n),t.r=n[0],t.g=n[1],t.b=n[2]}function ZL(t){if(!t)return;const e=Xu(t),n=e[0],s=hp(e[1]),r=hp(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${nn(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const fp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function e8(){const t={},e=Object.keys(pp),n=Object.keys(fp);let s,r,o,i,l;for(s=0;s<e.length;s++){for(i=l=e[s],r=0;r<n.length;r++)o=n[r],l=l.replace(o,fp[o]);o=parseInt(pp[i],16),t[l]=[o>>16&255,o>>8&255,o&255]}return t}let Ti;function t8(t){Ti||(Ti=e8(),Ti.transparent=[0,0,0,0]);const e=Ti[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const n8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function s8(t){const e=n8.exec(t);let n=255,s,r,o;if(e){if(e[7]!==s){const i=+e[7];n=e[8]?Jr(i):En(i*255,0,255)}return s=+e[1],r=+e[3],o=+e[5],s=255&(e[2]?Jr(s):En(s,0,255)),r=255&(e[4]?Jr(r):En(r,0,255)),o=255&(e[6]?Jr(o):En(o,0,255)),{r:s,g:r,b:o,a:n}}}function r8(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${nn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const fc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Is=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function o8(t,e,n){const s=Is(nn(t.r)),r=Is(nn(t.g)),o=Is(nn(t.b));return{r:zn(fc(s+n*(Is(nn(e.r))-s))),g:zn(fc(r+n*(Is(nn(e.g))-r))),b:zn(fc(o+n*(Is(nn(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Ei(t,e,n){if(t){let s=Xu(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Qu(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Yy(t,e){return t&&Object.assign(e||{},t)}function gp(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=zn(t[3]))):(e=Yy(t,{r:0,g:0,b:0,a:1}),e.a=zn(e.a)),e}function i8(t){return t.charAt(0)==="r"?s8(t):GL(t)}class Lo{constructor(e){if(e instanceof Lo)return e;const n=typeof e;let s;n==="object"?s=gp(e):n==="string"&&(s=WL(e)||t8(e)||i8(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Yy(this._rgb);return e&&(e.a=nn(e.a)),e}set rgb(e){this._rgb=gp(e)}rgbString(){return this._valid?r8(this._rgb):void 0}hexString(){return this._valid?HL(this._rgb):void 0}hslString(){return this._valid?ZL(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let o;const i=n===o?.5:n,l=2*i-1,c=s.a-r.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;o=1-d,s.r=255&d*s.r+o*r.r+.5,s.g=255&d*s.g+o*r.g+.5,s.b=255&d*s.b+o*r.b+.5,s.a=i*s.a+(1-i)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=o8(this._rgb,e._rgb,n)),this}clone(){return new Lo(this.rgb)}alpha(e){return this._rgb.a=zn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=si(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ei(this._rgb,2,e),this}darken(e){return Ei(this._rgb,2,-e),this}saturate(e){return Ei(this._rgb,1,e),this}desaturate(e){return Ei(this._rgb,1,-e),this}rotate(e){return QL(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Gt(){}const a8=(()=>{let t=0;return()=>t++})();function ne(t){return t==null}function Ee(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function te(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Et(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Bt(t,e){return Et(t)?t:e}function Q(t,e){return typeof t>"u"?e:t}const l8=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Jy=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function de(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function se(t,e,n,s){let r,o,i;if(Ee(t))for(o=t.length,r=0;r<o;r++)e.call(n,t[r],r);else if(te(t))for(i=Object.keys(t),o=i.length,r=0;r<o;r++)e.call(n,t[i[r]],i[r])}function Ua(t,e){let n,s,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Ha(t){if(Ee(t))return t.map(Ha);if(te(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=Ha(t[n[r]]);return e}return t}function Xy(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function c8(t,e,n,s){if(!Xy(t))return;const r=e[t],o=n[t];te(r)&&te(o)?zo(r,o,s):e[t]=Ha(o)}function zo(t,e,n){const s=Ee(e)?e:[e],r=s.length;if(!te(t))return t;n=n||{};const o=n.merger||c8;let i;for(let l=0;l<r;++l){if(i=s[l],!te(i))continue;const c=Object.keys(i);for(let d=0,u=c.length;d<u;++d)o(c[d],t,i,n)}return t}function co(t,e){return zo(t,e,{merger:d8})}function d8(t,e,n){if(!Xy(t))return;const s=e[t],r=n[t];te(s)&&te(r)?co(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ha(r))}const mp={"":t=>t,x:t=>t.x,y:t=>t.y};function u8(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function h8(t){const e=u8(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function ks(t,e){return(mp[e]||(mp[e]=h8(e)))(t)}function Zu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Fo=t=>typeof t<"u",Un=t=>typeof t=="function",xp=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function f8(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const re=Math.PI,ye=2*re,p8=ye+re,Va=Number.POSITIVE_INFINITY,g8=re/180,Re=re/2,Jn=re/4,yp=re*2/3,Gy=Math.log10,Xt=Math.sign;function uo(t,e,n){return Math.abs(t-e)<n}function bp(t){const e=Math.round(t);t=uo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Gy(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function m8(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,o)=>r-o).pop(),e}function x8(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Bo(t){return!x8(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function y8(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function b8(t,e,n){let s,r,o;for(s=0,r=t.length;s<r;s++)o=t[s][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function on(t){return t*(re/180)}function v8(t){return t*(180/re)}function vp(t){if(!Et(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Qy(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*re&&(o+=ye),{angle:o,distance:r}}function Ld(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function S8(t,e){return(t-e+p8)%ye-re}function At(t){return(t%ye+ye)%ye}function Wo(t,e,n,s){const r=At(t),o=At(e),i=At(n),l=At(o-r),c=At(i-r),d=At(r-o),u=At(r-i);return r===o||r===i||s&&o===i||l>c&&d<u}function He(t,e,n){return Math.max(e,Math.min(n,t))}function w8(t){return He(t,-32768,32767)}function _n(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function eh(t,e,n){n=n||(i=>t[i]<e);let s=t.length-1,r=0,o;for(;s-r>1;)o=r+s>>1,n(o)?r=o:s=o;return{lo:r,hi:s}}const ls=(t,e,n,s)=>eh(t,n,s?r=>{const o=t[r][e];return o<n||o===n&&t[r+1][e]===n}:r=>t[r][e]<n),k8=(t,e,n)=>eh(t,n,s=>t[s][e]>=n);function j8(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const Zy=["push","pop","shift","splice","unshift"];function C8(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Zy.forEach(n=>{const s="_onData"+Zu(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const i=r.apply(this,o);return t._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...o)}),i}})})}function Sp(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(Zy.forEach(o=>{delete t[o]}),delete t._chartjs)}function e0(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const t0=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function n0(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,t0.call(window,()=>{s=!1,t.apply(e,n)}))}}function T8(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const th=t=>t==="start"?"left":t==="end"?"right":"center",Be=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,E8=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function _8(t,e,n){const s=e.length;let r=0,o=s;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=i.axis,{min:h,max:f,minDefined:m,maxDefined:g}=i.getUserBounds();if(m){if(r=Math.min(ls(c,u,h).lo,n?s:ls(e,u,i.getPixelForValue(h)).lo),d){const p=c.slice(0,r+1).reverse().findIndex(x=>!ne(x[l.axis]));r-=Math.max(0,p)}r=He(r,0,s-1)}if(g){let p=Math.max(ls(c,i.axis,f,!0).hi+1,n?0:ls(e,u,i.getPixelForValue(f),!0).hi+1);if(d){const x=c.slice(p-1).findIndex(b=>!ne(b[l.axis]));p+=Math.max(0,x)}o=He(p,r,s)-r}else o=s-r}return{start:r,count:o}}function R8(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),o}const _i=t=>t===0||t===1,wp=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ye/n)),kp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ye/n)+1,ho={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Re)+1,easeOutSine:t=>Math.sin(t*Re),easeInOutSine:t=>-.5*(Math.cos(re*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>_i(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>_i(t)?t:wp(t,.075,.3),easeOutElastic:t=>_i(t)?t:kp(t,.075,.3),easeInOutElastic(t){return _i(t)?t:t<.5?.5*wp(t*2,.1125,.45):.5+.5*kp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ho.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ho.easeInBounce(t*2)*.5:ho.easeOutBounce(t*2-1)*.5+.5};function nh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function jp(t){return nh(t)?t:new Lo(t)}function pc(t){return nh(t)?t:new Lo(t).saturate(.5).darken(.1).hexString()}const P8=["x","y","borderWidth","radius","tension"],D8=["color","borderColor","backgroundColor"];function A8(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:D8},numbers:{type:"number",properties:P8}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function I8(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Cp=new Map;function N8(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Cp.get(n);return s||(s=new Intl.NumberFormat(t,e),Cp.set(n,s)),s}function sh(t,e,n){return N8(e,n).format(t)}const $8={values(t){return Ee(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,o=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=M8(t,n)}const i=Gy(Math.abs(o)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),sh(t,s,c)}};function M8(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var s0={formatters:$8};function O8(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:s0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const js=Object.create(null),zd=Object.create(null);function fo(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const o=n[s];t=t[o]||(t[o]=Object.create(null))}return t}function gc(t,e,n){return typeof e=="string"?zo(fo(t,e),n):zo(fo(t,""),e)}class L8{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>pc(r.backgroundColor),this.hoverBorderColor=(s,r)=>pc(r.borderColor),this.hoverColor=(s,r)=>pc(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return gc(this,e,n)}get(e){return fo(this,e)}describe(e,n){return gc(zd,e,n)}override(e,n){return gc(js,e,n)}route(e,n,s,r){const o=fo(this,e),i=fo(this,s),l="_"+n;Object.defineProperties(o,{[l]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],d=i[r];return te(c)?Object.assign({},d,c):Q(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var Se=new L8({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[A8,I8,O8]);function z8(t){return!t||ne(t.size)||ne(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Tp(t,e,n,s,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>s&&(s=o),s}function Xn(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function Ep(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Fd(t,e,n,s){r0(t,e,n,s,null)}function r0(t,e,n,s,r){let o,i,l,c,d,u,h,f;const m=e.pointStyle,g=e.rotation,p=e.radius;let x=(g||0)*g8;if(m&&typeof m=="object"&&(o=m.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(x),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,s,r/2,p,0,0,ye):t.arc(n,s,p,0,ye),t.closePath();break;case"triangle":u=r?r/2:p,t.moveTo(n+Math.sin(x)*u,s-Math.cos(x)*p),x+=yp,t.lineTo(n+Math.sin(x)*u,s-Math.cos(x)*p),x+=yp,t.lineTo(n+Math.sin(x)*u,s-Math.cos(x)*p),t.closePath();break;case"rectRounded":d=p*.516,c=p-d,i=Math.cos(x+Jn)*c,h=Math.cos(x+Jn)*(r?r/2-d:c),l=Math.sin(x+Jn)*c,f=Math.sin(x+Jn)*(r?r/2-d:c),t.arc(n-h,s-l,d,x-re,x-Re),t.arc(n+f,s-i,d,x-Re,x),t.arc(n+h,s+l,d,x,x+Re),t.arc(n-f,s+i,d,x+Re,x+re),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*p,u=r?r/2:c,t.rect(n-u,s-c,2*u,2*c);break}x+=Jn;case"rectRot":h=Math.cos(x)*(r?r/2:p),i=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+f,s-i),t.lineTo(n+h,s+l),t.lineTo(n-f,s+i),t.closePath();break;case"crossRot":x+=Jn;case"cross":h=Math.cos(x)*(r?r/2:p),i=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-i),t.lineTo(n-f,s+i);break;case"star":h=Math.cos(x)*(r?r/2:p),i=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-i),t.lineTo(n-f,s+i),x+=Jn,h=Math.cos(x)*(r?r/2:p),i=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(r?r/2:p),t.moveTo(n-h,s-l),t.lineTo(n+h,s+l),t.moveTo(n+f,s-i),t.lineTo(n-f,s+i);break;case"line":i=r?r/2:Math.cos(x)*p,l=Math.sin(x)*p,t.moveTo(n-i,s-l),t.lineTo(n+i,s+l);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(x)*(r?r/2:p),s+Math.sin(x)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Uo(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function rh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function oh(t){t.restore()}function F8(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function B8(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function W8(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ne(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function U8(t,e,n,s,r){if(r.strikethrough||r.underline){const o=t.measureText(s),i=e-o.actualBoundingBoxLeft,l=e+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,d=n+o.actualBoundingBoxDescent,u=r.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(i,u),t.lineTo(l,u),t.stroke()}}function H8(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ho(t,e,n,s,r,o={}){const i=Ee(e)?e:[e],l=o.strokeWidth>0&&o.strokeColor!=="";let c,d;for(t.save(),t.font=r.string,W8(t,o),c=0;c<i.length;++c)d=i[c],o.backdrop&&H8(t,o.backdrop),l&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),ne(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(d,n,s,o.maxWidth)),t.fillText(d,n,s,o.maxWidth),U8(t,n,s,d,o),s+=Number(r.lineHeight);t.restore()}function qa(t,e){const{x:n,y:s,w:r,h:o,radius:i}=e;t.arc(n+i.topLeft,s+i.topLeft,i.topLeft,1.5*re,re,!0),t.lineTo(n,s+o-i.bottomLeft),t.arc(n+i.bottomLeft,s+o-i.bottomLeft,i.bottomLeft,re,Re,!0),t.lineTo(n+r-i.bottomRight,s+o),t.arc(n+r-i.bottomRight,s+o-i.bottomRight,i.bottomRight,Re,0,!0),t.lineTo(n+r,s+i.topRight),t.arc(n+r-i.topRight,s+i.topRight,i.topRight,0,-Re,!0),t.lineTo(n+i.topLeft,s)}const V8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,q8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function K8(t,e){const n=(""+t).match(V8);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Y8=t=>+t||0;function ih(t,e){const n={},s=te(e),r=s?Object.keys(e):e,o=te(t)?s?i=>Q(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of r)n[i]=Y8(o(i));return n}function o0(t){return ih(t,{top:"y",right:"x",bottom:"y",left:"x"})}function nr(t){return ih(t,["topLeft","topRight","bottomLeft","bottomRight"])}function _t(t){const e=o0(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ve(t,e){t=t||{},e=e||Se.font;let n=Q(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Q(t.style,e.style);s&&!(""+s).match(q8)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Q(t.family,e.family),lineHeight:K8(Q(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Q(t.weight,e.weight),string:""};return r.string=z8(r),r}function Ri(t,e,n,s){let r,o,i;for(r=0,o=t.length;r<o;++r)if(i=t[r],i!==void 0&&i!==void 0)return i}function J8(t,e,n){const{min:s,max:r}=t,o=Jy(e,(r-s)/2),i=(l,c)=>n&&l===0?0:l+c;return{min:i(s,-Math.abs(o)),max:i(r,o)}}function _s(t,e){return Object.assign(Object.create(t),e)}function ah(t,e=[""],n,s,r=()=>t[0]){const o=n||t;typeof s>"u"&&(s=c0("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:r,override:l=>ah([l,...t],e,o,s)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return a0(l,c,()=>sz(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return Rp(l).includes(c)},ownKeys(l){return Rp(l)},set(l,c,d){const u=l._storage||(l._storage=r());return l[c]=u[c]=d,delete l._keys,!0}})}function fr(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:i0(t,s),setContext:o=>fr(t,o,n,s),override:o=>fr(t.override(o),e,n,s)};return new Proxy(r,{deleteProperty(o,i){return delete o[i],delete t[i],!0},get(o,i,l){return a0(o,i,()=>G8(o,i,l))},getOwnPropertyDescriptor(o,i){return o._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(o,i,l){return t[i]=l,delete o[i],!0}})}function i0(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:Un(n)?n:()=>n,isIndexable:Un(s)?s:()=>s}}const X8=(t,e)=>t?t+Zu(e):e,lh=(t,e)=>te(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function a0(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function G8(t,e,n){const{_proxy:s,_context:r,_subProxy:o,_descriptors:i}=t;let l=s[e];return Un(l)&&i.isScriptable(e)&&(l=Q8(e,l,t,n)),Ee(l)&&l.length&&(l=Z8(e,l,t,i.isIndexable)),lh(e,l)&&(l=fr(l,r,o&&o[e],i)),l}function Q8(t,e,n,s){const{_proxy:r,_context:o,_subProxy:i,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(o,i||s);return l.delete(t),lh(t,c)&&(c=ch(r._scopes,r,t,c)),c}function Z8(t,e,n,s){const{_proxy:r,_context:o,_subProxy:i,_descriptors:l}=n;if(typeof o.index<"u"&&s(t))return e[o.index%e.length];if(te(e[0])){const c=e,d=r._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=ch(d,r,t,u);e.push(fr(h,o,i&&i[t],l))}}return e}function l0(t,e,n){return Un(t)?t(e,n):t}const ez=(t,e)=>t===!0?e:typeof t=="string"?ks(e,t):void 0;function tz(t,e,n,s,r){for(const o of e){const i=ez(n,o);if(i){t.add(i);const l=l0(i._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==s)return l}else if(i===!1&&typeof s<"u"&&n!==s)return null}return!1}function ch(t,e,n,s){const r=e._rootScopes,o=l0(e._fallback,n,s),i=[...t,...r],l=new Set;l.add(s);let c=_p(l,i,n,o||n,s);return c===null||typeof o<"u"&&o!==n&&(c=_p(l,i,o,c,s),c===null)?!1:ah(Array.from(l),[""],r,o,()=>nz(e,n,s))}function _p(t,e,n,s,r){for(;n;)n=tz(t,e,n,s,r);return n}function nz(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return Ee(r)&&te(n)?n:r||{}}function sz(t,e,n,s){let r;for(const o of e)if(r=c0(X8(o,t),n),typeof r<"u")return lh(t,r)?ch(n,s,t,r):r}function c0(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Rp(t){let e=t._keys;return e||(e=t._keys=rz(t._scopes)),e}function rz(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const oz=Number.EPSILON||1e-14,pr=(t,e)=>e<t.length&&!t[e].skip&&t[e],d0=t=>t==="x"?"y":"x";function iz(t,e,n,s){const r=t.skip?e:t,o=e,i=n.skip?e:n,l=Ld(o,r),c=Ld(i,o);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=s*d,f=s*u;return{previous:{x:o.x-h*(i.x-r.x),y:o.y-h*(i.y-r.y)},next:{x:o.x+f*(i.x-r.x),y:o.y+f*(i.y-r.y)}}}function az(t,e,n){const s=t.length;let r,o,i,l,c,d=pr(t,0);for(let u=0;u<s-1;++u)if(c=d,d=pr(t,u+1),!(!c||!d)){if(uo(e[u],0,oz)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],o=n[u+1]/e[u],l=Math.pow(r,2)+Math.pow(o,2),!(l<=9)&&(i=3/Math.sqrt(l),n[u]=r*i*e[u],n[u+1]=o*i*e[u])}}function lz(t,e,n="x"){const s=d0(n),r=t.length;let o,i,l,c=pr(t,0);for(let d=0;d<r;++d){if(i=l,l=c,c=pr(t,d+1),!l)continue;const u=l[n],h=l[s];i&&(o=(u-i[n])/3,l[`cp1${n}`]=u-o,l[`cp1${s}`]=h-o*e[d]),c&&(o=(c[n]-u)/3,l[`cp2${n}`]=u+o,l[`cp2${s}`]=h+o*e[d])}}function cz(t,e="x"){const n=d0(e),s=t.length,r=Array(s).fill(0),o=Array(s);let i,l,c,d=pr(t,0);for(i=0;i<s;++i)if(l=c,c=d,d=pr(t,i+1),!!c){if(d){const u=d[e]-c[e];r[i]=u!==0?(d[n]-c[n])/u:0}o[i]=l?d?Xt(r[i-1])!==Xt(r[i])?0:(r[i-1]+r[i])/2:r[i-1]:r[i]}az(t,r,o),lz(t,o,e)}function Pi(t,e,n){return Math.max(Math.min(t,n),e)}function dz(t,e){let n,s,r,o,i,l=Uo(t[0],e);for(n=0,s=t.length;n<s;++n)i=o,o=l,l=n<s-1&&Uo(t[n+1],e),o&&(r=t[n],i&&(r.cp1x=Pi(r.cp1x,e.left,e.right),r.cp1y=Pi(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=Pi(r.cp2x,e.left,e.right),r.cp2y=Pi(r.cp2y,e.top,e.bottom)))}function uz(t,e,n,s,r){let o,i,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")cz(t,r);else{let d=s?t[t.length-1]:t[0];for(o=0,i=t.length;o<i;++o)l=t[o],c=iz(d,l,t[Math.min(o+1,i-(s?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&dz(t,n)}function dh(){return typeof window<"u"&&typeof document<"u"}function uh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ka(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Tl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function hz(t,e){return Tl(t).getPropertyValue(e)}const fz=["top","right","bottom","left"];function fs(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=fz[r];s[o]=parseFloat(t[e+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const pz=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function gz(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:o}=s;let i=!1,l,c;if(pz(r,o,t.target))l=r,c=o;else{const d=e.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,i=!0}return{x:l,y:c,box:i}}function ns(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=Tl(n),o=r.boxSizing==="border-box",i=fs(r,"padding"),l=fs(r,"border","width"),{x:c,y:d,box:u}=gz(t,n),h=i.left+(u&&l.left),f=i.top+(u&&l.top);let{width:m,height:g}=e;return o&&(m-=i.width+l.width,g-=i.height+l.height),{x:Math.round((c-h)/m*n.width/s),y:Math.round((d-f)/g*n.height/s)}}function mz(t,e,n){let s,r;if(e===void 0||n===void 0){const o=t&&uh(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const i=o.getBoundingClientRect(),l=Tl(o),c=fs(l,"border","width"),d=fs(l,"padding");e=i.width-d.width-c.width,n=i.height-d.height-c.height,s=Ka(l.maxWidth,o,"clientWidth"),r=Ka(l.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:s||Va,maxHeight:r||Va}}const Di=t=>Math.round(t*10)/10;function xz(t,e,n,s){const r=Tl(t),o=fs(r,"margin"),i=Ka(r.maxWidth,t,"clientWidth")||Va,l=Ka(r.maxHeight,t,"clientHeight")||Va,c=mz(t,e,n);let{width:d,height:u}=c;if(r.boxSizing==="content-box"){const f=fs(r,"border","width"),m=fs(r,"padding");d-=m.width+f.width,u-=m.height+f.height}return d=Math.max(0,d-o.width),u=Math.max(0,s?d/s:u-o.height),d=Di(Math.min(d,i,c.maxWidth)),u=Di(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Di(d/2)),(e!==void 0||n!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=Di(Math.floor(u*s))),{width:d,height:u}}function Pp(t,e,n){const s=e||1,r=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||i.height!==r||i.width!==o?(t.currentDevicePixelRatio=s,i.height=r,i.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const yz=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};dh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Dp(t,e){const n=hz(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ss(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function bz(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function vz(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},i=ss(t,r,n),l=ss(r,o,n),c=ss(o,e,n),d=ss(i,l,n),u=ss(l,c,n);return ss(d,u,n)}const Sz=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},wz=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function sr(t,e,n){return t?Sz(e,n):wz()}function u0(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function h0(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function f0(t){return t==="angle"?{between:Wo,compare:S8,normalize:At}:{between:_n,compare:(e,n)=>e-n,normalize:e=>e}}function Ap({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function kz(t,e,n){const{property:s,start:r,end:o}=n,{between:i,normalize:l}=f0(s),c=e.length;let{start:d,end:u,loop:h}=t,f,m;if(h){for(d+=c,u+=c,f=0,m=c;f<m&&i(l(e[d%c][s]),r,o);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function jz(t,e,n){if(!n)return[t];const{property:s,start:r,end:o}=n,i=e.length,{compare:l,between:c,normalize:d}=f0(s),{start:u,end:h,loop:f,style:m}=kz(t,e,n),g=[];let p=!1,x=null,b,y,v;const w=()=>c(r,v,b)&&l(r,v)!==0,k=()=>l(o,b)===0||c(o,v,b),j=()=>p||w(),C=()=>!p||k();for(let T=u,P=u;T<=h;++T)y=e[T%i],!y.skip&&(b=d(y[s]),b!==v&&(p=c(b,r,o),x===null&&j()&&(x=l(b,r)===0?T:P),x!==null&&C()&&(g.push(Ap({start:x,end:T,loop:f,count:i,style:m})),x=null),P=T,v=b));return x!==null&&g.push(Ap({start:x,end:h,loop:f,count:i,style:m})),g}function Cz(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const o=jz(s[r],t.points,e);o.length&&n.push(...o)}return n}function Tz(t,e,n,s){let r=0,o=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}function Ez(t,e,n,s){const r=t.length,o=[];let i=e,l=t[e],c;for(c=e+1;c<=n;++c){const d=t[c%r];d.skip||d.stop?l.skip||(s=!1,o.push({start:e%r,end:(c-1)%r,loop:s}),e=i=d.stop?c:null):(i=c,l.skip&&(e=c)),l=d}return i!==null&&o.push({start:e%r,end:i%r,loop:s}),o}function _z(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const o=!!t._loop,{start:i,end:l}=Tz(n,r,o,s);if(s===!0)return Ip(t,[{start:i,end:l,loop:o}],n,e);const c=l<i?l+r:l,d=!!t._fullLoop&&i===0&&l===r-1;return Ip(t,Ez(n,i,c,d),n,e)}function Ip(t,e,n,s){return!s||!s.setContext||!n?e:Rz(t,e,n,s)}function Rz(t,e,n,s){const r=t._chart.getContext(),o=Np(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=n.length,d=[];let u=o,h=e[0].start,f=h;function m(g,p,x,b){const y=l?-1:1;if(g!==p){for(g+=c;n[g%c].skip;)g-=y;for(;n[p%c].skip;)p+=y;g%c!==p%c&&(d.push({start:g%c,end:p%c,loop:x,style:b}),u=b,h=p%c)}}for(const g of e){h=l?h:g.start;let p=n[h%c],x;for(f=h+1;f<=g.end;f++){const b=n[f%c];x=Np(s.setContext(_s(r,{type:"segment",p0:p,p1:b,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:i}))),Pz(x,u)&&m(h,f-1,g.loop,u),p=b,u=x}h<f-1&&m(h,f-1,g.loop,u)}return d}function Np(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Pz(t,e){if(!e)return!1;const n=[],s=function(r,o){return nh(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Ai(t,e,n){return t.options.clip?t[n]:e[n]}function Dz(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Ai(n,e,"left"),right:Ai(n,e,"right"),top:Ai(s,e,"top"),bottom:Ai(s,e,"bottom")}:e}function Az(t,e){const n=e._clip;if(n.disabled)return!1;const s=Dz(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Iz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const o=n.listeners[r],i=n.duration;o.forEach(l=>l({chart:e,initial:n.initial,numSteps:i,currentStep:Math.min(s-n.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=t0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const o=s.items;let i=o.length-1,l=!1,c;for(;i>=0;--i)c=o[i],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(o[i]=o[o.length-1],o.pop());l&&(r.draw(),this._notify(r,s,e,"progress")),o.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qt=new Iz;const $p="transparent",Nz={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=jp(t||$p),r=s.valid&&jp(e||$p);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class $z{constructor(e,n,s,r){const o=n[s];r=Ri([e.to,r,o,e.from]);const i=Ri([e.from,o,r]);this._active=!0,this._fn=e.fn||Nz[e.type||typeof i],this._easing=ho[e.easing]||ho.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=i,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],o=s-this._start,i=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ri([e.to,n,r,e.from]),this._from=Ri([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,o=this._from,i=this._loop,l=this._to;let c;if(this._active=o!==l&&(i||n<s),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=o;return}c=n/s%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(o,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class p0{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!te(e))return;const n=Object.keys(Se.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!te(o))return;const i={};for(const l of n)i[l]=o[l];(Ee(o.properties)&&o.properties||[r]).forEach(l=>{(l===r||!s.has(l))&&s.set(l,i)})})}_animateOptions(e,n){const s=n.options,r=Oz(e,s);if(!r)return[];const o=this._createAnimations(r,s);return s.$shared&&Mz(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,n){const s=this._properties,r=[],o=e.$animations||(e.$animations={}),i=Object.keys(n),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const d=i[c];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[d];let h=o[d];const f=s.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){e[d]=u;continue}o[d]=h=new $z(f,e,d,u),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Qt.add(this._chart,s),!0}}function Mz(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const o=t[s[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Oz(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Mp(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:s?o:r,end:s?r:o}}function Lz(t,e,n){if(n===!1)return!1;const s=Mp(t,n),r=Mp(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function zz(t){let e,n,s,r;return te(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function g0(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=s.length;r<o;++r)n.push(s[r].index);return n}function Op(t,e,n,s={}){const r=t.keys,o=s.mode==="single";let i,l,c,d;if(e===null)return;let u=!1;for(i=0,l=r.length;i<l;++i){if(c=+r[i],c===n){if(u=!0,s.all)continue;break}d=t.values[c],Et(d)&&(o||e===0||Xt(e)===Xt(d))&&(e+=d)}return!u&&!s.all?0:e}function Fz(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,d,u;for(c=0,d=i.length;c<d;++c)u=i[c],l[c]={[r]:u,[o]:t[u]};return l}function mc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Bz(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Wz(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Uz(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Lp(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const o=t[r.index];if(n&&o>0||!n&&o<0)return r.index}return null}function zp(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:i,index:l}=s,c=o.axis,d=i.axis,u=Bz(o,i,s),h=e.length;let f;for(let m=0;m<h;++m){const g=e[m],{[c]:p,[d]:x}=g,b=g._stacks||(g._stacks={});f=b[d]=Uz(r,u,p),f[l]=x,f._top=Lp(f,i,!0,s.type),f._bottom=Lp(f,i,!1,s.type);const y=f._visualValues||(f._visualValues={});y[l]=x}}function xc(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function Hz(t,e){return _s(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Vz(t,e,n){return _s(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function $r(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const o=r._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const yc=t=>t==="reset"||t==="none",Fp=(t,e)=>e?t:Object.assign({},t),qz=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:g0(n,!0),values:null};class ps{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=mc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&$r(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,f,m,g)=>h==="x"?f:h==="r"?g:m,o=n.xAxisID=Q(s.xAxisID,xc(e,"x")),i=n.yAxisID=Q(s.yAxisID,xc(e,"y")),l=n.rAxisID=Q(s.rAxisID,xc(e,"r")),c=n.indexAxis,d=n.iAxisID=r(c,o,i,l),u=n.vAxisID=r(c,i,o,l);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(i),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Sp(this._data,this),e._stacked&&$r(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(te(n)){const r=this._cachedMeta;this._data=Fz(n,r)}else if(s!==n){if(s){Sp(s,this);const r=this._cachedMeta;$r(r),r._parsed=[]}n&&Object.isExtensible(n)&&C8(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const o=n._stacked;n._stacked=mc(n.vScale,n),n.stack!==s.stack&&(r=!0,$r(n),n.stack=s.stack),this._resyncElements(e),(r||o!==n._stacked)&&(zp(this,n._parsed),n._stacked=mc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:i}=s,l=o.axis;let c=e===0&&n===r.length?!0:s._sorted,d=e>0&&s._parsed[e-1],u,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{Ee(r[e])?f=this.parseArrayData(s,r,e,n):te(r[e])?f=this.parseObjectData(s,r,e,n):f=this.parsePrimitiveData(s,r,e,n);const m=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<n;++u)s._parsed[u+e]=h=f[u],c&&(m()&&(c=!1),d=h);s._sorted=c}i&&zp(this,f)}parsePrimitiveData(e,n,s,r){const{iScale:o,vScale:i}=e,l=o.axis,c=i.axis,d=o.getLabels(),u=o===i,h=new Array(r);let f,m,g;for(f=0,m=r;f<m;++f)g=f+s,h[f]={[l]:u||o.parse(d[g],g),[c]:i.parse(n[g],g)};return h}parseArrayData(e,n,s,r){const{xScale:o,yScale:i}=e,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+s,h=n[u],l[c]={x:o.parse(h[0],u),y:i.parse(h[1],u)};return l}parseObjectData(e,n,s,r){const{xScale:o,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let u,h,f,m;for(u=0,h=r;u<h;++u)f=u+s,m=n[f],d[u]={x:o.parse(ks(m,l),f),y:i.parse(ks(m,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,o=this._cachedMeta,i=n[e.axis],l={keys:g0(r,!0),values:n._stacks[e.axis]._visualValues};return Op(l,i,o.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const o=s[n.axis];let i=o===null?NaN:o;const l=r&&s._stacks[n.axis];r&&l&&(r.values=l,i=Op(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,o=s._sorted&&e===s.iScale,i=r.length,l=this._getOtherScale(e),c=qz(n,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Wz(l);let f,m;function g(){m=r[f];const p=m[l.axis];return!Et(m[e.axis])||u>p||h<p}for(f=0;f<i&&!(!g()&&(this.updateRangeFromParsed(d,e,m,c),o));++f);if(o){for(f=i-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(d,e,m,c);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,o,i;for(r=0,o=n.length;r<o;++r)i=n[r][e.axis],Et(i)&&s.push(i);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=zz(Q(this.options.clip,Lz(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],o=n.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,o,l,c),u=l;u<l+c;++u){const h=r[u];h.hidden||(h.active&&d?i.push(h):h.draw(e,o))}for(u=0;u<i.length;++u)i[u].draw(e,o)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];o=i.$context||(i.$context=Vz(this.getContext(),e,i)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Hz(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",o=this._cachedDataOpts,i=e+"-"+n,l=o[i],c=this.enableOptionSharing&&Fo(s);if(l)return Fp(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),m=Object.keys(Se.elements[e]),g=()=>this.getContext(s,r,n),p=d.resolveNamedOptions(f,m,g,h);return p.$shared&&(p.$shared=c,o[i]=Object.freeze(Fp(p,c))),p}_resolveAnimations(e,n,s){const r=this.chart,o=this._cachedDataOpts,i=`animation-${n}`,l=o[i];if(l)return l;let c;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,s,n))}const d=new p0(r,c&&c.animations);return c&&c._cacheable&&(o[i]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||yc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,o=this.getSharedOptions(s),i=this.includeOptions(n,o)||o!==r;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:i}}updateElement(e,n,s,r){yc(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!yc(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const o=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const r=s.length,o=n.length,i=Math.min(o,r);i&&this.parse(0,i),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,n,s=!0){const r=this._cachedMeta,o=r.data,i=e+n;let l;const c=d=>{for(d.length+=n,l=d.length-1;l>=i;l--)d[l]=d[l-n]};for(c(o),l=e;l<i;++l)o[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&$r(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}H(ps,"defaults",{}),H(ps,"datasetElementType",null),H(ps,"dataElementType",null);function Kz(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,o=n.length;r<o;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=e0(s.sort((r,o)=>r-o))}return t._cache.$bar}function Yz(t){const e=t.iScale,n=Kz(e,t.type);let s=e._length,r,o,i,l;const c=()=>{i===32767||i===-32768||(Fo(l)&&(s=Math.min(s,Math.abs(i-l)||s)),l=i)};for(r=0,o=n.length;r<o;++r)i=e.getPixelForValue(n[r]),c();for(l=void 0,r=0,o=e.ticks.length;r<o;++r)i=e.getPixelForTick(r),c();return s}function Jz(t,e,n,s){const r=n.barThickness;let o,i;return ne(r)?(o=e.min*n.categoryPercentage,i=n.barPercentage):(o=r*s,i=1),{chunk:o/s,ratio:i,start:e.pixels[t]-o/2}}function Xz(t,e,n,s){const r=e.pixels,o=r[t];let i=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null;const c=n.categoryPercentage;i===null&&(i=o-(l===null?e.end-e.start:l-o)),l===null&&(l=o+o-i);const d=o-(o-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/s,ratio:n.barPercentage,start:d}}function Gz(t,e,n,s){const r=n.parse(t[0],s),o=n.parse(t[1],s),i=Math.min(r,o),l=Math.max(r,o);let c=i,d=l;Math.abs(i)>Math.abs(l)&&(c=l,d=i),e[n.axis]=d,e._custom={barStart:c,barEnd:d,start:r,end:o,min:i,max:l}}function m0(t,e,n,s){return Ee(t)?Gz(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Bp(t,e,n,s){const r=t.iScale,o=t.vScale,i=r.getLabels(),l=r===o,c=[];let d,u,h,f;for(d=n,u=n+s;d<u;++d)f=e[d],h={},h[r.axis]=l||r.parse(i[d],d),c.push(m0(f,h,o,d));return c}function bc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Qz(t,e,n){return t!==0?Xt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Zz(t){let e,n,s,r,o;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",o="start"):(r="start",o="end"),{start:n,end:s,reverse:e,top:r,bottom:o}}function eF(t,e,n,s){let r=e.borderSkipped;const o={};if(!r){t.borderSkipped=o;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:d,bottom:u}=Zz(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=d:(n._bottom||0)===s?r=u:(o[Wp(u,i,l,c)]=!0,r=d)),o[Wp(r,i,l,c)]=!0,t.borderSkipped=o}function Wp(t,e,n,s){return s?(t=tF(t,e,n),t=Up(t,n,e)):t=Up(t,e,n),t}function tF(t,e,n){return t===e?n:t===n?e:t}function Up(t,e,n){return t==="start"?e:t==="end"?n:t}function nF(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class aa extends ps{parsePrimitiveData(e,n,s,r){return Bp(e,n,s,r)}parseArrayData(e,n,s,r){return Bp(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:o,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=o.axis==="x"?l:c,u=i.axis==="x"?l:c,h=[];let f,m,g,p;for(f=s,m=s+r;f<m;++f)p=n[f],g={},g[o.axis]=o.parse(ks(p,d),f),h.push(m0(ks(p,u),g,i,f));return h}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,o=this.getParsed(e),i=o._custom,l=bc(i)?"["+i.start+", "+i.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const o=r==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let m=n;m<n+s;m++){const g=this.getParsed(m),p=o||ne(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),x=this._calculateBarIndexPixels(m,u),b=(g._stacks||{})[l.axis],y={horizontal:d,base:p.base,enableBorderRadius:!b||bc(g._custom)||i===b._top||i===b._bottom,x:d?p.head:x.center,y:d?x.center:p.head,height:d?x.size:Math.abs(p.size),width:d?Math.abs(p.size):x.size};f&&(y.options=h||this.resolveDataElementOptions(m,e[m].active?"active":r));const v=y.options||e[m].options;eF(y,v,b,i),nF(y,v,u.ratio),this.updateElement(e[m],m,y,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=s.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[s.axis],d=u=>{const h=u._parsed.find(m=>m[s.axis]===c),f=h&&h[u.vScale.axis];if(ne(f)||isNaN(f))return!0};for(const u of r)if(!(n!==void 0&&d(u))&&((o===!1||i.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&i.push(u.stack),u.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Q(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),o=n!==void 0?r.indexOf(n):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let o,i;for(o=0,i=n.data.length;o<i;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const l=e.barThickness;return{min:l||Yz(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:o,minBarLength:i}}=this,l=o||0,c=this.getParsed(e),d=c._custom,u=bc(d);let h=c[n.axis],f=0,m=s?this.applyStack(n,c,s):h,g,p;m!==h&&(f=m-h,m=h),u&&(h=d.barStart,m=d.barEnd-d.barStart,h!==0&&Xt(h)!==Xt(d.barEnd)&&(f=0),f+=h);const x=!ne(o)&&!u?o:f;let b=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(f+m):g=b,p=g-b,Math.abs(p)<i){p=Qz(p,n,l)*i,h===l&&(b-=p/2);const y=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),w=Math.min(y,v),k=Math.max(y,v);b=Math.max(Math.min(b,k),w),g=b+p,s&&!u&&(c._stacks[n.axis]._visualValues[r]=n.getValueForPixel(g)-n.getValueForPixel(b))}if(b===n.getPixelForValue(l)){const y=Xt(p)*n.getLineWidthForValue(l)/2;b+=y,p-=y}return{size:p,base:b,head:g,center:g+p/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,o=r.skipNull,i=Q(r.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(n.grouped){const u=o?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?Xz(e,n,r,u*d):Jz(e,n,r,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Q(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+m;l=h.start+h.chunk*g+h.chunk/2,c=Math.min(i,h.chunk*h.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(i,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let o=0;for(;o<r;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}H(aa,"id","bar"),H(aa,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),H(aa,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function sF(t,e,n){let s=1,r=1,o=0,i=0;if(e<ye){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),f=Math.sin(c),m=(v,w,k)=>Wo(v,l,c,!0)?1:Math.max(w,w*n,k,k*n),g=(v,w,k)=>Wo(v,l,c,!0)?-1:Math.min(w,w*n,k,k*n),p=m(0,d,h),x=m(Re,u,f),b=g(re,d,h),y=g(re+Re,u,f);s=(p-b)/2,r=(x-y)/2,o=-(p+b)/2,i=-(x+y)/2}return{ratioX:s,ratioY:r,offsetX:o,offsetY:i}}class Ys extends ps{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let o=c=>+s[c];if(te(s[e])){const{key:c="value"}=this._parsing;o=d=>+ks(s[d],c)}let i,l;for(i=e,l=e+n;i<l;++i)r._parsed[i]=o(i)}}_getRotation(){return on(this.options.rotation-90)}_getCircumference(){return on(this.options.circumference)}_getRotationExtents(){let e=ye,n=-ye;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,o=r._getRotation(),i=r._getCircumference();e=Math.min(e,o),n=Math.max(n,o+i)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,o=r.data,i=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-i)/2,0),c=Math.min(l8(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:p}=sF(h,u,c),x=(s.width-i)/f,b=(s.height-i)/m,y=Math.max(Math.min(x,b)/2,0),v=Jy(this.options.radius,y),w=Math.max(v*c,0),k=(v-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=p*v,r.total=this.calculateTotal(),this.outerRadius=v-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/ye)}updateElements(e,n,s,r){const o=r==="reset",i=this.chart,l=i.chartArea,d=i.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=o&&d.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:p,includeOptions:x}=this._getSharedOptions(n,r);let b=this._getRotation(),y;for(y=0;y<n;++y)b+=this._circumference(y,o);for(y=n;y<n+s;++y){const v=this._circumference(y,o),w=e[y],k={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+v,circumference:v,outerRadius:g,innerRadius:m};x&&(k.options=p||this.resolveDataElementOptions(y,w.active?"active":r)),b+=v,this.updateElement(w,y,k,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ye*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],o=sh(n._parsed[e],s.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,o,i,l,c;if(!e){for(r=0,o=s.data.datasets.length;r<o;++r)if(s.isDatasetVisible(r)){i=s.getDatasetMeta(r),e=i.data,l=i.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Q(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}H(Ys,"id","doughnut"),H(Ys,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),H(Ys,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),H(Ys,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((o,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class la extends ps{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=n,i=this.chart._animationsDisabled;let{start:l,count:c}=_8(n,r,i);this._drawStart=l,this._drawCount=c,R8(n)&&(l=0,c=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!i,options:d},e),this.updateElements(r,l,c,e)}updateElements(e,n,s,r){const o=r==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),f=i.axis,m=l.axis,{spanGaps:g,segment:p}=this.options,x=Bo(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||r==="none",y=n+s,v=e.length;let w=n>0&&this.getParsed(n-1);for(let k=0;k<v;++k){const j=e[k],C=b?j:{};if(k<n||k>=y){C.skip=!0;continue}const T=this.getParsed(k),P=ne(T[m]),R=C[f]=i.getPixelForValue(T[f],k),_=C[m]=o||P?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[m],k);C.skip=isNaN(R)||isNaN(_)||P,C.stop=k>0&&Math.abs(T[f]-w[f])>x,p&&(C.parsed=T,C.raw=d.data[k]),h&&(C.options=u||this.resolveDataElementOptions(k,j.active?"active":r)),b||this.updateElement(j,k,C,r),w=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}H(la,"id","line"),H(la,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),H(la,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Bd extends Ys{}H(Bd,"id","pie"),H(Bd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Gn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hh{constructor(e){H(this,"options");this.options=e||{}}static override(e){Object.assign(hh.prototype,e)}init(){}formats(){return Gn()}parse(){return Gn()}format(){return Gn()}add(){return Gn()}diff(){return Gn()}startOf(){return Gn()}endOf(){return Gn()}}var rF={_date:hh};function oF(t,e,n,s){const{controller:r,data:o,_sorted:i}=t,l=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&o.length){const d=l._reversePixels?k8:ls;if(s){if(r._sharedOptions){const u=o[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=d(o,e,n-h),m=d(o,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const u=d(o,e,n);if(c){const{vScale:h}=r._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(p=>!ne(p[h.axis]));u.lo-=Math.max(0,m);const g=f.slice(u.hi).findIndex(p=>!ne(p[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:o.length-1}}function El(t,e,n,s,r){const o=t.getSortedVisibleDatasetMetas(),i=n[e];for(let l=0,c=o.length;l<c;++l){const{index:d,data:u}=o[l],{lo:h,hi:f}=oF(o[l],e,i,r);for(let m=h;m<=f;++m){const g=u[m];g.skip||s(g,d,m)}}}function iF(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const o=e?Math.abs(s.x-r.x):0,i=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(i,2))}}function vc(t,e,n,s,r){const o=[];return!r&&!t.isPointInArea(e)||El(t,n,e,function(l,c,d){!r&&!Uo(l,t.chartArea,0)||l.inRange(e.x,e.y,s)&&o.push({element:l,datasetIndex:c,index:d})},!0),o}function aF(t,e,n,s){let r=[];function o(i,l,c){const{startAngle:d,endAngle:u}=i.getProps(["startAngle","endAngle"],s),{angle:h}=Qy(i,{x:e.x,y:e.y});Wo(h,d,u)&&r.push({element:i,datasetIndex:l,index:c})}return El(t,n,e,o),r}function lF(t,e,n,s,r,o){let i=[];const l=iF(n);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const m=u.inRange(e.x,e.y,r);if(s&&!m)return;const g=u.getCenterPoint(r);if(!(!!o||t.isPointInArea(g))&&!m)return;const x=l(e,g);x<c?(i=[{element:u,datasetIndex:h,index:f}],c=x):x===c&&i.push({element:u,datasetIndex:h,index:f})}return El(t,n,e,d),i}function Sc(t,e,n,s,r,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!s?aF(t,e,n,r):lF(t,e,n,s,r,o)}function Hp(t,e,n,s,r){const o=[],i=n==="x"?"inXRange":"inYRange";let l=!1;return El(t,n,e,(c,d,u)=>{c[i]&&c[i](e[n],r)&&(o.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,r))}),s&&!l?[]:o}var cF={modes:{index(t,e,n,s){const r=ns(e,t),o=n.axis||"x",i=n.includeInvisible||!1,l=n.intersect?vc(t,r,o,s,i):Sc(t,r,o,!1,s,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,n,s){const r=ns(e,t),o=n.axis||"xy",i=n.includeInvisible||!1;let l=n.intersect?vc(t,r,o,s,i):Sc(t,r,o,!1,s,i);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,n,s){const r=ns(e,t),o=n.axis||"xy",i=n.includeInvisible||!1;return vc(t,r,o,s,i)},nearest(t,e,n,s){const r=ns(e,t),o=n.axis||"xy",i=n.includeInvisible||!1;return Sc(t,r,o,n.intersect,s,i)},x(t,e,n,s){const r=ns(e,t);return Hp(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=ns(e,t);return Hp(t,r,"y",n.intersect,s)}}};const x0=["left","top","right","bottom"];function Mr(t,e){return t.filter(n=>n.pos===e)}function Vp(t,e){return t.filter(n=>x0.indexOf(n.pos)===-1&&n.box.axis===e)}function Or(t,e){return t.sort((n,s)=>{const r=e?s:n,o=e?n:s;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function dF(t){const e=[];let n,s,r,o,i,l;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:o,options:{stack:i,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:i&&o+i,stackWeight:l});return e}function uF(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:o}=n;if(!s||!x0.includes(r))continue;const i=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=o}return e}function hF(t,e){const n=uF(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let o,i,l;for(o=0,i=t.length;o<i;++o){l=t[o];const{fullSize:c}=l.box,d=n[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&e.availableWidth,l.height=r):(l.width=s,l.height=u?u*r:c&&e.availableHeight)}return n}function fF(t){const e=dF(t),n=Or(e.filter(d=>d.box.fullSize),!0),s=Or(Mr(e,"left"),!0),r=Or(Mr(e,"right")),o=Or(Mr(e,"top"),!0),i=Or(Mr(e,"bottom")),l=Vp(e,"x"),c=Vp(e,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:r.concat(c).concat(i).concat(l),chartArea:Mr(e,"chartArea"),vertical:s.concat(r).concat(c),horizontal:o.concat(i).concat(l)}}function qp(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function y0(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function pF(t,e,n,s){const{pos:r,box:o}=n,i=t.maxPadding;if(!te(r)){n.size&&(t[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?o.height:o.width),n.size=h.size/h.count,t[r]+=n.size}o.getPadding&&y0(i,o.getPadding());const l=Math.max(0,e.outerWidth-qp(i,t,"left","right")),c=Math.max(0,e.outerHeight-qp(i,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function gF(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function mF(t,e){const n=e.maxPadding;function s(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(i=>{o[i]=Math.max(e[i],n[i])}),o}return s(t?["left","right"]:["top","bottom"])}function Xr(t,e,n,s){const r=[];let o,i,l,c,d,u;for(o=0,i=t.length,d=0;o<i;++o){l=t[o],c=l.box,c.update(l.width||e.w,l.height||e.h,mF(l.horizontal,e));const{same:h,other:f}=pF(e,n,l,s);d|=h&&r.length,u=u||f,c.fullSize||r.push(l)}return d&&Xr(r,e,n,s)||u}function Ii(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function Kp(t,e,n,s){const r=n.padding;let{x:o,y:i}=e;for(const l of t){const c=l.box,d=s[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,f=d.size||c.height;Fo(d.start)&&(i=d.start),c.fullSize?Ii(c,r.left,i,n.outerWidth-r.right-r.left,f):Ii(c,e.left+d.placed,i,h,f),d.start=i,d.placed+=h,i=c.bottom}else{const h=e.h*u,f=d.size||c.width;Fo(d.start)&&(o=d.start),c.fullSize?Ii(c,o,r.top,f,n.outerHeight-r.bottom-r.top):Ii(c,o,e.top+d.placed,f,h),d.start=o,d.placed+=h,o=c.right}}e.x=o,e.y=i}var kt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=_t(t.options.layout.padding),o=Math.max(e-r.width,0),i=Math.max(n-r.height,0),l=fF(t.boxes),c=l.vertical,d=l.horizontal;se(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=c.reduce((p,x)=>x.box.options&&x.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:o,availableHeight:i,vBoxMaxWidth:o/2/u,hBoxMaxHeight:i/2}),f=Object.assign({},r);y0(f,_t(s));const m=Object.assign({maxPadding:f,w:o,h:i,x:r.left,y:r.top},r),g=hF(c.concat(d),h);Xr(l.fullSize,m,h,g),Xr(c,m,h,g),Xr(d,m,h,g)&&Xr(c,m,h,g),gF(m),Kp(l.leftAndTop,m,h,g),m.x+=m.w,m.y+=m.h,Kp(l.rightAndBottom,m,h,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},se(l.chartArea,p=>{const x=p.box;Object.assign(x,t.chartArea),x.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class b0{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class xF extends b0{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ca="$chartjs",yF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Yp=t=>t===null||t==="";function bF(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[ca]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Yp(r)){const o=Dp(t,"width");o!==void 0&&(t.width=o)}if(Yp(s))if(t.style.height==="")t.height=t.width/(e||2);else{const o=Dp(t,"height");o!==void 0&&(t.height=o)}return t}const v0=yz?{passive:!0}:!1;function vF(t,e,n){t&&t.addEventListener(e,n,v0)}function SF(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,v0)}function wF(t,e){const n=yF[t.type]||t.type,{x:s,y:r}=ns(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Ya(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kF(t,e,n){const s=t.canvas,r=new MutationObserver(o=>{let i=!1;for(const l of o)i=i||Ya(l.addedNodes,s),i=i&&!Ya(l.removedNodes,s);i&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function jF(t,e,n){const s=t.canvas,r=new MutationObserver(o=>{let i=!1;for(const l of o)i=i||Ya(l.removedNodes,s),i=i&&!Ya(l.addedNodes,s);i&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Vo=new Map;let Jp=0;function S0(){const t=window.devicePixelRatio;t!==Jp&&(Jp=t,Vo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function CF(t,e){Vo.size||window.addEventListener("resize",S0),Vo.set(t,e)}function TF(t){Vo.delete(t),Vo.size||window.removeEventListener("resize",S0)}function EF(t,e,n){const s=t.canvas,r=s&&uh(s);if(!r)return;const o=n0((l,c)=>{const d=r.clientWidth;n(l,c),d<r.clientWidth&&n()},window),i=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||o(d,u)});return i.observe(r),CF(t,o),i}function wc(t,e,n){n&&n.disconnect(),e==="resize"&&TF(t)}function _F(t,e,n){const s=t.canvas,r=n0(o=>{t.ctx!==null&&n(wF(o,t))},t);return vF(s,e,r),r}class RF extends b0{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(bF(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[ca])return!1;const s=n[ca].initial;["height","width"].forEach(o=>{const i=s[o];ne(i)?n.removeAttribute(o):n.setAttribute(o,i)});const r=s.style||{};return Object.keys(r).forEach(o=>{n.style[o]=r[o]}),n.width=n.width,delete n[ca],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),i={attach:kF,detach:jF,resize:EF}[n]||_F;r[n]=i(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:wc,detach:wc,resize:wc}[n]||SF)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return xz(e,n,s,r)}isAttached(e){const n=e&&uh(e);return!!(n&&n.isConnected)}}function PF(t){return!dh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?xF:RF}class Ot{constructor(){H(this,"x");H(this,"y");H(this,"active",!1);H(this,"options");H(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Bo(this.x)&&Bo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(o=>{r[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),r}}H(Ot,"defaults",{}),H(Ot,"defaultRoutes");function DF(t,e){const n=t.options.ticks,s=AF(t),r=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?NF(e):[],i=o.length,l=o[0],c=o[i-1],d=[];if(i>r)return $F(e,d,o,i/r),d;const u=IF(o,e,r);if(i>0){let h,f;const m=i>1?Math.round((c-l)/(i-1)):null;for(Ni(e,d,u,ne(m)?0:l-m,l),h=0,f=i-1;h<f;h++)Ni(e,d,u,o[h],o[h+1]);return Ni(e,d,u,c,ne(m)?e.length:c+m),d}return Ni(e,d,u),d}function AF(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function IF(t,e,n){const s=MF(t),r=e.length/n;if(!s)return Math.max(r,1);const o=m8(s);for(let i=0,l=o.length-1;i<l;i++){const c=o[i];if(c>r)return c}return Math.max(r,1)}function NF(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function $F(t,e,n,s){let r=0,o=n[0],i;for(s=Math.ceil(s),i=0;i<t.length;i++)i===o&&(e.push(t[i]),r++,o=n[r*s])}function Ni(t,e,n,s,r){const o=Q(s,0),i=Math.min(Q(r,t.length),t.length);let l=0,c,d,u;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),u=o;u<0;)l++,u=Math.round(o+l*n);for(d=Math.max(o,0);d<i;d++)d===u&&(e.push(t[d]),l++,u=Math.round(o+l*n))}function MF(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const OF=t=>t==="left"?"right":t==="right"?"left":t,Xp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Gp=(t,e)=>Math.min(e||t,t);function Qp(t,e){const n=[],s=t.length/e,r=t.length;let o=0;for(;o<r;o+=s)n.push(t[Math.floor(o)]);return n}function LF(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),o=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(r),d;if(!(n&&(s===1?d=Math.max(c-o,i-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(r-1))/2,c+=r<e?d:-d,c<o-l||c>i+l)))return c}function zF(t,e){se(t,n=>{const s=n.gc,r=s.length/2;let o;if(r>e){for(o=0;o<r;++o)delete n.data[s[o]];s.splice(0,r)}})}function Lr(t){return t.drawTicks?t.tickLength:0}function Zp(t,e){if(!t.display)return 0;const n=Ve(t.font,e),s=_t(t.padding);return(Ee(t.text)?t.text.length:1)*n.lineHeight+s.height}function FF(t,e){return _s(t,{scale:e,type:"scale"})}function BF(t,e,n){return _s(t,{tick:n,index:e,type:"tick"})}function WF(t,e,n){let s=th(t);return(n&&e!=="right"||!n&&e==="right")&&(s=OF(s)),s}function UF(t,e,n,s){const{top:r,left:o,bottom:i,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,f,m,g;const p=i-r,x=l-o;if(t.isHorizontal()){if(m=Be(s,o,l),te(n)){const b=Object.keys(n)[0],y=n[b];g=u[b].getPixelForValue(y)+p-e}else n==="center"?g=(d.bottom+d.top)/2+p-e:g=Xp(t,n,e);f=l-o}else{if(te(n)){const b=Object.keys(n)[0],y=n[b];m=u[b].getPixelForValue(y)-x+e}else n==="center"?m=(d.left+d.right)/2-x+e:m=Xp(t,n,e);g=Be(s,i,r),h=n==="left"?-Re:Re}return{titleX:m,titleY:g,maxWidth:f,rotation:h}}class wr extends Ot{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=Bt(e,Number.POSITIVE_INFINITY),n=Bt(n,Number.NEGATIVE_INFINITY),s=Bt(s,Number.POSITIVE_INFINITY),r=Bt(r,Number.NEGATIVE_INFINITY),{min:Bt(e,s),max:Bt(n,r),minDefined:Et(e),maxDefined:Et(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:o}=this.getUserBounds(),i;if(r&&o)return{min:n,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)i=l[c].controller.getMinMax(this,e),r||(n=Math.min(n,i.min)),o||(s=Math.max(s,i.max));return n=o&&n>s?s:n,s=r&&n>s?n:s,{min:Bt(n,Bt(s,n)),max:Bt(s,Bt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){de(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:o,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=J8(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Qp(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=DF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){de(this.options.afterUpdate,[this])}beforeSetDimensions(){de(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){de(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),de(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){de(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,o;for(s=0,r=e.length;s<r;s++)o=e[s],o.label=de(n.callback,[o.value,s,e],this)}afterTickToLabelConversion(){de(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){de(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Gp(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,o=n.maxRotation;let i=r,l,c,d;if(!this._isVisible()||!n.display||r>=o||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=He(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/s:m/(s-1),h+6>l&&(l=m/(s-(e.offset?.5:1)),c=this.maxHeight-Lr(e.grid)-n.padding-Zp(e.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),i=v8(Math.min(Math.asin(He((u.highest.height+6)/l,-1,1)),Math.asin(He(c/d,-1,1))-Math.asin(He(f/d,-1,1)))),i=Math.max(r,Math.min(o,i))),this.labelRotation=i}afterCalculateLabelRotation(){de(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){de(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:o}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=Zp(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=Lr(o)+c):(e.height=this.maxHeight,e.width=Lr(o)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),m=s.padding*2,g=on(this.labelRotation),p=Math.cos(g),x=Math.sin(g);if(l){const b=s.mirror?0:x*h.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+b+m)}else{const b=s.mirror?0:p*h.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+b+m)}this._calculatePadding(d,u,x,p)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:o,padding:i},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?d?(f=r*e.width,m=s*n.height):(f=s*e.height,m=r*n.width):o==="start"?m=n.width:o==="end"?f=e.width:o!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-u+i)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+i)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;o==="start"?(u=0,h=e.height):o==="end"&&(u=n.height,h=0),this.paddingTop=u+i,this.paddingBottom=h+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){de(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)ne(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Qp(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:o}=this,i=[],l=[],c=Math.floor(n/Gp(n,s));let d=0,u=0,h,f,m,g,p,x,b,y,v,w,k;for(h=0;h<n;h+=c){if(g=e[h].label,p=this._resolveTickFontOptions(h),r.font=x=p.string,b=o[x]=o[x]||{data:{},gc:[]},y=p.lineHeight,v=w=0,!ne(g)&&!Ee(g))v=Tp(r,b.data,b.gc,v,g),w=y;else if(Ee(g))for(f=0,m=g.length;f<m;++f)k=g[f],!ne(k)&&!Ee(k)&&(v=Tp(r,b.data,b.gc,v,k),w+=y);i.push(v),l.push(w),d=Math.max(v,d),u=Math.max(w,u)}zF(o,n);const j=i.indexOf(d),C=l.indexOf(u),T=P=>({width:i[P]||0,height:l[P]||0});return{first:T(0),last:T(n-1),widest:T(j),highest:T(C),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return w8(this._alignToPixels?Xn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=BF(this.getContext(),e,s))}return this.$context||(this.$context=FF(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=on(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=this._getLabelSizes(),i=e.autoSkipPadding||0,l=o?o.widest.width+i:0,c=o?o.highest.height+i:0;return this.isHorizontal()?c*s>l*r?l/s:c/r:c*r<l*s?c/s:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:o,position:i,border:l}=r,c=o.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Lr(o),m=[],g=l.setContext(this.getContext()),p=g.display?g.width:0,x=p/2,b=function(I){return Xn(s,I,p)};let y,v,w,k,j,C,T,P,R,_,M,U;if(i==="top")y=b(this.bottom),C=this.bottom-f,P=y-x,_=b(e.top)+x,U=e.bottom;else if(i==="bottom")y=b(this.top),_=e.top,U=b(e.bottom)-x,C=y+x,P=this.top+f;else if(i==="left")y=b(this.right),j=this.right-f,T=y-x,R=b(e.left)+x,M=e.right;else if(i==="right")y=b(this.left),R=e.left,M=b(e.right)-x,j=y+x,T=this.left+f;else if(n==="x"){if(i==="center")y=b((e.top+e.bottom)/2+.5);else if(te(i)){const I=Object.keys(i)[0],N=i[I];y=b(this.chart.scales[I].getPixelForValue(N))}_=e.top,U=e.bottom,C=y+x,P=C+f}else if(n==="y"){if(i==="center")y=b((e.left+e.right)/2);else if(te(i)){const I=Object.keys(i)[0],N=i[I];y=b(this.chart.scales[I].getPixelForValue(N))}j=y-x,T=j-f,R=e.left,M=e.right}const F=Q(r.ticks.maxTicksLimit,h),O=Math.max(1,Math.ceil(h/F));for(v=0;v<h;v+=O){const I=this.getContext(v),N=o.setContext(I),E=l.setContext(I),$=N.lineWidth,L=N.color,B=E.dash||[],q=E.dashOffset,G=N.tickWidth,X=N.tickColor,ae=N.tickBorderDash||[],me=N.tickBorderDashOffset;w=LF(this,v,c),w!==void 0&&(k=Xn(s,w,$),d?j=T=R=M=k:C=P=_=U=k,m.push({tx1:j,ty1:C,tx2:T,ty2:P,x1:R,y1:_,x2:M,y2:U,width:$,color:L,borderDash:B,borderDashOffset:q,tickWidth:G,tickColor:X,tickBorderDash:ae,tickBorderDashOffset:me}))}return this._ticksLength=h,this._borderValue=y,m}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:o}=s,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=o,f=Lr(s.grid),m=f+u,g=h?-u:m,p=-on(this.labelRotation),x=[];let b,y,v,w,k,j,C,T,P,R,_,M,U="middle";if(r==="top")j=this.bottom-g,C=this._getXAxisLabelAlignment();else if(r==="bottom")j=this.top+g,C=this._getXAxisLabelAlignment();else if(r==="left"){const O=this._getYAxisLabelAlignment(f);C=O.textAlign,k=O.x}else if(r==="right"){const O=this._getYAxisLabelAlignment(f);C=O.textAlign,k=O.x}else if(n==="x"){if(r==="center")j=(e.top+e.bottom)/2+m;else if(te(r)){const O=Object.keys(r)[0],I=r[O];j=this.chart.scales[O].getPixelForValue(I)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")k=(e.left+e.right)/2-m;else if(te(r)){const O=Object.keys(r)[0],I=r[O];k=this.chart.scales[O].getPixelForValue(I)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?U="top":c==="end"&&(U="bottom"));const F=this._getLabelSizes();for(b=0,y=l.length;b<y;++b){v=l[b],w=v.label;const O=o.setContext(this.getContext(b));T=this.getPixelForTick(b)+o.labelOffset,P=this._resolveTickFontOptions(b),R=P.lineHeight,_=Ee(w)?w.length:1;const I=_/2,N=O.color,E=O.textStrokeColor,$=O.textStrokeWidth;let L=C;i?(k=T,C==="inner"&&(b===y-1?L=this.options.reverse?"left":"right":b===0?L=this.options.reverse?"right":"left":L="center"),r==="top"?d==="near"||p!==0?M=-_*R+R/2:d==="center"?M=-F.highest.height/2-I*R+R:M=-F.highest.height+R/2:d==="near"||p!==0?M=R/2:d==="center"?M=F.highest.height/2-I*R:M=F.highest.height-_*R,h&&(M*=-1),p!==0&&!O.showLabelBackdrop&&(k+=R/2*Math.sin(p))):(j=T,M=(1-_)*R/2);let B;if(O.showLabelBackdrop){const q=_t(O.backdropPadding),G=F.heights[b],X=F.widths[b];let ae=M-q.top,me=0-q.left;switch(U){case"middle":ae-=G/2;break;case"bottom":ae-=G;break}switch(C){case"center":me-=X/2;break;case"right":me-=X;break;case"inner":b===y-1?me-=X:b>0&&(me-=X/2);break}B={left:me,top:ae,width:X+q.width,height:G+q.height,color:O.backdropColor}}x.push({label:w,font:P,textOffset:M,options:{rotation:p,color:N,strokeColor:E,strokeWidth:$,textAlign:L,textBaseline:U,translation:[k,j],backdrop:B}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-on(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:o}}=this.options,i=this._getLabelSizes(),l=e+o,c=i.widest.width;let d,u;return n==="left"?r?(u=this.right+o,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?r?(u=this.left+o,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:o,height:i}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,o,i),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,i;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(n.display)for(o=0,i=r.length;o<i;++o){const c=r[o];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,o=s.setContext(this.getContext()),i=s.display?o.width:0;if(!i)return;const l=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=Xn(e,this.left,i)-i/2,u=Xn(e,this.right,l)+l/2,h=f=c):(h=Xn(e,this.top,i)-i/2,f=Xn(e,this.bottom,l)+l/2,d=u=c),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(d,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&rh(s,r);const o=this.getLabelItems(e);for(const i of o){const l=i.options,c=i.font,d=i.label,u=i.textOffset;Ho(s,d,0,u,c,l)}r&&oh(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const o=Ve(s.font),i=_t(s.padding),l=s.align;let c=o.lineHeight/2;n==="bottom"||n==="center"||te(n)?(c+=i.bottom,Ee(s.text)&&(c+=o.lineHeight*(s.text.length-1))):c+=i.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=UF(this,c,n,l);Ho(e,s.text,0,0,o,{color:s.color,maxWidth:h,rotation:f,textAlign:WF(l,n,r),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Q(e.grid&&e.grid.z,-1),r=Q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==wr.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let o,i;for(o=0,i=n.length;o<i;++o){const l=n[o];l[s]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ve(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $i{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;qF(n)&&(s=this.register(n));const r=this.items,o=e.id,i=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,HF(e,i,s),this.override&&Se.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Se[r]&&(delete Se[r][s],this.override&&delete js[s])}}function HF(t,e,n){const s=zo(Object.create(null),[n?Se.get(n):{},Se.get(e),t.defaults]);Se.set(e,s),t.defaultRoutes&&VF(e,t.defaultRoutes),t.descriptors&&Se.describe(e,t.descriptors)}function VF(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),o=[t].concat(s).join("."),i=e[n].split("."),l=i.pop(),c=i.join(".");Se.route(o,r,c,l)})}function qF(t){return"id"in t&&"defaults"in t}class KF{constructor(){this.controllers=new $i(ps,"datasets",!0),this.elements=new $i(Ot,"elements"),this.plugins=new $i(Object,"plugins"),this.scales=new $i(wr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const o=s||this._getRegistryForType(r);s||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):se(r,i=>{const l=s||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,n,s){const r=Zu(e);de(s["before"+r],[],s),n[e](s),de(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Ht=new KF;class YF{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),i=this._notify(o,e,n,s);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,n,s,r){r=r||{};for(const o of e){const i=o.plugin,l=i[s],c=[n,r,o.options];if(de(l,c,i)===!1&&r.cancelable)return!1}return!0}invalidate(){ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=Q(s.options&&s.options.plugins,{}),o=JF(s);return r===!1&&!n?[]:GF(e,o,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(o,i)=>o.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function JF(t){const e={},n=[],s=Object.keys(Ht.plugins.items);for(let o=0;o<s.length;o++)n.push(Ht.getPlugin(s[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const i=r[o];n.indexOf(i)===-1&&(n.push(i),e[i.id]=!0)}return{plugins:n,localIds:e}}function XF(t,e){return!e&&t===!1?null:t===!0?{}:t}function GF(t,{plugins:e,localIds:n},s,r){const o=[],i=t.getContext();for(const l of e){const c=l.id,d=XF(s[c],r);d!==null&&o.push({plugin:l,options:QF(t.config,{plugin:l,local:n[c]},d,i)})}return o}function QF(t,{plugin:e,local:n},s,r){const o=t.pluginScopeKeys(e),i=t.getOptionScopes(s,o);return n&&e.defaults&&i.push(e.defaults),t.createResolver(i,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wd(t,e){const n=Se.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function ZF(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function eB(t,e){return t===e?"_index_":"_value_"}function eg(t){if(t==="x"||t==="y"||t==="r")return t}function tB(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ud(t,...e){if(eg(t))return t;for(const n of e){const s=n.axis||tB(n.position)||t.length>1&&eg(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function tg(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function nB(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return tg(t,"x",n[0])||tg(t,"y",n[0])}return{}}function sB(t,e){const n=js[t.type]||{scales:{}},s=e.scales||{},r=Wd(t.type,e),o=Object.create(null);return Object.keys(s).forEach(i=>{const l=s[i];if(!te(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=Ud(i,l,nB(i,t),Se.scales[l.type]),d=eB(c,r),u=n.scales||{};o[i]=co(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||Wd(l,e),u=(js[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=ZF(h,c),m=i[f+"AxisID"]||f;o[m]=o[m]||Object.create(null),co(o[m],[{axis:f},s[m],u[h]])})}),Object.keys(o).forEach(i=>{const l=o[i];co(l,[Se.scales[l.type],Se.scale])}),o}function w0(t){const e=t.options||(t.options={});e.plugins=Q(e.plugins,{}),e.scales=sB(t,e)}function k0(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function rB(t){return t=t||{},t.data=k0(t.data),w0(t),t}const ng=new Map,j0=new Set;function Mi(t,e){let n=ng.get(t);return n||(n=e(),ng.set(t,n),j0.add(n)),n}const zr=(t,e,n)=>{const s=ks(e,n);s!==void 0&&t.add(s)};class oB{constructor(e){this._config=rB(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=k0(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),w0(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Mi(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Mi(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Mi(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Mi(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:o}=this,i=this._cachedScopes(e,s),l=i.get(n);if(l)return l;const c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(h=>zr(c,e,h))),u.forEach(h=>zr(c,r,h)),u.forEach(h=>zr(c,js[o]||{},h)),u.forEach(h=>zr(c,Se,h)),u.forEach(h=>zr(c,zd,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),j0.has(n)&&i.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,js[n]||{},Se.datasets[n]||{},{type:n},Se,zd]}resolveNamedOptions(e,n,s,r=[""]){const o={$shared:!0},{resolver:i,subPrefixes:l}=sg(this._resolverCache,e,r);let c=i;if(aB(i,n)){o.$shared=!1,s=Un(s)?s():s;const d=this.createResolver(e,s,l);c=fr(i,s,d)}for(const d of n)o[d]=c[d];return o}createResolver(e,n,s=[""],r){const{resolver:o}=sg(this._resolverCache,e,s);return te(n)?fr(o,n,void 0,r):o}}function sg(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let o=s.get(r);return o||(o={resolver:ah(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},s.set(r,o)),o}const iB=t=>te(t)&&Object.getOwnPropertyNames(t).some(e=>Un(t[e]));function aB(t,e){const{isScriptable:n,isIndexable:s}=i0(t);for(const r of e){const o=n(r),i=s(r),l=(i||o)&&t[r];if(o&&(Un(l)||iB(l))||i&&Ee(l))return!0}return!1}var lB="4.5.0";const cB=["top","bottom","left","right","chartArea"];function rg(t,e){return t==="top"||t==="bottom"||cB.indexOf(t)===-1&&e==="x"}function og(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function ig(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),de(n&&n.onComplete,[t],e)}function dB(t){const e=t.chart,n=e.options.animation;de(n&&n.onProgress,[t],e)}function C0(t){return dh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const da={},ag=t=>{const e=C0(t);return Object.values(da).filter(n=>n.canvas===e).pop()};function uB(t,e,n){const s=Object.keys(t);for(const r of s){const o=+r;if(o>=e){const i=t[r];delete t[r],(n>0||o>e)&&(t[o+n]=i)}}}function hB(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var bn;let ri=(bn=class{static register(...e){Ht.add(...e),lg()}static unregister(...e){Ht.remove(...e),lg()}constructor(e,n){const s=this.config=new oB(n),r=C0(e),o=ag(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const i=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||PF(r)),this.platform.updateConfig(s);const l=this.platform.acquireContext(r,i.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=a8(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new YF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=T8(h=>this.update(h),i.resizeDelay||0),this._dataChanges=[],da[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Qt.listen(this,"complete",ig),Qt.listen(this,"progress",dB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:o}=this;return ne(e)?n&&o?o:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ht}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Pp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ep(this.canvas,this.ctx),this}stop(){return Qt.stop(this),this}resize(e,n){Qt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(r,e,n,o),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,Pp(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),de(s.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};se(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((i,l)=>(i[l]=!1,i),{});let o=[];n&&(o=o.concat(Object.keys(n).map(i=>{const l=n[i],c=Ud(i,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),se(o,i=>{const l=i.options,c=l.id,d=Ud(c,l),u=Q(l.type,i.dtype);(l.position===void 0||rg(l.position,d)!==rg(i.dposition))&&(l.position=i.dposition),r[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const f=Ht.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(l,e)}),se(r,(i,l)=>{i||delete s[l]}),se(s,i=>{kt.configure(this,i,i.options),kt.addBox(this,i)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,o)=>r.index-o.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(og("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const o=n[s];let i=this.getDatasetMeta(s);const l=o.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(s),i=this.getDatasetMeta(s)),i.type=l,i.indexAxis=o.indexAxis||Wd(l,this.options),i.order=o.order||0,i.index=s,i.label=""+o.label,i.visible=this.isDatasetVisible(s),i.controller)i.controller.updateIndex(s),i.controller.linkScales();else{const c=Ht.getController(l),{datasetElementType:d,dataElementType:u}=Se.datasets[l];Object.assign(c,{dataElementType:Ht.getElement(u),datasetElementType:d&&Ht.getElement(d)}),i.controller=new c(this,s),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){se(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!r&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),i=Math.max(+h.getMaxOverflow(),i)}i=this._minPadding=s.layout.autoPadding?i:0,this._updateLayout(i),r||se(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(og("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){se(this.scales,e=>{kt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!xp(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:o}of n){const i=s==="_removeElements"?-o:o;uB(e,r,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(e.filter(i=>i[0]===o).map((i,l)=>l+","+i.splice(1).join(","))),r=s(0);for(let o=1;o<n;o++)if(!xp(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],se(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Un(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qt.has(this)?this.attached&&!Qt.running(this)&&Qt.start(this):(this.draw(),ig({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,o;for(r=0,o=n.length;r<o;++r){const i=n[r];(!e||i.visible)&&s.push(i)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=Az(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&rh(n,r),e.controller.draw(),r&&oh(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Uo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const o=cF.modes[n];return typeof o=="function"?o(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(o=>o&&o._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=_s(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",o=this.getDatasetMeta(e),i=o.controller._resolveAnimations(void 0,r);Fo(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),i.update(o,{visible:s}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Qt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ep(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete da[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(o,i)=>{n.addEventListener(this,o,i),e[o]=i},r=(o,i,l)=>{o.offsetX=i,o.offsetY=l,this._eventHandler(o)};se(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},r=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},o=(c,d)=>{this.canvas&&this.resize(c,d)};let i;const l=()=>{r("attach",l),this.attached=!0,this.resize(),s("resize",o),s("detach",i)};i=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",l)},n.isAttached(this.canvas)?l():i()}unbindEvents(){se(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},se(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let o,i,l,c;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const d=i&&this.getDatasetMeta(i.datasetIndex).controller;d&&d[r+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:o,index:i})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[i],index:i}});!Ua(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,o=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),i=o(n,e),l=s?e:o(e,n);i.length&&this.updateHoverStyle(i,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:o}=this,i=n,l=this._getActiveElements(e,r,s,i),c=f8(e),d=hB(e,this._lastEvent,s,c);s&&(this._lastEvent=null,de(o.onHover,[e,l,this],this),c&&de(o.onClick,[e,l,this],this));const u=!Ua(l,r);return(u||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=d,u}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}},H(bn,"defaults",Se),H(bn,"instances",da),H(bn,"overrides",js),H(bn,"registry",Ht),H(bn,"version",lB),H(bn,"getChart",ag),bn);function lg(){return se(ri.instances,t=>t._plugins.invalidate())}function fB(t,e,n){const{startAngle:s,x:r,y:o,outerRadius:i,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/i,At(s-n));if(t.beginPath(),t.arc(r,o,i-d/2,s+h/2,n-h/2),l>0){const f=Math.min(d/l,At(s-n));t.arc(r,o,l+d/2,n-f/2,s+f/2,!0)}else{const f=Math.min(d/2,i*At(s-n));if(u==="round")t.arc(r,o,f,n-re/2,s+re/2,!0);else if(u==="bevel"){const m=2*f*f,g=-m*Math.cos(n+re/2)+r,p=-m*Math.sin(n+re/2)+o,x=m*Math.cos(s+re/2)+r,b=m*Math.sin(s+re/2)+o;t.lineTo(g,p),t.lineTo(x,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function pB(t,e,n){const{startAngle:s,pixelMargin:r,x:o,y:i,outerRadius:l,innerRadius:c}=e;let d=r/l;t.beginPath(),t.arc(o,i,l,s-d,n+d),c>r?(d=r/c,t.arc(o,i,c,n+d,s-d,!0)):t.arc(o,i,r,n+Re,s-Re),t.closePath(),t.clip()}function gB(t){return ih(t,["outerStart","outerEnd","innerStart","innerEnd"])}function mB(t,e,n,s){const r=gB(t.options.borderRadius),o=(n-e)/2,i=Math.min(o,s*e/2),l=c=>{const d=(n-Math.min(o,c))*s/2;return He(c,0,Math.min(o,d))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:He(r.innerStart,0,i),innerEnd:He(r.innerEnd,0,i)}}function Ns(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Ja(t,e,n,s,r,o){const{x:i,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+s+n-d,0),f=u>0?u+s+n+d:0;let m=0;const g=r-c;if(s){const O=u>0?u-s:0,I=h>0?h-s:0,N=(O+I)/2,E=N!==0?g*N/(N+s):g;m=(g-E)/2}const p=Math.max(.001,g*h-n/re)/h,x=(g-p)/2,b=c+x+m,y=r-x-m,{outerStart:v,outerEnd:w,innerStart:k,innerEnd:j}=mB(e,f,h,y-b),C=h-v,T=h-w,P=b+v/C,R=y-w/T,_=f+k,M=f+j,U=b+k/_,F=y-j/M;if(t.beginPath(),o){const O=(P+R)/2;if(t.arc(i,l,h,P,O),t.arc(i,l,h,O,R),w>0){const $=Ns(T,R,i,l);t.arc($.x,$.y,w,R,y+Re)}const I=Ns(M,y,i,l);if(t.lineTo(I.x,I.y),j>0){const $=Ns(M,F,i,l);t.arc($.x,$.y,j,y+Re,F+Math.PI)}const N=(y-j/f+(b+k/f))/2;if(t.arc(i,l,f,y-j/f,N,!0),t.arc(i,l,f,N,b+k/f,!0),k>0){const $=Ns(_,U,i,l);t.arc($.x,$.y,k,U+Math.PI,b-Re)}const E=Ns(C,b,i,l);if(t.lineTo(E.x,E.y),v>0){const $=Ns(C,P,i,l);t.arc($.x,$.y,v,b-Re,P)}}else{t.moveTo(i,l);const O=Math.cos(P)*h+i,I=Math.sin(P)*h+l;t.lineTo(O,I);const N=Math.cos(R)*h+i,E=Math.sin(R)*h+l;t.lineTo(N,E)}t.closePath()}function xB(t,e,n,s,r){const{fullCircles:o,startAngle:i,circumference:l}=e;let c=e.endAngle;if(o){Ja(t,e,n,s,c,r);for(let d=0;d<o;++d)t.fill();isNaN(l)||(c=i+(l%ye||ye))}return Ja(t,e,n,s,c,r),t.fill(),c}function yB(t,e,n,s,r){const{fullCircles:o,startAngle:i,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:m}=c,g=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=f,g?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let p=e.endAngle;if(o){Ja(t,e,n,s,p,r);for(let x=0;x<o;++x)t.stroke();isNaN(l)||(p=i+(l%ye||ye))}g&&pB(t,e,p),c.selfJoin&&p-i>=re&&m===0&&u!=="miter"&&fB(t,e,p),o||(Ja(t,e,n,s,p,r),t.stroke())}class Gr extends Ot{constructor(n){super();H(this,"circumference");H(this,"endAngle");H(this,"fullCircles");H(this,"innerRadius");H(this,"outerRadius");H(this,"pixelMargin");H(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const o=this.getProps(["x","y"],r),{angle:i,distance:l}=Qy(o,{x:n,y:s}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),m=(this.options.spacing+this.options.borderWidth)/2,g=Q(f,d-c),p=Wo(i,c,d)&&c!==d,x=g>=ye||p,b=_n(l,u+m,h+m);return x&&b}getCenterPoint(n){const{x:s,y:r,startAngle:o,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:u}=this.options,h=(o+i)/2,f=(l+c+u+d)/2;return{x:s+Math.cos(h)*f,y:r+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,o=(s.offset||0)/4,i=(s.spacing||0)/2,l=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>ye?Math.floor(r/ye):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*o,Math.sin(c)*o);const d=1-Math.sin(Math.min(re,r||0)),u=o*d;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,xB(n,this,u,i,l),yB(n,this,u,i,l),n.restore()}}H(Gr,"id","arc"),H(Gr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),H(Gr,"defaultRoutes",{backgroundColor:"backgroundColor"}),H(Gr,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function T0(t,e,n=e){t.lineCap=Q(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Q(n.borderDash,e.borderDash)),t.lineDashOffset=Q(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Q(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Q(n.borderWidth,e.borderWidth),t.strokeStyle=Q(n.borderColor,e.borderColor)}function bB(t,e,n){t.lineTo(n.x,n.y)}function vB(t){return t.stepped?F8:t.tension||t.cubicInterpolationMode==="monotone"?B8:bB}function E0(t,e,n={}){const s=t.length,{start:r=0,end:o=s-1}=n,{start:i,end:l}=e,c=Math.max(r,i),d=Math.min(o,l),u=r<i&&o<i||r>l&&o>l;return{count:s,start:c,loop:e.loop,ilen:d<c&&!u?s+d-c:d-c}}function SB(t,e,n,s){const{points:r,options:o}=e,{count:i,start:l,loop:c,ilen:d}=E0(r,n,s),u=vB(o);let{move:h=!0,reverse:f}=s||{},m,g,p;for(m=0;m<=d;++m)g=r[(l+(f?d-m:m))%i],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,p,g,f,o.stepped),p=g);return c&&(g=r[(l+(f?d:0))%i],u(t,p,g,f,o.stepped)),!!c}function wB(t,e,n,s){const r=e.points,{count:o,start:i,ilen:l}=E0(r,n,s),{move:c=!0,reverse:d}=s||{};let u=0,h=0,f,m,g,p,x,b;const y=w=>(i+(d?l-w:w))%o,v=()=>{p!==x&&(t.lineTo(u,x),t.lineTo(u,p),t.lineTo(u,b))};for(c&&(m=r[y(0)],t.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=r[y(f)],m.skip)continue;const w=m.x,k=m.y,j=w|0;j===g?(k<p?p=k:k>x&&(x=k),u=(h*u+w)/++h):(v(),t.lineTo(w,k),g=j,h=0,p=x=k),b=k}v()}function Hd(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?wB:SB}function kB(t){return t.stepped?bz:t.tension||t.cubicInterpolationMode==="monotone"?vz:ss}function jB(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),T0(t,e.options),t.stroke(r)}function CB(t,e,n,s){const{segments:r,options:o}=e,i=Hd(e);for(const l of r)T0(t,o,l.style),t.beginPath(),i(t,e,l,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const TB=typeof Path2D=="function";function EB(t,e,n,s){TB&&!e.options.segment?jB(t,e,n,s):CB(t,e,n,s)}class Js extends Ot{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;uz(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_z(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],o=this.points,i=Cz(this,{property:n,start:r,end:r});if(!i.length)return;const l=[],c=kB(s);let d,u;for(d=0,u=i.length;d<u;++d){const{start:h,end:f}=i[d],m=o[h],g=o[f];if(m===g){l.push(m);continue}const p=Math.abs((r-m[n])/(g[n]-m[n])),x=c(m,g,p,s.stepped);x[n]=e[n],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,n,s){return Hd(this)(e,this,n,s)}path(e,n,s){const r=this.segments,o=Hd(this);let i=this._loop;n=n||0,s=s||this.points.length-n;for(const l of r)i&=o(e,this,l,{start:n,end:n+s-1});return!!i}draw(e,n,s,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),EB(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}H(Js,"id","line"),H(Js,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),H(Js,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),H(Js,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function cg(t,e,n,s){const r=t.options,{[n]:o}=t.getProps([n],s);return Math.abs(e-o)<r.radius+r.hitRadius}class po extends Ot{constructor(n){super();H(this,"parsed");H(this,"skip");H(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const o=this.options,{x:i,y:l}=this.getProps(["x","y"],r);return Math.pow(n-i,2)+Math.pow(s-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,s){return cg(this,n,"x",s)}inYRange(n,s){return cg(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!Uo(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Fd(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}H(po,"id","point"),H(po,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),H(po,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _0(t,e){const{x:n,y:s,base:r,width:o,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=i/2,l=Math.min(n,r),c=Math.max(n,r),d=s-h,u=s+h):(h=o/2,l=n-h,c=n+h,d=Math.min(s,r),u=Math.max(s,r)),{left:l,top:d,right:c,bottom:u}}function Rn(t,e,n,s){return t?0:He(e,n,s)}function _B(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,o=o0(s);return{t:Rn(r.top,o.top,0,n),r:Rn(r.right,o.right,0,e),b:Rn(r.bottom,o.bottom,0,n),l:Rn(r.left,o.left,0,e)}}function RB(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=nr(r),i=Math.min(e,n),l=t.borderSkipped,c=s||te(r);return{topLeft:Rn(!c||l.top||l.left,o.topLeft,0,i),topRight:Rn(!c||l.top||l.right,o.topRight,0,i),bottomLeft:Rn(!c||l.bottom||l.left,o.bottomLeft,0,i),bottomRight:Rn(!c||l.bottom||l.right,o.bottomRight,0,i)}}function PB(t){const e=_0(t),n=e.right-e.left,s=e.bottom-e.top,r=_B(t,n/2,s/2),o=RB(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function kc(t,e,n,s){const r=e===null,o=n===null,l=t&&!(r&&o)&&_0(t,s);return l&&(r||_n(e,l.left,l.right))&&(o||_n(n,l.top,l.bottom))}function DB(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function AB(t,e){t.rect(e.x,e.y,e.w,e.h)}function jc(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-s,i=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+o,h:t.h+i,radius:t.radius}}class ua extends Ot{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:o,outer:i}=PB(this),l=DB(i.radius)?qa:AB;e.save(),(i.w!==o.w||i.h!==o.h)&&(e.beginPath(),l(e,jc(i,n,o)),e.clip(),l(e,jc(o,-n,i)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,jc(o,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return kc(this,e,n,s)}inXRange(e,n){return kc(this,e,null,n)}inYRange(e,n){return kc(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+r)/2:n,y:o?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}H(ua,"id","bar"),H(ua,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),H(ua,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const dg=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},IB=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class ug extends Ot{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=de(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=Ve(s.font),o=r.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=dg(s,o);let d,u;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(i,o,l,c)+10):(u=this.maxHeight,d=this._fitCols(i,r,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:o,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=r+l;let h=e;o.textAlign="left",o.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((g,p)=>{const x=s+n/2+o.measureText(g.text).width;(p===0||d[d.length-1]+x+2*l>i)&&(h+=u,d[d.length-(p>0?0:1)]=0,m+=u,f++),c[p]={left:0,top:m,row:f,width:x,height:r},d[d.length-1]+=x+l}),h}_fitCols(e,n,s,r){const{ctx:o,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=i-e;let h=l,f=0,m=0,g=0,p=0;return this.legendItems.forEach((x,b)=>{const{itemWidth:y,itemHeight:v}=NB(s,n,o,x,r);b>0&&m+v+2*l>u&&(h+=f+l,d.push({width:f,height:m}),g+=f+l,p++,f=m=0),c[b]={left:g,top:m,col:p,width:y,height:v},f=Math.max(f,y),m+=v+l}),h+=f,d.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:o}}=this,i=sr(o,this.left,this.width);if(this.isHorizontal()){let l=0,c=Be(s,this.left+r,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,c=Be(s,this.left+r,this.right-this.lineWidths[l])),d.top+=this.top+e+r,d.left=i.leftForLtr(i.x(c),d.width),c+=d.width+r}else{let l=0,c=Be(s,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,c=Be(s,this.top+e+r,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+r,d.left=i.leftForLtr(i.x(d.left),d.width),c+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;rh(e,this),this._draw(),oh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:o,labels:i}=e,l=Se.color,c=sr(e.rtl,this.left,this.width),d=Ve(i.font),{padding:u}=i,h=d.size,f=h/2;let m;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:g,boxHeight:p,itemHeight:x}=dg(i,h),b=function(j,C,T){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;r.save();const P=Q(T.lineWidth,1);if(r.fillStyle=Q(T.fillStyle,l),r.lineCap=Q(T.lineCap,"butt"),r.lineDashOffset=Q(T.lineDashOffset,0),r.lineJoin=Q(T.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=Q(T.strokeStyle,l),r.setLineDash(Q(T.lineDash,[])),i.usePointStyle){const R={radius:p*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:P},_=c.xPlus(j,g/2),M=C+f;r0(r,R,_,M,i.pointStyleWidth&&g)}else{const R=C+Math.max((h-p)/2,0),_=c.leftForLtr(j,g),M=nr(T.borderRadius);r.beginPath(),Object.values(M).some(U=>U!==0)?qa(r,{x:_,y:R,w:g,h:p,radius:M}):r.rect(_,R,g,p),r.fill(),P!==0&&r.stroke()}r.restore()},y=function(j,C,T){Ho(r,T.text,j,C+x/2,d,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},v=this.isHorizontal(),w=this._computeTitleHeight();v?m={x:Be(o,this.left+u,this.right-s[0]),y:this.top+u+w,line:0}:m={x:this.left+u,y:Be(o,this.top+w+u,this.bottom-n[0].height),line:0},u0(this.ctx,e.textDirection);const k=x+u;this.legendItems.forEach((j,C)=>{r.strokeStyle=j.fontColor,r.fillStyle=j.fontColor;const T=r.measureText(j.text).width,P=c.textAlign(j.textAlign||(j.textAlign=i.textAlign)),R=g+f+T;let _=m.x,M=m.y;c.setWidth(this.width),v?C>0&&_+R+u>this.right&&(M=m.y+=k,m.line++,_=m.x=Be(o,this.left+u,this.right-s[m.line])):C>0&&M+k>this.bottom&&(_=m.x=_+n[m.line].width+u,m.line++,M=m.y=Be(o,this.top+w+u,this.bottom-n[m.line].height));const U=c.x(_);if(b(U,M,j),_=E8(P,_+g+f,v?_+R:this.right,e.rtl),y(c.x(_),M,j),v)m.x+=R+u;else if(typeof j.text!="string"){const F=d.lineHeight;m.y+=R0(j,F)+u}else m.y+=k}),h0(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Ve(n.font),r=_t(n.padding);if(!n.display)return;const o=sr(e.rtl,this.left,this.width),i=this.ctx,l=n.position,c=s.size/2,d=r.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=Be(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((p,x)=>Math.max(p,x.height),0);u=d+Be(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=Be(l,h,h+f);i.textAlign=o.textAlign(th(l)),i.textBaseline="middle",i.strokeStyle=n.color,i.fillStyle=n.color,i.font=s.string,Ho(i,n.text,m,u,s)}_computeTitleHeight(){const e=this.options.title,n=Ve(e.font),s=_t(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,o;if(_n(e,this.left,this.right)&&_n(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(r=o[s],_n(e,r.left,r.left+r.width)&&_n(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!OB(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=IB(r,s);r&&!o&&de(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!o&&de(n.onHover,[e,s,this],this)}else s&&de(n.onClick,[e,s,this],this)}}function NB(t,e,n,s,r){const o=$B(s,t,e,n),i=MB(r,s,e.lineHeight);return{itemWidth:o,itemHeight:i}}function $B(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((o,i)=>o.length>i.length?o:i)),e+n.size/2+s.measureText(r).width}function MB(t,e,n){let s=t;return typeof e.text!="string"&&(s=R0(e,n)),s}function R0(t,e){const n=t.text?t.text.length:0;return e*n}function OB(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var P0={id:"legend",_element:ug,start(t,e,n){const s=t.legend=new ug({ctx:t.ctx,options:n,chart:t});kt.configure(t,s,n),kt.addBox(t,s)},stop(t){kt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;kt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:o,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=_t(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:i&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class D0 extends Ot{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Ee(s.text)?s.text.length:1;this._padding=_t(s.padding);const o=r*Ve(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:o,options:i}=this,l=i.align;let c=0,d,u,h;return this.isHorizontal()?(u=Be(l,s,o),h=n+e,d=o-s):(i.position==="left"?(u=s+e,h=Be(l,r,n),c=re*-.5):(u=o-e,h=Be(l,n,r),c=re*.5),d=r-n),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Ve(n.font),o=s.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(o);Ho(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:d,textAlign:th(n.align),textBaseline:"middle",translation:[i,l]})}}function LB(t,e){const n=new D0({ctx:t.ctx,options:e,chart:t});kt.configure(t,n,e),kt.addBox(t,n),t.titleBlock=n}var zB={id:"title",_element:D0,start(t,e,n){LB(t,n)},stop(t){const e=t.titleBlock;kt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;kt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qr={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,o=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),r+=c.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,o,i,l;for(o=0,i=t.length;o<i;++o){const c=t[o].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Ld(e,d);u<r&&(r=u,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function Wt(t,e){return e&&(Ee(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Zt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function FB(t,e){const{element:n,datasetIndex:s,index:r}=e,o=t.getDatasetMeta(s).controller,{label:i,value:l}=o.getLabelAndValue(r);return{chart:t,label:i,parsed:o.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:l,dataset:o.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function hg(t,e){const n=t.chart.ctx,{body:s,footer:r,title:o}=t,{boxWidth:i,boxHeight:l}=e,c=Ve(e.bodyFont),d=Ve(e.titleFont),u=Ve(e.footerFont),h=o.length,f=r.length,m=s.length,g=_t(e.padding);let p=g.height,x=0,b=s.reduce((w,k)=>w+k.before.length+k.lines.length+k.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,h&&(p+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const w=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;p+=m*w+(b-m)*c.lineHeight+(b-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const v=function(w){x=Math.max(x,n.measureText(w).width+y)};return n.save(),n.font=d.string,se(t.title,v),n.font=c.string,se(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?i+2+e.boxPadding:0,se(s,w=>{se(w.before,v),se(w.lines,v),se(w.after,v)}),y=0,n.font=u.string,se(t.footer,v),n.restore(),x+=g.width,{width:x,height:p}}function BB(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function WB(t,e,n,s){const{x:r,width:o}=s,i=n.caretSize+n.caretPadding;if(t==="left"&&r+o+i>e.width||t==="right"&&r-o-i<0)return!0}function UB(t,e,n,s){const{x:r,width:o}=n,{width:i,chartArea:{left:l,right:c}}=t;let d="center";return s==="center"?d=r<=(l+c)/2?"left":"right":r<=o/2?d="left":r>=i-o/2&&(d="right"),WB(d,t,e,n)&&(d="center"),d}function fg(t,e,n){const s=n.yAlign||e.yAlign||BB(t,n);return{xAlign:n.xAlign||e.xAlign||UB(t,e,n,s),yAlign:s}}function HB(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function VB(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function pg(t,e,n,s){const{caretSize:r,caretPadding:o,cornerRadius:i}=t,{xAlign:l,yAlign:c}=n,d=r+o,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=nr(i);let g=HB(e,l);const p=VB(e,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,f)+r:l==="right"&&(g+=Math.max(h,m)+r),{x:He(g,0,s.width-e.width),y:He(p,0,s.height-e.height)}}function Oi(t,e,n){const s=_t(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function gg(t){return Wt([],Zt(t))}function qB(t,e,n){return _s(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function mg(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const A0={beforeTitle:Gt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Gt,beforeBody:Gt,beforeLabel:Gt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ne(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Gt,afterBody:Gt,beforeFooter:Gt,footer:Gt,afterFooter:Gt};function et(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?A0[e].call(n,s):r}class Vd extends Ot{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,o=new p0(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=qB(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=et(s,"beforeTitle",this,e),o=et(s,"title",this,e),i=et(s,"afterTitle",this,e);let l=[];return l=Wt(l,Zt(r)),l=Wt(l,Zt(o)),l=Wt(l,Zt(i)),l}getBeforeBody(e,n){return gg(et(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return se(e,o=>{const i={before:[],lines:[],after:[]},l=mg(s,o);Wt(i.before,Zt(et(l,"beforeLabel",this,o))),Wt(i.lines,et(l,"label",this,o)),Wt(i.after,Zt(et(l,"afterLabel",this,o))),r.push(i)}),r}getAfterBody(e,n){return gg(et(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=et(s,"beforeFooter",this,e),o=et(s,"footer",this,e),i=et(s,"afterFooter",this,e);let l=[];return l=Wt(l,Zt(r)),l=Wt(l,Zt(o)),l=Wt(l,Zt(i)),l}_createItems(e){const n=this._active,s=this.chart.data,r=[],o=[],i=[];let l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(FB(this.chart,n[c]));return e.filter&&(l=l.filter((u,h,f)=>e.filter(u,h,f,s))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,s))),se(l,u=>{const h=mg(e.callbacks,u);r.push(et(h,"labelColor",this,u)),o.push(et(h,"labelPointStyle",this,u)),i.push(et(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=i,this.dataPoints=l,l}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let o,i=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const l=Qr[s.position].call(this,r,this._eventPosition);i=this._createItems(s),this.title=this.getTitle(i,s),this.beforeBody=this.getBeforeBody(i,s),this.body=this.getBody(i,s),this.afterBody=this.getAfterBody(i,s),this.footer=this.getFooter(i,s);const c=this._size=hg(this,s),d=Object.assign({},l,c),u=fg(this.chart,s,d),h=pg(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const o=this.getCaretPosition(e,s,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:o}=this,{caretSize:i,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=nr(l),{x:f,y:m}=e,{width:g,height:p}=n;let x,b,y,v,w,k;return o==="center"?(w=m+p/2,r==="left"?(x=f,b=x-i,v=w+i,k=w-i):(x=f+g,b=x+i,v=w-i,k=w+i),y=x):(r==="left"?b=f+Math.max(c,u)+i:r==="right"?b=f+g-Math.max(d,h)-i:b=this.caretX,o==="top"?(v=m,w=v-i,x=b-i,y=b+i):(v=m+p,w=v+i,x=b+i,y=b-i),k=v),{x1:x,x2:b,x3:y,y1:v,y2:w,y3:k}}drawTitle(e,n,s){const r=this.title,o=r.length;let i,l,c;if(o){const d=sr(s.rtl,this.x,this.width);for(e.x=Oi(this,s.titleAlign,s),n.textAlign=d.textAlign(s.titleAlign),n.textBaseline="middle",i=Ve(s.titleFont),l=s.titleSpacing,n.fillStyle=s.titleColor,n.font=i.string,c=0;c<o;++c)n.fillText(r[c],d.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===o&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,n,s,r,o){const i=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=o,u=Ve(o.bodyFont),h=Oi(this,"left",o),f=r.x(h),m=c<u.lineHeight?(u.lineHeight-c)/2:0,g=n.y+m;if(o.usePointStyle){const p={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=r.leftForLtr(f,d)+d/2,b=g+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Fd(e,p,x,b),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,Fd(e,p,x,b)}else{e.lineWidth=te(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const p=r.leftForLtr(f,d),x=r.leftForLtr(r.xPlus(f,1),d-2),b=nr(i.borderRadius);Object.values(b).some(y=>y!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,qa(e,{x:p,y:g,w:d,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),qa(e,{x,y:g+1,w:d-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(p,g,d,c),e.strokeRect(p,g,d,c),e.fillStyle=i.backgroundColor,e.fillRect(x,g+1,d-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:o,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,h=Ve(s.bodyFont);let f=h.lineHeight,m=0;const g=sr(s.rtl,this.x,this.width),p=function(T){n.fillText(T,g.x(e.x+m),e.y+f/2),e.y+=f+o},x=g.textAlign(i);let b,y,v,w,k,j,C;for(n.textAlign=i,n.textBaseline="middle",n.font=h.string,e.x=Oi(this,x,s),n.fillStyle=s.bodyColor,se(this.beforeBody,p),m=l&&x!=="right"?i==="center"?d/2+u:d+2+u:0,w=0,j=r.length;w<j;++w){for(b=r[w],y=this.labelTextColors[w],n.fillStyle=y,se(b.before,p),v=b.lines,l&&v.length&&(this._drawColorBox(n,e,w,g,s),f=Math.max(h.lineHeight,c)),k=0,C=v.length;k<C;++k)p(v[k]),f=h.lineHeight;se(b.after,p)}m=0,f=h.lineHeight,se(this.afterBody,p),e.y-=o}drawFooter(e,n,s){const r=this.footer,o=r.length;let i,l;if(o){const c=sr(s.rtl,this.x,this.width);for(e.x=Oi(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",i=Ve(s.footerFont),n.fillStyle=s.footerColor,n.font=i.string,l=0;l<o;++l)n.fillText(r[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:o,yAlign:i}=this,{x:l,y:c}=e,{width:d,height:u}=s,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=nr(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+h,c),i==="top"&&this.drawCaret(e,n,s,r),n.lineTo(l+d-f,c),n.quadraticCurveTo(l+d,c,l+d,c+f),i==="center"&&o==="right"&&this.drawCaret(e,n,s,r),n.lineTo(l+d,c+u-g),n.quadraticCurveTo(l+d,c+u,l+d-g,c+u),i==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(l+m,c+u),n.quadraticCurveTo(l,c+u,l,c+u-m),i==="center"&&o==="left"&&this.drawCaret(e,n,s,r),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){const i=Qr[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=hg(this,e),c=Object.assign({},i,this._size),d=fg(n,e,c),u=pg(e,c,d,n);(r._to!==u.x||o._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const i=_t(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,r,n),u0(e,n.textDirection),o.y+=i.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),h0(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),o=!Ua(s,r),i=this._positionChanged(r,n);(o||i)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],i=this._getActiveElements(e,o,n,s),l=this._positionChanged(i,e),c=n||!Ua(i,o)||l;return c&&(this._active=i,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&i.reverse(),i}_positionChanged(e,n){const{caretX:s,caretY:r,options:o}=this,i=Qr[o.position].call(this,e,n);return i!==!1&&(s!==i.x||r!==i.y)}}H(Vd,"positioners",Qr);var I0={id:"tooltip",_element:Vd,positioners:Qr,afterInit(t,e,n){n&&(t.tooltip=new Vd({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:A0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const KB=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function YB(t,e,n,s){const r=t.indexOf(e);if(r===-1)return KB(t,e,n,s);const o=t.lastIndexOf(e);return r!==o?n:r}const JB=(t,e)=>t===null?null:He(Math.round(t),0,e);function xg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Xa extends wr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:o}of n)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ne(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:YB(s,e,Q(n,e),this._addedLabels),JB(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let i=e;i<=n;i++)r.push({value:i});return r}getLabelForValue(e){return xg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}H(Xa,"id","category"),H(Xa,"defaults",{ticks:{callback:xg}});function XB(t,e){const n=[],{bounds:r,step:o,min:i,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=t,m=o||1,g=u-1,{min:p,max:x}=e,b=!ne(i),y=!ne(l),v=!ne(d),w=(x-p)/(h+1);let k=bp((x-p)/g/m)*m,j,C,T,P;if(k<1e-14&&!b&&!y)return[{value:p},{value:x}];P=Math.ceil(x/k)-Math.floor(p/k),P>g&&(k=bp(P*k/g/m)*m),ne(c)||(j=Math.pow(10,c),k=Math.ceil(k*j)/j),r==="ticks"?(C=Math.floor(p/k)*k,T=Math.ceil(x/k)*k):(C=p,T=x),b&&y&&o&&y8((l-i)/o,k/1e3)?(P=Math.round(Math.min((l-i)/k,u)),k=(l-i)/P,C=i,T=l):v?(C=b?i:C,T=y?l:T,P=d-1,k=(T-C)/P):(P=(T-C)/k,uo(P,Math.round(P),k/1e3)?P=Math.round(P):P=Math.ceil(P));const R=Math.max(vp(k),vp(C));j=Math.pow(10,ne(c)?R:c),C=Math.round(C*j)/j,T=Math.round(T*j)/j;let _=0;for(b&&(f&&C!==i?(n.push({value:i}),C<i&&_++,uo(Math.round((C+_*k)*j)/j,i,yg(i,w,t))&&_++):C<i&&_++);_<P;++_){const M=Math.round((C+_*k)*j)/j;if(y&&M>l)break;n.push({value:M})}return y&&f&&T!==l?n.length&&uo(n[n.length-1].value,l,yg(l,w,t))?n[n.length-1].value=l:n.push({value:l}):(!y||T===l)&&n.push({value:T}),n}function yg(t,e,{horizontal:n,minRotation:s}){const r=on(s),o=(n?Math.sin(r):Math.cos(r))||.001,i=.75*e*(""+t).length;return Math.min(e/o,i)}class GB extends wr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ne(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:o}=this;const i=c=>r=n?r:c,l=c=>o=s?o:c;if(e){const c=Xt(r),d=Xt(o);c<0&&d<0?l(0):c>0&&d>0&&i(0)}if(r===o){let c=o===0?1:Math.abs(o*.05);l(o+c),e||i(r-c)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,i=XB(r,o);return e.bounds==="ticks"&&b8(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return sh(e,this.chart.options.locale,this.options.ticks.format)}}class Ga extends GB{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Et(e)?e:0,this.max=Et(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=on(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}H(Ga,"id","linear"),H(Ga,"defaults",{ticks:{callback:s0.formatters.numeric}});const _l={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nt=Object.keys(_l);function bg(t,e){return t-e}function vg(t,e){if(ne(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:o}=t._parseOpts;let i=e;return typeof s=="function"&&(i=s(i)),Et(i)||(i=typeof s=="string"?n.parse(i,s):n.parse(i)),i===null?null:(r&&(i=r==="week"&&(Bo(o)||o===!0)?n.startOf(i,"isoWeek",o):n.startOf(i,r)),+i)}function Sg(t,e,n,s){const r=nt.length;for(let o=nt.indexOf(t);o<r-1;++o){const i=_l[nt[o]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((n-e)/(l*i.size))<=s)return nt[o]}return nt[r-1]}function QB(t,e,n,s,r){for(let o=nt.length-1;o>=nt.indexOf(n);o--){const i=nt[o];if(_l[i].common&&t._adapter.diff(r,s,i)>=e-1)return i}return nt[n?nt.indexOf(n):0]}function ZB(t){for(let e=nt.indexOf(t)+1,n=nt.length;e<n;++e)if(_l[nt[e]].common)return nt[e]}function wg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=eh(n,e),o=n[s]>=e?n[s]:n[r];t[o]=!0}}function eW(t,e,n,s){const r=t._adapter,o=+r.startOf(e[0].value,s),i=e[e.length-1].value;let l,c;for(l=o;l<=i;l=+r.add(l,1,s))c=n[l],c>=0&&(e[c].major=!0);return e}function kg(t,e,n){const s=[],r={},o=e.length;let i,l;for(i=0;i<o;++i)l=e[i],r[l]=i,s.push({value:l,major:!1});return o===0||!n?s:eW(t,s,r,n)}class Qa extends wr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new rF._date(e.adapters.date);r.init(n),co(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:vg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:o,minDefined:i,maxDefined:l}=this.getUserBounds();function c(d){!i&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Et(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),o=Et(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,i=this.max,l=j8(r,o,i);return this._unit=n.unit||(s.autoSkip?Sg(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):QB(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:ZB(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),kg(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;n=He(n,0,i),s=He(s,0,i),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,o=r.time,i=o.unit||Sg(o.minUnit,n,s,this._getLabelCapacity(n)),l=Q(r.ticks.stepSize,1),c=i==="week"?o.isoWeekday:!1,d=Bo(c)||c===!0,u={};let h=n,f,m;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":i),e.diff(s,n,i)>1e5*l)throw new Error(n+" and "+s+" are too far apart with stepSize of "+l+" "+i);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<s;f=+e.add(f,l,i),m++)wg(u,f,g);return(f===s||r.bounds==="ticks"||m===1)&&wg(u,f,g),Object.keys(u).sort(bg).map(p=>+p)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,o=this._unit,i=n||r[o];return this._adapter.format(e,i)}_tickFormatFunction(e,n,s,r){const o=this.options,i=o.ticks.callback;if(i)return de(i,[e,n,s],this);const l=o.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=s[n],m=d&&h&&f&&f.major;return this._adapter.format(e,r||(m?h:u))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=on(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),i=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:s*o+l*i,h:s*i+l*o}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,kg(this,[e],this._majorUnit),r),i=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(vg(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return e0(e.sort(bg))}}H(Qa,"id","time"),H(Qa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Li(t,e,n){let s=0,r=t.length-1,o,i,l,c;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=ls(t,"pos",e)),{pos:o,time:l}=t[s],{pos:i,time:c}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=ls(t,"time",e)),{time:o,pos:l}=t[s],{time:i,pos:c}=t[r]);const d=i-o;return d?l+(c-l)*(e-o)/d:l}class jg extends Qa{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Li(n,this.min),this._tableRange=Li(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],o=[];let i,l,c,d,u;for(i=0,l=e.length;i<l;++i)d=e[i],d>=n&&d<=s&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(i=0,l=r.length;i<l;++i)u=r[i+1],c=r[i-1],d=r[i],Math.round((u+c)/2)!==d&&o.push({time:d,pos:i/(l-1)});return o}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Li(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Li(this._table,s*this._tableRange+this._minPos,!0)}}H(jg,"id","timeseries"),H(jg,"defaults",Qa.defaults);const N0="label";function Cg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function tW(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function $0(t,e){t.labels=e}function M0(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N0;const s=[];t.datasets=e.map(r=>{const o=t.datasets.find(i=>i[n]===r[n]);return!o||!r.data||s.includes(o)?{...r}:(s.push(o),Object.assign(o,r),o)})}function nW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N0;const n={labels:[],datasets:[]};return $0(n,t.labels),M0(n,t.datasets,e),n}function sW(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:o,type:i,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=t,m=S.useRef(null),g=S.useRef(null),p=()=>{m.current&&(g.current=new ri(m.current,{type:i,data:nW(l,o),options:c&&{...c},plugins:d}),Cg(e,g.current))},x=()=>{Cg(e,null),g.current&&(g.current.destroy(),g.current=null)};return S.useEffect(()=>{!r&&g.current&&c&&tW(g.current,c)},[r,c]),S.useEffect(()=>{!r&&g.current&&$0(g.current.config.data,l.labels)},[r,l.labels]),S.useEffect(()=>{!r&&g.current&&l.datasets&&M0(g.current.config.data,l.datasets,o)},[r,l.datasets]),S.useEffect(()=>{g.current&&(r?(x(),setTimeout(p)):g.current.update(h))},[r,c,l.labels,l.datasets,h]),S.useEffect(()=>{g.current&&(x(),setTimeout(p))},[i]),S.useEffect(()=>(p(),()=>x()),[]),oe.createElement("canvas",{ref:m,role:"img",height:n,width:s,...f},u)}const rW=S.forwardRef(sW);function Rl(t,e){return ri.register(e),S.forwardRef((n,s)=>oe.createElement(rW,{...n,ref:s,type:t}))}const O0=Rl("line",la),qd=Rl("bar",aa),oW=Rl("doughnut",Ys),iW=Rl("pie",Bd);ri.register(Xa,Ga,po,Js,zB,I0,P0);const aW=({chartData:t,title:e,height:n=350})=>{const{t:s}=V(["dashboard"]),r={labels:[s("common:months.jan"),s("common:months.feb"),s("common:months.mar"),s("common:months.apr"),s("common:months.may"),s("common:months.jun")],datasets:[{label:s("dashboard:tickets"),data:[0,0,0,0,0,0],borderColor:"#000",backgroundColor:"rgba(0, 0, 0, 0.1)",tension:.4,borderWidth:3}]},o=t||r,i=e||s("dashboard:ticketsEvolution"),l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:i,font:{size:18,weight:"bold"}}},scales:{y:{beginAtZero:!0}}};return a.jsx("div",{style:{background:"#17a2b8",padding:"25px",borderRadius:"20px",marginBottom:"30px",height:`${n}px`},children:a.jsx(O0,{data:o,options:l})})},L0=(t,e)=>{const[n,s]=S.useState({}),[r,o]=S.useState(!0),[i,l]=S.useState(null),c=async()=>{if(!e||t.length===0){o(!1);return}try{o(!0),l(null);const d={};for(const u of t)try{const h=await Vy.getCreditsHorairesParProduit(e,u.parcId.toString());d[u.parcId]=h}catch(h){console.error(`Erreur pour le produit ${u.parcName}:`,h),d[u.parcId]=[]}s(d)}catch(d){const u="Erreur lors du chargement des crdits horaires";console.error(u,d),l(u)}finally{o(!1)}};return S.useEffect(()=>{t.length>0&&c()},[t,e]),{credits:n,loading:r,error:i,loadCredits:c}},lW=(t,e)=>S.useMemo(()=>t.map(n=>{const s=e[n.parcId]||[],r=s.reduce((l,c)=>l+c.initial,0),o=s.reduce((l,c)=>l+c.used,0),i=s.reduce((l,c)=>l+c.remaining,0);return{product:n.parcName,initial:r,used:o,remaining:i}}),[t,e]),Pl={async getProduitsActifs(){try{const t=await A.get("/produits/actifs");return console.log(t),t.data}catch{return(await A.get("/produits")).data}},async getProduitsParCompany(t){const e=await A.get(`/produits/parcs/company/${t}/with-username`);return console.log(e),e.data},async getPriorites(){return(await A.get("/prioriteTickets")).data},async getTypes(){return(await A.get("/typeTickets")).data},async soumettreDemande(t){const e=new FormData;e.append("raison",t.raison),e.append("produitId",t.logiciel),e.append("description",t.description),e.append("prioriteTicketId",t.niveau),e.append("typeTicketId",t.type),e.append("companyId",t.company),e.append("clientId",t.utilisateur),t.fichiers&&Array.from(t.fichiers).forEach(n=>{e.append("fichiers",n)}),await A.post("/tickets",e,{headers:{"Content-Type":"multipart/form-data"}})}},Dl=()=>{const[t,e]=S.useState([]),[n,s]=S.useState(!0),[r,o]=S.useState(""),i=localStorage.getItem("companyId")||"";return S.useEffect(()=>{(async()=>{try{s(!0),o("");const c=await Pl.getProduitsParCompany(i);e(c)}catch(c){console.error("Erreur lors du chargement des produits:",c),o("Impossible de charger la liste des produits")}finally{s(!1)}})()},[]),{produits:t,loading:n,error:r}},cW=()=>{const t=localStorage.getItem("companyId")||"",{produits:e,loading:n}=Dl(),{credits:s,loading:r}=L0(e,t),o=lW(e,s),{t:i}=V(["common","dashboard"]);return n||r?a.jsx("div",{style:{background:"white",padding:"20px",borderRadius:"10px",textAlign:"center",color:"#666"},children:i("dashboard:loadingCredits")}):e.length===0?a.jsx("div",{style:{background:"white",padding:"20px",borderRadius:"10px",textAlign:"center",color:"#666",fontStyle:"italic"},children:i("dashboard:noProductsAvailable")}):a.jsxs("div",{children:[a.jsx("h3",{style:{textAlign:"center",marginBottom:"15px",color:"#333"},children:i("dashboard:hourlyCredits")}),a.jsxs("table",{style:{width:"100%",background:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#f8f9fa"},children:[a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:i("dashboard:product")}),a.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #dee2e6"},children:i("dashboard:available")}),a.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #dee2e6"},children:i("dashboard:consumed")}),a.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #dee2e6"},children:i("dashboard:remaining")})]})}),a.jsx("tbody",{children:o.map((c,d)=>a.jsxs("tr",{style:{borderBottom:"1px solid #f0f0f0"},children:[a.jsx("td",{style:{padding:"12px",fontWeight:"500"},children:c.product}),a.jsxs("td",{style:{padding:"12px",textAlign:"center"},children:[c.initial,"h"]}),a.jsxs("td",{style:{padding:"12px",textAlign:"center"},children:[c.used,"h"]}),a.jsxs("td",{style:{padding:"12px",textAlign:"center",fontWeight:"bold",color:c.remaining<5?"#dc3545":"#28a745"},children:[c.remaining,"h"]})]},d))})]})]})},z0=({message:t})=>{const{t:e}=V(["common"]);return a.jsx("div",{style:{textAlign:"center",margin:"40px",background:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)"},children:t||e("common:loading")})},Kd=({message:t,onRetry:e})=>{const{t:n}=V(["common"]);return a.jsxs("div",{style:{textAlign:"center",margin:"40px",background:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)"},children:[a.jsx("p",{style:{color:"#ef4444",marginBottom:"20px"},children:t}),e&&a.jsx("button",{onClick:e,style:{background:"#17a2b8",color:"white",padding:"10px 20px",borderRadius:"20px",border:"none",cursor:"pointer"},children:n("common:retry")})]})};function dW(){const{dashboardData:t,loading:e,error:n,refetch:s}=LL(),{t:r}=V(["common","dashboard"]),o=i=>{console.log("Statistique clique:",i)};return e?a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"CLIENT"}),a.jsx("div",{style:{padding:"40px 60px"},children:a.jsx(z0,{message:r("dashboard:loadingDashboard")})})]}):n?a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"CLIENT"}),a.jsx("div",{style:{padding:"40px 60px"},children:a.jsx(Kd,{message:n,onRetry:s})})]}):t?a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"CLIENT"}),a.jsx("div",{style:{padding:"40px 60px"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"40px",marginBottom:"40px"},children:[a.jsxs("div",{children:[a.jsx(hc,{title:r("dashboard:statusDistribution"),statistics:t.repartitionStatut,onStatisticClick:o}),a.jsx(hc,{title:r("dashboard:processingTime"),statistics:t.dureeTraitement}),a.jsx(hc,{title:r("dashboard:productDistribution"),statistics:t.repartitionProduit,onStatisticClick:o})]}),a.jsxs("div",{children:[a.jsx(aW,{chartData:t.chartData,title:r("dashboard:ticketsEvolution"),height:400}),a.jsx(cW,{})]})]})})]}):a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"CLIENT"}),a.jsx("div",{style:{padding:"40px 60px"},children:a.jsx(Kd,{message:r("dashboard:noDataAvailable"),onRetry:s})})]})}function uW({filters:t}){return a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)",marginBottom:"20px"},children:[a.jsx("h3",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold",marginBottom:"20px",textDecoration:"underline",color:"#333"},children:"Filtres"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",alignItems:"end"},children:t.map((e,n)=>a.jsxs("div",{style:{minWidth:"0"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333",fontSize:"14px"},children:e.label}),e.type==="select"&&e.options?a.jsxs("select",{value:e.value,onChange:s=>e.onChange(s.target.value),style:{width:"100%",padding:"10px 14px",borderRadius:"20px",border:"1px solid #ddd",fontSize:"14px",backgroundColor:"white",cursor:"pointer",outline:"none",transition:"border-color 0.2s"},onFocus:s=>s.target.style.borderColor="#6dd5ed",onBlur:s=>s.target.style.borderColor="#ddd",children:[a.jsx("option",{value:"",children:"Tous"}),e.options.map(s=>a.jsx("option",{value:s.value,children:s.label},s.value))]}):e.type==="date"?a.jsx("input",{type:"date",value:e.value,onChange:s=>e.onChange(s.target.value),style:{width:"100%",padding:"10px 14px",borderRadius:"20px",border:"1px solid #ddd",fontSize:"14px",backgroundColor:"white",outline:"none",transition:"border-color 0.2s"},onFocus:s=>s.target.style.borderColor="#6dd5ed",onBlur:s=>s.target.style.borderColor="#ddd"}):a.jsx("input",{type:e.type||"text",value:e.value,onChange:s=>e.onChange(s.target.value),placeholder:e.placeholder||"Rechercher...",style:{width:"100%",padding:"10px 14px",borderRadius:"20px",border:"1px solid #ddd",fontSize:"14px",backgroundColor:"white",outline:"none",transition:"border-color 0.2s"},onFocus:s=>s.target.style.borderColor="#6dd5ed",onBlur:s=>s.target.style.borderColor="#ddd"})]},n))})]})}const hW=({description:t,maxLength:e=100})=>{const[n,s]=S.useState(!1);if(!t)return a.jsx("span",{children:"-"});const r=t.length>e?t.substring(0,e)+"...":t;return a.jsxs("div",{children:[a.jsx("span",{style:{display:"block",lineHeight:"1.4",wordBreak:"break-word"},children:n?t:r}),t.length>e&&a.jsx("button",{onClick:()=>s(!n),style:{background:"none",border:"none",color:"#17a2b8",cursor:"pointer",fontSize:"14px",padding:"4px 0",textDecoration:"underline",fontWeight:"500"},children:n?"Voir moins":"Voir plus"})]})},fW={4:"Basse",3:"Moyenne",2:"Haute",1:"Urgente",low:"Basse",medium:"Moyenne",high:"Haute",urgent:"Urgente"},pW={1:"Ouvert",2:"En cours",3:"En attente",4:"En attente client",5:"Intervention planifie",6:"Rsolu",7:"Cltur",open:"Ouvert",in_progress:"En cours",on_hold:"En attente",waiting_customer:"En attente client",scheduled_intervention:"Intervention planifie",resolved:"Rsolu",closed:"Cltur"},ha=t=>pW[t]||t,F0=t=>fW[t]||t,gW=t=>{switch(F0(t).toLowerCase()){case"basse":return"#10b981";case"moyenne":return"#f59e0b";case"haute":return"#ef4444";case"urgente":return"#dc2626";default:return"#6b7280"}},mW=t=>{switch(ha(t).toLowerCase()){case"ouvert":return"#3b82f6";case"en cours":return"#f59e0b";case"en attente":return"#f59e0b";case"en attente client":return"#f59e0b";case"intervention planifie":return"#8b5cf6";case"rsolu":return"#10b981";case"cltur":return"#6b7280";default:return"#6b7280"}},xW=({tickets:t,loading:e})=>{const n=Me(),[s,r]=S.useState("dateCreation"),[o,i]=S.useState("desc"),l=S.useMemo(()=>{const d=[...t];return d.sort((u,h)=>{let f=u[s],m=h[s];return f==null&&(f=""),m==null&&(m=""),s==="prioriteTicketId"&&(f=u.prioriteTicketId,m=h.prioriteTicketId),(s==="dateCreation"||s==="dateCloture")&&(f=f?new Date(f).getTime():0,m=m?new Date(m).getTime():0),s==="etat"&&(f=ha(f),m=ha(m)),f<m?o==="asc"?-1:1:f>m?o==="asc"?1:-1:0}),d},[t,s,o]),c=d=>{s===d?i(o==="asc"?"desc":"asc"):(r(d),i("asc"))};return e?a.jsx("div",{style:{textAlign:"center",margin:"40px"},children:"Chargement..."}):t.length===0?a.jsx("div",{style:{textAlign:"center",margin:"40px",background:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)"},children:"Aucun ticket trouv"}):a.jsx("div",{style:{background:"white",borderRadius:"15px",overflow:"hidden",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)"},children:a.jsxs("table",{style:{width:"100%"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#e5e5e5"},children:[a.jsx("th",{style:{padding:"8px 12px",textAlign:"left",cursor:"pointer"},onClick:()=>c("reference"),children:"Rfrence ticket"}),a.jsx("th",{style:{padding:"8px 12px",textAlign:"left",cursor:"pointer"},onClick:()=>c("produitNom"),children:"Produit"}),a.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Description"}),a.jsx("th",{style:{padding:"8px 12px",textAlign:"left",cursor:"pointer"},onClick:()=>c("prioriteTicketId"),children:"Niveau"}),a.jsx("th",{style:{padding:"8px 12px",textAlign:"left",cursor:"pointer"},onClick:()=>c("dateCreation"),children:"Date de soumission"}),a.jsx("th",{style:{padding:"8px 12px",textAlign:"left",cursor:"pointer"},onClick:()=>c("dateCloture"),children:"Date de clture"}),a.jsx("th",{style:{padding:"8px 12px",textAlign:"left",cursor:"pointer"},onClick:()=>c("etat"),children:"Etat"}),a.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Actions"})]})}),a.jsx("tbody",{children:l.map(d=>a.jsxs("tr",{style:{borderBottom:"1px solid #f0f0f0"},children:[a.jsx("td",{style:{padding:"8px 12px"},children:d.reference}),a.jsx("td",{style:{padding:"8px 12px"},children:d.produitNom}),a.jsx("td",{style:{padding:"8px 12px",maxWidth:"300px",minWidth:"200px"},children:a.jsx(hW,{description:d.description,maxLength:80})}),a.jsx("td",{style:{padding:"8px 12px"},children:a.jsx("span",{style:{background:gW(d.prioriteTicketId),color:"white",padding:"3px 8px",borderRadius:"10px",display:"inline-block",fontSize:"14px",fontWeight:"500"},children:F0(d.prioriteTicketId)})}),a.jsx("td",{style:{padding:"8px 12px"},children:a.jsx("span",{style:{background:"#e5e5e5",padding:"4px 10px",borderRadius:"12px",display:"inline-block",fontSize:"14px"},children:d.dateCreation})}),a.jsx("td",{style:{padding:"8px 12px"},children:d.dateCloture?a.jsx("span",{style:{background:"#e5e5e5",padding:"4px 10px",borderRadius:"12px",display:"inline-block",fontSize:"14px"},children:d.dateCloture}):a.jsx("span",{style:{background:"#e5e5e5",padding:"4px 10px",borderRadius:"12px",display:"inline-flex",alignItems:"center",gap:"4px",fontSize:"14px"},children:a.jsx("span",{style:{fontSize:"14px"},children:""})})}),a.jsx("td",{style:{padding:"8px 12px"},children:a.jsx("span",{style:{background:mW(d.etat),color:"white",padding:"3px 8px",borderRadius:"10px",display:"inline-block",fontSize:"14px",fontWeight:"500"},children:ha(d.etat)})}),a.jsx("td",{style:{padding:"8px 12px"},children:a.jsx("button",{onClick:()=>n(`/ticket/${d.id}`),style:{background:"#6dd5ed",color:"white",padding:"4px 12px",borderRadius:"15px",border:"none",cursor:"pointer",fontSize:"14px"},children:"Dtails"})})]},d.id))})]})})},yW=({pagination:t,onPageChange:e,onPageSizeChange:n})=>{const s=l=>{l>=0&&l<t.totalPages&&e(l)},r=()=>{t.currentPage<t.totalPages-1&&s(t.currentPage+1)},o=()=>{t.currentPage>0&&s(t.currentPage-1)},i=()=>{const l=[];let d=Math.max(0,t.currentPage-Math.floor(2.5)),u=Math.min(t.totalPages-1,d+5-1);u-d+1<5&&(d=Math.max(0,u-5+1)),l.push(a.jsx("button",{onClick:o,disabled:t.currentPage===0,style:{background:t.currentPage===0?"#f0f0f0":"#17a2b8",color:t.currentPage===0?"#999":"white",width:"32px",height:"32px",borderRadius:"6px",border:"none",cursor:t.currentPage===0?"not-allowed":"pointer",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center"},children:"<"},"prev"));for(let h=d;h<=u;h++)l.push(a.jsx("button",{onClick:()=>s(h),style:{background:h===t.currentPage?"#17a2b8":"#f8f9fa",color:h===t.currentPage?"white":"#333",width:"32px",height:"32px",borderRadius:"6px",border:h===t.currentPage?"none":"1px solid #ddd",cursor:"pointer",fontSize:"12px",fontWeight:h===t.currentPage?"bold":"normal",display:"flex",alignItems:"center",justifyContent:"center"},children:h+1},h));return l.push(a.jsx("button",{onClick:r,disabled:t.currentPage>=t.totalPages-1,style:{background:t.currentPage>=t.totalPages-1?"#f0f0f0":"#17a2b8",color:t.currentPage>=t.totalPages-1?"#999":"white",width:"32px",height:"32px",borderRadius:"6px",border:"none",cursor:t.currentPage>=t.totalPages-1?"not-allowed":"pointer",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center"},children:">"},"next")),l};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[a.jsx("label",{style:{fontSize:"14px",fontWeight:"bold"},children:"lments par page:"}),a.jsxs("select",{value:t.pageSize,onChange:l=>n(Number(l.target.value)),style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px"},children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:20,children:"20"}),a.jsx("option",{value:50,children:"50"})]})]}),t.totalPages>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"6px",marginTop:"20px",alignItems:"center"},children:i()}),a.jsxs("div",{style:{textAlign:"center",marginTop:"8px",fontSize:"12px",color:"#666"},children:["Page ",t.currentPage+1," sur ",t.totalPages,t.totalElements>0&&` - ${t.totalElements} lments au total`]})]})]})},bW=({etat:t,reference:e,produit:n,dateDebut:s,dateFin:r})=>{const[o,i]=S.useState([]),[l,c]=S.useState(!0),[d,u]=S.useState({currentPage:0,totalPages:0,totalElements:0,pageSize:10}),h=S.useCallback((g=0,p=d.pageSize)=>{const x=localStorage.getItem("userId");if(console.log(" DONNES ENVOYES  L'API:",{utilisateurId:x,page:g,size:p,filtres:{etat:t,reference:e,produit:n,dateDebut:s,dateFin:r}}),console.log("Chargement des tickets - userId:",x,"page:",g,"size:",p),!x)return;c(!0);const b=new URLSearchParams;t&&b.append("etat",t),e&&b.append("reference",e),n&&b.append("produit",n),s&&b.append("dateDebut",s),r&&b.append("dateFin",r);const y=b.toString()?`?${b.toString()}`:"";console.log(" URL APPELE:",`/tickets/utilisateur/${x}/page/${g}/size/${p}${y}`),A.get(`/tickets/utilisateur/${x}/page/${g}/size/${p}${y}`).then(v=>{var k;const w=v.data;console.log("Rponse API brute des tickets:",w),i(w.tickets||[]),u({currentPage:w.currentPage,totalPages:w.totalPages,totalElements:w.totalElements,pageSize:w.pageSize}),console.log(`Charg ${((k=w.tickets)==null?void 0:k.length)||0} tickets pour la page ${g}`)}).catch(v=>{console.error("Erreur lors du chargement des tickets:",v),i([]),u(w=>({...w,currentPage:g,totalPages:0,totalElements:0}))}).finally(()=>c(!1))},[t,e,n,s,r,d.pageSize]);return S.useEffect(()=>{h(0)},[h]),{tickets:o,loading:l,pagination:d,loadTickets:h,goToPage:g=>{g>=0&&g<d.totalPages&&h(g)},changePageSize:g=>{h(0,g)}}};function vW(){const[t,e]=S.useState(""),[n,s]=S.useState(""),[r,o]=S.useState(""),[i,l]=S.useState(""),[c,d]=S.useState(""),{t:u}=V(["common","requests"]),{produits:h,loading:f,error:m}=Dl(),g=h.map(k=>({value:k.parcId,label:k.parcName})),p=[{value:"1",label:u("requests:status.open")||"Ouvert"},{value:"2",label:u("requests:status.inProgress")||"En cours"},{value:"3",label:u("requests:status.pending")||"En attente"},{value:"6",label:u("requests:status.resolved")||"Rsolu"},{value:"7",label:u("requests:status.closed")||"Cltur"}],{tickets:x,loading:b,pagination:y,goToPage:v,changePageSize:w}=bW({etat:t,reference:n,produit:r,dateDebut:i,dateFin:c});return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"CLIENT"}),a.jsxs("div",{style:{padding:"40px 60px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[a.jsx("h1",{style:{fontSize:"42px",color:"#17a2b8",fontWeight:"bold"},children:u("requests:myRequests")}),a.jsx(qu,{to:"/nouvelle-demande",style:{background:"#6dd5ed",color:"white",padding:"12px 28px",borderRadius:"25px",textDecoration:"none",fontSize:"16px",fontWeight:"500",transition:"background-color 0.2s"},onMouseEnter:k=>k.currentTarget.style.background="#4fa8c5",onMouseLeave:k=>k.currentTarget.style.background="#6dd5ed",children:u("requests:newRequest")})]}),m&&a.jsxs("div",{style:{background:"#ffeaa7",padding:"10px 15px",borderRadius:"10px",marginBottom:"20px",border:"1px solid #fdcb6e"},children:[" ",m]}),a.jsx(uW,{filters:[{label:u("requests:filters.status"),value:t,onChange:e,type:"select",options:p},{label:u("requests:filters.ticketReference"),value:n,onChange:s,placeholder:u("requests:filters.referencePlaceholder")||"Rfrence..."},{label:u("requests:filters.product"),value:r,onChange:o,type:"select",options:g,placeholder:f?"Chargement...":"Slectionner un produit"},{label:u("requests:filters.startDate"),value:i,onChange:l,type:"date"},{label:u("requests:filters.endDate"),value:c,onChange:d,type:"date"}]}),a.jsx(yW,{pagination:y,onPageChange:v,onPageSizeChange:w}),a.jsx(xW,{tickets:x,loading:b||f})]})]})}const SW=()=>{const t=Me(),[e,n]=S.useState(!1);return{soumettreDemande:async(r,o)=>{if(!o)throw new Error("Vous devez accepter les conditions");if(!r.logiciel)throw new Error("Veuillez slectionner un produit");try{n(!0),await Pl.soumettreDemande(r),t("/mes-demandes")}catch(i){throw i}finally{n(!1)}},loading:e}},wW=({value:t,onChange:e,required:n=!1})=>{const{produits:s,loading:r,error:o}=Dl();return a.jsxs("div",{style:{marginBottom:"25px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"600",color:"#333"},children:"*Logiciel/Application :"}),a.jsxs("select",{value:t,onChange:i=>e(i.target.value),style:{width:"100%",padding:"12px 18px",borderRadius:"20px",border:"none",fontSize:"16px",background:"white"},required:n,disabled:r,children:[a.jsx("option",{value:"",children:r?"Chargement des produits...":"Liste droulante des produits"}),o?a.jsx("option",{value:"",disabled:!0,children:"Erreur de chargement"}):s.map(i=>a.jsxs("option",{value:i.parcId,children:[" ",i.parcName]},i.parcId))]}),r&&a.jsx("p",{style:{fontSize:"14px",color:"#666",marginTop:"5px"},children:"Chargement des produits..."}),o&&a.jsx("p",{style:{fontSize:"14px",color:"#e53e3e",marginTop:"5px"},children:o}),!r&&!o&&s.length===0&&a.jsx("p",{style:{fontSize:"14px",color:"#666",marginTop:"5px"},children:"Aucun produit disponible"})]})},kW=()=>{const[t,e]=S.useState([]),[n,s]=S.useState(!0),[r,o]=S.useState("");return S.useEffect(()=>{(async()=>{try{s(!0),o("");const l=await Pl.getPriorites();e(l)}catch(l){console.error("Erreur lors du chargement des priorits:",l),o("Erreur lors du chargement des priorits")}finally{s(!1)}})()},[]),{priorites:t,loading:n,error:r}},jW=({value:t,onChange:e,required:n=!1})=>{const{priorites:s,loading:r,error:o}=kW();return console.log("Donnes des priorits :",s),a.jsxs("div",{style:{marginBottom:"25px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"600",color:"#333"},children:"*Niveau de priorit :"}),a.jsxs("select",{value:t,onChange:i=>e(i.target.value),style:{width:"100%",padding:"12px 18px",borderRadius:"20px",border:"none",fontSize:"16px",background:"white"},required:n,children:[a.jsx("option",{value:"",children:r?"Chargement des priorits...":"Slectionnez la priorit"}),o?a.jsx("option",{value:"",disabled:!0,children:"Erreur de chargement"}):s.map(i=>a.jsx("option",{value:i.id,children:i.libelle},i.id))]}),r&&a.jsx("p",{style:{fontSize:"14px",color:"#666",marginTop:"5px"},children:"Chargement des priorits..."}),o&&a.jsx("p",{style:{fontSize:"14px",color:"#e53e3e",marginTop:"5px"},children:o})]})},CW=({onChange:t})=>a.jsxs("div",{style:{marginBottom:"25px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"600",color:"#333"},children:"*Pices jointes"}),a.jsx("input",{type:"file",multiple:!0,onChange:e=>t(e.target.files),style:{width:"100%",padding:"12px 18px",borderRadius:"20px",border:"none",fontSize:"14px",background:"white"}}),a.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"(PDF, DOCX, JPEG - 20 Mo max)"})]}),TW=()=>{const[t,e]=S.useState([]),[n,s]=S.useState(!0),[r,o]=S.useState("");return S.useEffect(()=>{(async()=>{try{s(!0),o("");const l=await Pl.getTypes();e(l)}catch(l){console.error("Erreur lors du chargement des types:",l),o("Erreur lors du chargement des types")}finally{s(!1)}})()},[]),{types:t,loading:n,error:r}},EW=({value:t,onChange:e,required:n=!1})=>{const{types:s,loading:r,error:o}=TW();return console.log("Donnes des types :",s),a.jsxs("div",{style:{marginBottom:"25px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"600",color:"#333"},children:"*Type de demande :"}),a.jsxs("select",{value:t,onChange:i=>e(i.target.value),style:{width:"100%",padding:"12px 18px",borderRadius:"20px",border:"none",fontSize:"16px",background:"white"},required:n,children:[a.jsx("option",{value:"",children:r?"Chargement des types...":"Slectionnez le type"}),o?a.jsx("option",{value:"",disabled:!0,children:"Erreur de chargement"}):s.map(i=>a.jsx("option",{value:i.id,children:i.libelle},i.id))]}),r&&a.jsx("p",{style:{fontSize:"14px",color:"#666",marginTop:"5px"},children:"Chargement des types..."}),o&&a.jsx("p",{style:{fontSize:"14px",color:"#e53e3e",marginTop:"5px"},children:o})]})};function _W(){const t=Es(),[e,n]=S.useState(""),[s,r]=S.useState(""),[o,i]=S.useState(""),[l,c]=S.useState(""),[d,u]=S.useState(""),[h,f]=S.useState(""),[m,g]=S.useState(!1),[p,x]=S.useState(null),{soumettreDemande:b,loading:y}=SW(),v=localStorage.getItem("companyId")||"",w=localStorage.getItem("userId")||"",k=v,j=w;S.useEffect(()=>{var T;(T=t.state)!=null&&T.produitSelectionne&&(console.log("Produit ID prslectionn:",t.state.produitSelectionne),i(t.state.produitSelectionne))},[t.state]);const C=async T=>{T.preventDefault();try{await b({raison:e,logiciel:o,type:h,company:k,utilisateur:j,description:l,niveau:d,fichiers:p},m)}catch(P){alert(P instanceof Error?P.message:"Une erreur est survenue")}};return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"CLIENT"}),a.jsx("div",{style:{padding:"40px 60px",display:"flex",justifyContent:"center"},children:a.jsxs("div",{style:{background:"rgba(200, 240, 180, 0.7)",padding:"50px",borderRadius:"30px",maxWidth:"700px",width:"100%",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},children:[a.jsx("h2",{style:{textAlign:"center",fontSize:"36px",color:"#17a2b8",marginBottom:"40px",fontWeight:"bold"},children:"Nouvelle demande"}),a.jsxs("form",{onSubmit:C,children:[a.jsxs("div",{style:{marginBottom:"25px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"600",color:"#333"},children:"*Raison :"}),a.jsx("input",{type:"text",value:e,onChange:T=>n(T.target.value),style:{width:"100%",padding:"12px 18px",borderRadius:"20px",border:"none",fontSize:"16px"},required:!0})]}),a.jsx(wW,{value:o,onChange:i,required:!0}),a.jsxs("div",{style:{marginBottom:"25px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"600",color:"#333"},children:"*Description :"}),a.jsx("textarea",{value:l,onChange:T=>c(T.target.value),style:{width:"100%",padding:"12px 18px",borderRadius:"20px",border:"none",fontSize:"16px",minHeight:"120px",resize:"vertical"},required:!0})]}),a.jsx(jW,{value:d,onChange:u,required:!0}),a.jsx(EW,{value:h,onChange:f,required:!0}),a.jsx(CW,{onChange:x}),a.jsx("div",{style:{marginBottom:"30px"},children:a.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:m,onChange:T=>g(T.target.checked),style:{marginTop:"4px",width:"18px",height:"18px",cursor:"pointer"},required:!0}),a.jsxs("span",{style:{fontSize:"14px",color:"#333",lineHeight:"1.5"},children:["J'accepte les termes de la"," ",a.jsx("a",{href:"#",style:{color:"#2563eb",textDecoration:"underline"},children:"Politique de confidentialit"})," ","et autorise que mes donnes personnelles soient traites dans la mesure ncessaire  mon abonnement"]})]})}),a.jsx("button",{type:"submit",style:{width:"100%",background:y?"#9ca3af":"#10b981",color:"white",padding:"14px",borderRadius:"25px",border:"none",fontSize:"18px",fontWeight:"600",cursor:y?"not-allowed":"pointer"},disabled:y,children:y?"Soumission en cours...":"Soumettre"})]})]})})]})}const ct={async getSolutions(t){try{const e=await A.get(`/solutions/ticket/${t}`);return console.log("Solutions rcupres:",e.data),e.data}catch(e){return console.error("Erreur rcupration solutions:",e),[]}},async getTicketDetails(t){const e=await A.get(`/tickets/${t}`);return console.log("Dtails ticket:",e.data),e.data},async getInteractions(t){try{const e=await A.get(`/interactions/ticket/${t}`);return console.log("Interactions:",e.data),e.data}catch(e){return console.error("Erreur rcupration interactions:",e),[]}},async creerInteraction(t){return console.log("Cration interaction avec donnes:",t),(await A.post("/interactions",t)).data},async getPiecesJointes(t){try{const e=await A.get(`/pieces-jointes/ticket/${t}`);return console.log("Pices jointes:",e.data),e.data}catch(e){return console.error("Erreur rcupration pices jointes:",e),[]}},async relancerTicket(t,e){return(await A.post(`/tickets/${t}/relancer`,e)).data},async ajouterPieceJointe(t,e){const n=new FormData;return e.fichier&&n.append("fichier",e.fichier),n.append("commentaires",e.commentaires),n.append("utilisateurId",e.utilisateurId.toString()),(await A.post(`/pieces-jointes/${t}/rajouter`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},async cloturerTicket(t,e){const n=new FormData;return n.append("solutions",e.solutions),e.fichier&&n.append("fichier",e.fichier),(await A.post(`/tickets/${t}/cloturer`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},async proposerAutreDate(t,e,n){return(await A.post(`/tickets/${t}/demandes/${e}/autre-date`,n)).data},async validerIntervention(t,e){return(await A.post(`/tickets/${t}/demandes/${e}/valider`)).data}},RW=t=>{const[e,n]=S.useState(null),[s,r]=S.useState(!0),[o,i]=S.useState("");return S.useEffect(()=>{t&&(async()=>{try{r(!0),i("");const c=await ct.getTicketDetails(t);n(c)}catch(c){console.error("Erreur:",c),i("Impossible de charger les dtails du ticket")}finally{r(!1)}})()},[t]),{ticket:e,loading:s,error:o}};function PW(t){const e=String(t||"").trim().toUpperCase(),n={OUVERT:{label:"Ouvert",bg:"#e6f7ff",color:"#006d75",border:"#91d5ff"},EN_COURS:{label:"En cours",bg:"#fffbe6",color:"#ad8b00",border:"#ffe58f"},EN_ATTENTE:{label:"En attente",bg:"#fff1f0",color:"#a8071a",border:"#ffa39e"},RESOLU:{label:"Rsolu",bg:"#f6ffed",color:"#237804",border:"#b7eb8f"},CLOTURE:{label:"Cltur",bg:"#f0f0f0",color:"#595959",border:"#d9d9d9"},ANNULE:{label:"Annul",bg:"#fafafa",color:"#8c8c8c",border:"#e8e8e8"}},s={1:"OUVERT",2:"EN_COURS",3:"EN_ATTENTE",4:"RESOLU",5:"CLOTURE",6:"ANNULE"},r=n[e]?e:s[e]??"OUVERT";return n[r]}const DW=({reference:t,statut:e,dateCreation:n,produit:s,produitNom:r,onRelancer:o,onAjouterPJ:i,onCloturer:l})=>{const c=PW(e),d=r||s||"",u=f=>{if(!f)return"";try{return new Date(f).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return""}},h={display:"inline-block",padding:"4px 10px",borderRadius:999,background:c.bg,color:c.color,fontWeight:600,border:`1px solid ${c.border??"transparent"}`,fontSize:12,letterSpacing:.2};return a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px",marginBottom:"40px"},children:[a.jsxs("div",{style:{background:"rgba(200, 240, 180, 0.7)",padding:"30px",borderRadius:"20px"},children:[a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsx("strong",{style:{color:"#17a2b8"},children:"Rfrence :"})," ",t||""]}),a.jsxs("div",{style:{marginBottom:"15px",display:"flex",gap:8,alignItems:"center"},children:[a.jsx("strong",{style:{color:"#17a2b8"},children:"Statut :"}),a.jsx("span",{style:h,children:c.label})]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsx("strong",{style:{color:"#17a2b8"},children:"Date de soumission :"})," ",u(n)]}),a.jsxs("div",{children:[a.jsx("strong",{style:{color:"#17a2b8"},children:"Produit :"})," ",d]})]}),a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)"},children:[a.jsx("h3",{style:{textAlign:"center",color:"#17a2b8",textDecoration:"underline",marginBottom:"20px"},children:"Actions supplmentaires"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[a.jsx("button",{onClick:o,className:"btn-warning",style:{padding:"10px",borderRadius:"20px",border:"none",background:"#ffc107",color:"black",cursor:"pointer",fontWeight:"600"},children:"Nouvelle interaction"}),a.jsx("button",{onClick:i,style:{padding:"10px",borderRadius:"20px",border:"none",background:"#c8f7dc",color:"black",cursor:"pointer",fontWeight:"600"},children:"Rajouter PJ"}),a.jsx("button",{style:{padding:"10px",borderRadius:"20px",border:"none",background:"#ffd700",color:"black",cursor:"pointer",fontWeight:"600"},children:"Renvoyer une fiche"}),a.jsx("button",{onClick:l,className:"btn-primary",style:{padding:"10px",borderRadius:"20px",border:"none",background:"#17a2b8",color:"white",cursor:"pointer",fontWeight:"600"},children:"Clturer ticket"})]})]})]})},AW=t=>{if(!t)return"#6b7280";switch(t.toLowerCase()){case"message":return"#f59e0b";case"reponse":return"#10b981";case"question":return"#3b82f6";case"information":return"#8b5cf6";case"urgence":return"#ef4444";case"relance":return"#f97316";case"clture":return"#6b7280";case"solution":return"#0b2261ff";default:return"#6b7280"}},IW=({interaction:t})=>a.jsxs("tr",{style:{borderBottom:"1px solid #f0f0f0"},children:[a.jsx(zi,{children:a.jsx(NW,{type:t.typeInteractionLibelle})}),a.jsx(zi,{children:new Date(t.dateCreation).toLocaleDateString("fr-FR")}),a.jsx(zi,{maxWidth:"200px",children:t.message||"-"}),a.jsx(zi,{children:a.jsx($W,{pieceJointe:t.pieceJointe})})]}),NW=({type:t})=>a.jsx("span",{style:{background:AW(t),color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",display:"inline-block"},children:t||"Non spcifi"}),$W=({pieceJointe:t})=>t?a.jsxs("a",{href:`/api/pieces-jointes/${t}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#17a2b8",textDecoration:"none",fontWeight:"500"},children:[" ",t]}):a.jsx("span",{children:"-"}),zi=({children:t,maxWidth:e})=>a.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#666",maxWidth:e,wordBreak:"break-word"},children:t}),MW=({solution:t,onVoirDetails:e})=>a.jsxs("tr",{style:{borderBottom:"1px solid #f0f0f0",background:"#f8f9fa"},children:[a.jsx(Fr,{children:a.jsx(OW,{type:"Solution"})}),a.jsx(Fr,{children:new Date(t.dateCreation).toLocaleDateString("fr-FR")}),a.jsx(Fr,{maxWidth:"300px",children:a.jsx("div",{children:a.jsx("div",{style:{fontSize:"13px",color:"#666"},children:t.description})})}),a.jsx(Fr,{children:a.jsx("span",{style:{color:"#999"},children:"-"})}),a.jsx(Fr,{children:a.jsx("button",{className:"btn-primary",style:{padding:"6px 12px",fontSize:"12px",background:"#17a2b8",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",transition:"background 0.3s ease"},onClick:()=>e(t),onMouseEnter:n=>{n.currentTarget.style.background="#138496"},onMouseLeave:n=>{n.currentTarget.style.background="#17a2b8"},children:"Dtails"})})]}),OW=({type:t})=>a.jsx("span",{style:{background:LW(t),color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",display:"inline-block"},children:t}),Fr=({children:t,maxWidth:e})=>a.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#666",maxWidth:e,wordBreak:"break-word"},children:t}),LW=t=>t==="Solution"?"#28a745":"#6c757d",Qn={async creerReponse(t){try{const e=await A.post(`/solutions/${t.solutionId}/reponses`,{estValide:t.estValide,commentaire:t.commentaire,utilisateurId:t.utilisateurId});if(e.status!==200)throw new Error("Erreur lors de la cration de la rponse");return e.data}catch(e){throw console.error("Erreur cration rponse:",e),new Error("Erreur lors de la cration de la rponse")}},async validerSolution(t){return this.creerReponse({solutionId:t,estValide:!0,utilisateurId:void 0})},async rejeterSolution(t){return this.creerReponse({solutionId:t.solutionId,estValide:!1,commentaire:t.commentaire,utilisateurId:t.utilisateurId})},async cloturerTicket(t){try{if((await A.post(`/solutions/${t}/cloturer`)).status!==200)throw new Error("Erreur lors de la clture du ticket")}catch(e){throw console.error("Erreur clture ticket:",e),new Error("Erreur lors de la clture du ticket")}},async getReponsesParSolution(t){try{const e=await A.get(`/solutions/${t}/reponses`);if(e.status!==200)throw new Error("Erreur lors de la rcupration des rponses");return e.data}catch(e){throw console.error("Erreur rcupration rponses:",e),new Error("Erreur lors de la rcupration des rponses")}},async getStatistiquesSolution(t){try{const e=await A.get(`/solutions/${t}/reponses/statistiques`);if(e.status!==200)throw new Error("Erreur lors de la rcupration des statistiques");return e.data}catch(e){throw console.error("Erreur rcupration statistiques:",e),new Error("Erreur lors de la rcupration des statistiques")}},async getDerniereReponse(t){try{const e=await A.get(`/solutions/${t}/reponses/derniere`);if(e.status===404)return null;if(e.status!==200)throw new Error("Erreur lors de la rcupration de la dernire rponse");return e.data}catch(e){throw console.error("Erreur rcupration dernire rponse:",e),new Error("Erreur lors de la rcupration de la dernire rponse")}}},fh=()=>{const{t}=V(["common","solution"]),[e,n]=S.useState(!1),[s,r]=S.useState(null),[o,i]=S.useState(null),l=()=>{const x=localStorage.getItem("userId");if(console.log("UserID rcupr:",x),x)try{const b=parseInt(x);if(!isNaN(b))return b}catch(b){console.error("Erreur parsing user ID:",b)}throw new Error("Utilisateur non connect")};return{isLoading:e,error:s,success:o,creerReponse:async x=>{n(!0),r(null),i(null);try{const b=l(),y=await Qn.creerReponse({...x,utilisateurId:b});return i(x.estValide?t("solution:solutionValidated"):t("solution:solutionRejected")),y}catch(b){const y=b instanceof Error?b.message:t("common:errorOccurred");return r(y),null}finally{n(!1)}},validerSolution:async x=>{n(!0),r(null),i(null);try{const b=l(),y=await Qn.creerReponse({solutionId:x,estValide:!0,utilisateurId:b});return i(t("solution:solutionValidated")),y}catch(b){const y=b instanceof Error?b.message:t("common:errorOccurred");return r(y),null}finally{n(!1)}},rejeterSolution:async(x,b)=>{n(!0),r(null),i(null);try{const y=l(),v=await Qn.creerReponse({solutionId:x,estValide:!1,commentaire:b,utilisateurId:y});return i(t("solution:solutionRejected")),v}catch(y){const v=y instanceof Error?y.message:t("common:errorOccurred");return r(v),null}finally{n(!1)}},cloturerTicket:async x=>{n(!0),r(null),i(null);try{return await Qn.cloturerTicket(x),i(t("solution:ticketClosed")),!0}catch(b){const y=b instanceof Error?b.message:t("common:errorOccurred");return r(y),!1}finally{n(!1)}},getReponsesParSolution:async x=>{try{return await Qn.getReponsesParSolution(x)}catch(b){return console.error("Erreur rcupration rponses:",b),[]}},getStatistiquesSolution:async x=>{try{return await Qn.getStatistiquesSolution(x)}catch(b){return console.error("Erreur rcupration statistiques:",b),null}},getDerniereReponse:async x=>{try{return await Qn.getDerniereReponse(x)}catch(b){return console.error("Erreur rcupration dernire rponse:",b),null}},clearMessages:()=>{r(null),i(null)}}};function zW({solution:t}){return a.jsxs("div",{children:[a.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:a.jsx(Br,{label:"Rfrence",value:t.reference})}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"}}),a.jsx(Br,{label:"Titre",value:t.titre,fullWidth:!0,style:{marginBottom:"20px"}}),a.jsx(Br,{label:"Description",value:t.description,fullWidth:!0,style:{marginBottom:"20px"}}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[a.jsx(Br,{label:"Date cration",value:new Date(t.dateCreation).toLocaleDateString("fr-FR")}),a.jsx(Br,{label:"Date mise  jour",value:new Date(t.dateMiseAJour).toLocaleDateString("fr-FR")})]}),t.cloture&&a.jsx("div",{style:{padding:"15px",background:"#2d3748",borderRadius:"8px",border:"2px solid #48bb78",marginBottom:"20px",textAlign:"center"},children:a.jsxs("strong",{style:{color:"#48bb78"},children:[" Ticket cltur le ",t.dateCloture?new Date(t.dateCloture).toLocaleDateString("fr-FR"):"N/A"]})})]})}const Br=({label:t,value:e,fullWidth:n=!1,style:s={}})=>a.jsxs("div",{style:{padding:"15px",background:"#4a5568",borderRadius:"8px",gridColumn:n?"1 / -1":"auto",...s},children:[a.jsxs("strong",{style:{display:"block",marginBottom:"5px"},children:[t,":"]}),a.jsx("span",{children:e})]});function FW({reponse:t}){return a.jsxs("div",{style:{padding:"15px",background:"#2d3748",borderRadius:"8px",marginBottom:"10px",borderLeft:`4px solid ${t.estValide?"#48bb78":"#f56565"}`},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",color:"white",backgroundColor:t.estValide?"#48bb78":"#f56565"},children:t.estValide?" Solution OK":" Solution KO"}),a.jsxs("span",{style:{fontSize:"12px",color:"#a0aec0"},children:["Par ",t.creeParNom]})]}),a.jsxs("span",{style:{fontSize:"12px",color:"#a0aec0"},children:[new Date(t.dateReponse).toLocaleDateString("fr-FR")," "," ",new Date(t.dateReponse).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}),t.commentaire&&a.jsx("div",{style:{marginTop:"8px",padding:"10px",background:"#4a5568",borderRadius:"6px",fontSize:"14px",color:"#e2e8f0"},children:t.commentaire})]})}function BW({solution:t,onReponsesLoaded:e}){const{getReponsesParSolution:n}=fh(),[s,r]=S.useState([]),[o,i]=S.useState(!1);S.useEffect(()=>{l()},[t.id]);const l=async()=>{i(!0);try{const c=await n(t.id);r(c),e(c)}catch(c){console.error("Erreur chargement rponses:",c)}finally{i(!1)}};return a.jsxs("div",{style:{width:"100%",overflowX:"hidden"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",width:"100%"},children:[a.jsxs("h4",{style:{margin:0,color:"#6dd5ed"},children:["Historique des rponses (",s.length,")"]}),a.jsx("button",{onClick:l,disabled:o,style:{background:"#4a5568",color:"white",padding:"8px 16px",borderRadius:"20px",border:"none",cursor:o?"not-allowed":"pointer",fontSize:"12px",opacity:o?.6:1,transition:"background-color 0.2s ease"},onMouseEnter:c=>{o||(c.currentTarget.style.backgroundColor="#2d3748")},onMouseLeave:c=>{o||(c.currentTarget.style.backgroundColor="#4a5568")},children:o?"":" Actualiser"})]}),o?a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#a0aec0"},children:"Chargement des rponses..."}):s.length===0?a.jsx("div",{style:{textAlign:"center",padding:"40px",background:"#2d3748",borderRadius:"8px",color:"#a0aec0"},children:"Aucune rponse pour cette solution"}):a.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",overflowX:"hidden",width:"100%"},children:s.map(c=>a.jsx(FW,{reponse:c},c.id))})]})}function WW({onSubmit:t,onCancel:e,isLoading:n}){const{t:s}=V(["common","solution"]),[r,o]=S.useState("");S.useEffect(()=>{o("")},[]);const i=()=>{r.trim()&&t(r)},l=()=>{o(""),e()};return a.jsxs("div",{style:{marginBottom:"20px",padding:"20px",background:"#2d3748",borderRadius:"8px",border:"1px solid #4a5568"},children:[a.jsx("h4",{style:{marginBottom:"15px",color:"#f56565"},children:s("solution:explainIssue")}),a.jsx("textarea",{value:r,onChange:c=>o(c.target.value),placeholder:s("solution:commentPlaceholder"),style:{width:"100%",minHeight:"100px",padding:"12px",borderRadius:"8px",border:"1px solid #4a5568",background:"#1a202c",color:"white",resize:"vertical",marginBottom:"15px"}}),a.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:l,disabled:n,style:{background:"#718096",color:"white",padding:"10px 20px",borderRadius:"20px",border:"none",cursor:n?"not-allowed":"pointer",opacity:n?.6:1},children:s("common:cancel")}),a.jsx("button",{onClick:i,disabled:n||!r.trim(),style:{background:"#f56565",color:"white",padding:"10px 20px",borderRadius:"20px",border:"none",cursor:n||!r.trim()?"not-allowed":"pointer",opacity:n||!r.trim()?.6:1},children:s(n?"common:loading":"solution:submitIssue")})]})]})}function UW({solution:t,onSolutionRepondue:e,isLoading:n,onClearMessages:s}){const{t:r}=V(["common","solution"]),{validerSolution:o,rejeterSolution:i,cloturerTicket:l}=fh(),[c,d]=S.useState(!1),[u,h]=S.useState(null),f=async()=>{h("valider"),s(),await o(t.id)&&(d(!1),h(null),e())},m=async y=>{h("rejeter"),s(),await i(t.id,y)&&(d(!1),h(null),e())},g=async()=>{h("cloturer"),s(),await l(t.id)&&(h(null),e())},p=y=>{h(y),y==="valider"?f():y==="cloturer"?g():d(!0)},x=()=>{d(!1),h(null),s()},b=y=>{m(y)};return t.cloture?a.jsxs("div",{style:{textAlign:"center",padding:"20px",background:"#2d3748",borderRadius:"8px",marginTop:"20px",border:"2px solid #48bb78"},children:[a.jsx("strong",{style:{color:"#48bb78"},children:" Ticket cltur"}),t.dateCloture&&a.jsxs("div",{style:{fontSize:"14px",color:"#a0aec0",marginTop:"5px"},children:["Le ",new Date(t.dateCloture).toLocaleDateString("fr-FR")]})]}):a.jsxs("div",{style:{marginTop:"auto",paddingTop:"20px"},children:[c&&a.jsx(WW,{onSubmit:b,onCancel:x,isLoading:n&&u==="rejeter"}),!c&&a.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center",paddingTop:"20px",borderTop:"1px solid #4a5568",flexWrap:"wrap"},children:[a.jsx(Tg,{type:"valider",onClick:()=>p("valider"),isLoading:n&&u==="valider",label:r("solution:solutionOK")}),a.jsx(Tg,{type:"rejeter",onClick:()=>p("rejeter"),isLoading:n&&u==="rejeter",label:r("solution:solutionKO")})]})]})}const Tg=({type:t,onClick:e,isLoading:n,label:s})=>{const{t:r}=V(["common"]),i={...{color:"white",padding:"12px 30px",borderRadius:"25px",border:"none",cursor:n?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"background-color 0.2s ease",opacity:n?.6:1},background:{valider:{background:"#48bb78",hover:"#38a169"},rejeter:{background:"#f56565",hover:"#e53e3e"},cloturer:{background:"#6b46c1",hover:"#553c9a"}}[t].background};return a.jsx("button",{onClick:e,disabled:n,style:i,onMouseEnter:l=>{if(!n){const c={valider:"#38a169",rejeter:"#e53e3e",cloturer:"#553c9a"};l.currentTarget.style.backgroundColor=c[t]}},onMouseLeave:l=>{if(!n){const c={valider:"#48bb78",rejeter:"#f56565",cloturer:"#6b46c1"};l.currentTarget.style.backgroundColor=c[t]}},children:n?r("common:loading"):s})};function HW({error:t,success:e}){return!t&&!e?null:a.jsx("div",{style:{background:t?"#fed7d7":"#c6f6d5",color:t?"#9b2c2c":"#276749",padding:"12px",borderRadius:"8px",marginBottom:"20px",border:`1px solid ${t?"#feb2b2":"#9ae6b4"}`},children:t||e})}function VW({solution:t,onClose:e,onSolutionRepondue:n}){V(["common","solution"]);const{isLoading:s,error:r,success:o,clearMessages:i}=fh(),[l,c]=S.useState("details"),[d,u]=S.useState([]),[h,f]=S.useState(!1);if(S.useEffect(()=>()=>{i()},[]),S.useEffect(()=>{o&&h&&(c("reponses"),f(!1))},[o,h]),!t)return null;const m=x=>{u(x)},g=()=>{f(!0),n==null||n()},p=()=>{i(),f(!1)};return a.jsxs("div",{style:{color:"white",width:"90vw",maxWidth:"550px",minWidth:"180px",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[a.jsx(HW,{error:r,success:o}),a.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #4a5568",marginBottom:"20px",flexShrink:0},children:[a.jsx(Eg,{active:l==="details",onClick:()=>{c("details"),p()},label:"Dtails de la solution"}),a.jsx(Eg,{active:l==="reponses",onClick:()=>{c("reponses"),p()},label:"Historique des rponses",badgeCount:d.length})]}),a.jsxs("div",{style:{minHeight:"400px",maxHeight:"70vh",overflowY:"auto",overflowX:"hidden",flex:1},children:[l==="details"&&a.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[a.jsx(zW,{solution:t}),a.jsx(UW,{solution:t,onSolutionRepondue:g,isLoading:s,onClearMessages:p})]}),l==="reponses"&&a.jsx(BW,{solution:t,onReponsesLoaded:m},`${t.id}-${d.length}`)]})]})}const Eg=({active:t,onClick:e,label:n,badgeCount:s})=>a.jsxs("button",{onClick:e,style:{padding:"12px 20px",background:"none",border:"none",color:t?"#6dd5ed":"#a0aec0",borderBottom:t?"2px solid #6dd5ed":"none",cursor:"pointer",fontWeight:t?"600":"400",position:"relative",transition:"color 0.2s ease",whiteSpace:"nowrap"},children:[n,s!==void 0&&s>0&&a.jsx("span",{style:{position:"absolute",top:"8px",right:"8px",background:"#6dd5ed",color:"white",borderRadius:"50%",width:"16px",height:"16px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:s})]}),qW=({interactions:t,solutions:e=[],onNouvelleInteraction:n})=>{const[s,r]=S.useState(null),o=c=>{r(c)},i=()=>{r(null)},l=[...t.map(c=>({...c,type:"interaction"})),...e.map(c=>({...c,type:"solution",typeInteractionLibelle:"Solution",dateCreation:c.dateCreation,message:c.description||c.titre}))].sort((c,d)=>new Date(d.dateCreation).getTime()-new Date(c.dateCreation).getTime());return l.length===0?a.jsx("div",{style:{background:"white",padding:"20px",borderRadius:"10px",textAlign:"center",color:"#666",fontStyle:"italic"},children:"Aucune interaction ou solution"}):a.jsxs("div",{children:[s&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:a.jsxs("div",{style:{background:"#2d3748",padding:"30px",borderRadius:"15px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsx("h3",{style:{color:"white",margin:0},children:"Dtails de la solution"}),a.jsx("button",{onClick:i,style:{background:"none",border:"none",color:"white",fontSize:"20px",cursor:"pointer"},children:""})]}),a.jsx(VW,{solution:s,onClose:i}),a.jsx("div",{style:{textAlign:"right",marginTop:"20px"},children:a.jsx("button",{onClick:i,style:{background:"#6dd5ed",color:"white",padding:"10px 20px",borderRadius:"20px",border:"none",cursor:"pointer"},children:"Fermer"})})]})}),a.jsx("div",{style:{background:"white",borderRadius:"10px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"20px"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#f8f9fa"},children:[a.jsx(Wr,{children:"Type"}),a.jsx(Wr,{children:"Date"}),a.jsx(Wr,{children:"Contenu"}),a.jsx(Wr,{children:"PJ"}),a.jsx(Wr,{children:"Actions"})]})}),a.jsx("tbody",{children:l.map(c=>c.type==="interaction"?a.jsx(IW,{interaction:c},`interaction-${c.id}`):a.jsx(MW,{solution:c,onVoirDetails:o},`solution-${c.id}`))})]})})]})},Wr=({children:t})=>a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"14px",fontWeight:"600"},children:t});var B0={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(K0,function(){var n=1e3,s=6e4,r=36e5,o="millisecond",i="second",l="minute",c="hour",d="day",u="week",h="month",f="quarter",m="year",g="date",p="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var O=["th","st","nd","rd"],I=F%100;return"["+F+(O[(I-20)%10]||O[I]||O[0])+"]"}},v=function(F,O,I){var N=String(F);return!N||N.length>=O?F:""+Array(O+1-N.length).join(I)+F},w={s:v,z:function(F){var O=-F.utcOffset(),I=Math.abs(O),N=Math.floor(I/60),E=I%60;return(O<=0?"+":"-")+v(N,2,"0")+":"+v(E,2,"0")},m:function F(O,I){if(O.date()<I.date())return-F(I,O);var N=12*(I.year()-O.year())+(I.month()-O.month()),E=O.clone().add(N,h),$=I-E<0,L=O.clone().add(N+($?-1:1),h);return+(-(N+(I-E)/($?E-L:L-E))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:h,y:m,w:u,d,D:g,h:c,m:l,s:i,ms:o,Q:f}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},k="en",j={};j[k]=y;var C="$isDayjsObject",T=function(F){return F instanceof M||!(!F||!F[C])},P=function F(O,I,N){var E;if(!O)return k;if(typeof O=="string"){var $=O.toLowerCase();j[$]&&(E=$),I&&(j[$]=I,E=$);var L=O.split("-");if(!E&&L.length>1)return F(L[0])}else{var B=O.name;j[B]=O,E=B}return!N&&E&&(k=E),E||!N&&k},R=function(F,O){if(T(F))return F.clone();var I=typeof O=="object"?O:{};return I.date=F,I.args=arguments,new M(I)},_=w;_.l=P,_.i=T,_.w=function(F,O){return R(F,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var M=function(){function F(I){this.$L=P(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[C]=!0}var O=F.prototype;return O.parse=function(I){this.$d=function(N){var E=N.date,$=N.utc;if(E===null)return new Date(NaN);if(_.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var L=E.match(x);if(L){var B=L[2]-1||0,q=(L[7]||"0").substring(0,3);return $?new Date(Date.UTC(L[1],B,L[3]||1,L[4]||0,L[5]||0,L[6]||0,q)):new Date(L[1],B,L[3]||1,L[4]||0,L[5]||0,L[6]||0,q)}}return new Date(E)}(I),this.init()},O.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},O.$utils=function(){return _},O.isValid=function(){return this.$d.toString()!==p},O.isSame=function(I,N){var E=R(I);return this.startOf(N)<=E&&E<=this.endOf(N)},O.isAfter=function(I,N){return R(I)<this.startOf(N)},O.isBefore=function(I,N){return this.endOf(N)<R(I)},O.$g=function(I,N,E){return _.u(I)?this[N]:this.set(E,I)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(I,N){var E=this,$=!!_.u(N)||N,L=_.p(I),B=function(Yn,Ze){var gn=_.w(E.$u?Date.UTC(E.$y,Ze,Yn):new Date(E.$y,Ze,Yn),E);return $?gn:gn.endOf(d)},q=function(Yn,Ze){return _.w(E.toDate()[Yn].apply(E.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(Ze)),E)},G=this.$W,X=this.$M,ae=this.$D,me="set"+(this.$u?"UTC":"");switch(L){case m:return $?B(1,0):B(31,11);case h:return $?B(1,X):B(0,X+1);case u:var xt=this.$locale().weekStart||0,kr=(G<xt?G+7:G)-xt;return B($?ae-kr:ae+(6-kr),X);case d:case g:return q(me+"Hours",0);case c:return q(me+"Minutes",1);case l:return q(me+"Seconds",2);case i:return q(me+"Milliseconds",3);default:return this.clone()}},O.endOf=function(I){return this.startOf(I,!1)},O.$set=function(I,N){var E,$=_.p(I),L="set"+(this.$u?"UTC":""),B=(E={},E[d]=L+"Date",E[g]=L+"Date",E[h]=L+"Month",E[m]=L+"FullYear",E[c]=L+"Hours",E[l]=L+"Minutes",E[i]=L+"Seconds",E[o]=L+"Milliseconds",E)[$],q=$===d?this.$D+(N-this.$W):N;if($===h||$===m){var G=this.clone().set(g,1);G.$d[B](q),G.init(),this.$d=G.set(g,Math.min(this.$D,G.daysInMonth())).$d}else B&&this.$d[B](q);return this.init(),this},O.set=function(I,N){return this.clone().$set(I,N)},O.get=function(I){return this[_.p(I)]()},O.add=function(I,N){var E,$=this;I=Number(I);var L=_.p(N),B=function(X){var ae=R($);return _.w(ae.date(ae.date()+Math.round(X*I)),$)};if(L===h)return this.set(h,this.$M+I);if(L===m)return this.set(m,this.$y+I);if(L===d)return B(1);if(L===u)return B(7);var q=(E={},E[l]=s,E[c]=r,E[i]=n,E)[L]||1,G=this.$d.getTime()+I*q;return _.w(G,this)},O.subtract=function(I,N){return this.add(-1*I,N)},O.format=function(I){var N=this,E=this.$locale();if(!this.isValid())return E.invalidDate||p;var $=I||"YYYY-MM-DDTHH:mm:ssZ",L=_.z(this),B=this.$H,q=this.$m,G=this.$M,X=E.weekdays,ae=E.months,me=E.meridiem,xt=function(Ze,gn,jr,oi){return Ze&&(Ze[gn]||Ze(N,$))||jr[gn].slice(0,oi)},kr=function(Ze){return _.s(B%12||12,Ze,"0")},Yn=me||function(Ze,gn,jr){var oi=Ze<12?"AM":"PM";return jr?oi.toLowerCase():oi};return $.replace(b,function(Ze,gn){return gn||function(jr){switch(jr){case"YY":return String(N.$y).slice(-2);case"YYYY":return _.s(N.$y,4,"0");case"M":return G+1;case"MM":return _.s(G+1,2,"0");case"MMM":return xt(E.monthsShort,G,ae,3);case"MMMM":return xt(ae,G);case"D":return N.$D;case"DD":return _.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return xt(E.weekdaysMin,N.$W,X,2);case"ddd":return xt(E.weekdaysShort,N.$W,X,3);case"dddd":return X[N.$W];case"H":return String(B);case"HH":return _.s(B,2,"0");case"h":return kr(1);case"hh":return kr(2);case"a":return Yn(B,q,!0);case"A":return Yn(B,q,!1);case"m":return String(q);case"mm":return _.s(q,2,"0");case"s":return String(N.$s);case"ss":return _.s(N.$s,2,"0");case"SSS":return _.s(N.$ms,3,"0");case"Z":return L}return null}(Ze)||L.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(I,N,E){var $,L=this,B=_.p(N),q=R(I),G=(q.utcOffset()-this.utcOffset())*s,X=this-q,ae=function(){return _.m(L,q)};switch(B){case m:$=ae()/12;break;case h:$=ae();break;case f:$=ae()/3;break;case u:$=(X-G)/6048e5;break;case d:$=(X-G)/864e5;break;case c:$=X/r;break;case l:$=X/s;break;case i:$=X/n;break;default:$=X}return E?$:_.a($)},O.daysInMonth=function(){return this.endOf(h).$D},O.$locale=function(){return j[this.$L]},O.locale=function(I,N){if(!I)return this.$L;var E=this.clone(),$=P(I,N,!0);return $&&(E.$L=$),E},O.clone=function(){return _.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},F}(),U=M.prototype;return R.prototype=U,[["$ms",o],["$s",i],["$m",l],["$H",c],["$W",d],["$M",h],["$y",m],["$D",g]].forEach(function(F){U[F[1]]=function(O){return this.$g(O,F[0],F[1])}}),R.extend=function(F,O){return F.$i||(F(O,M,R),F.$i=!0),R},R.locale=P,R.isDayjs=T,R.unix=function(F){return R(1e3*F)},R.en=j[k],R.Ls=j,R.p={},R})})(B0);var KW=B0.exports;const YW=Ag(KW),JW=({pieceJointe:t})=>{const e=()=>{const n=document.createElement("a");n.href=`/api/pieces-jointes/${t.nomFichier}`,n.download=t.nomFichier,n.click()};return a.jsxs("tr",{style:{borderBottom:"1px solid #f0f0f0"},children:[a.jsx(Fi,{children:YW(t.date).format("DD/MM/YYYY")}),a.jsx(Fi,{children:t.commentaires}),a.jsx(Fi,{children:a.jsxs("a",{href:`/api/pieces-jointes/${t.nomFichier}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#17a2b8",textDecoration:"none",display:"flex",alignItems:"center",gap:"8px",fontWeight:"500"},children:[a.jsx("span",{style:{fontSize:"16px"},children:""}),t.nomFichier]})}),a.jsx(Fi,{center:!0,children:a.jsx("button",{className:"btn-primary",style:{padding:"6px 12px",fontSize:"12px",background:"#17a2b8",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",transition:"background 0.3s ease"},onClick:e,onMouseEnter:n=>{n.currentTarget.style.background="#138496"},onMouseLeave:n=>{n.currentTarget.style.background="#17a2b8"},children:"Tlcharger"})})]})},Fi=({children:t,center:e=!1})=>a.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#666",textAlign:e?"center":"left"},children:t}),XW=({piecesJointes:t})=>t.length===0?a.jsx("div",{style:{background:"white",padding:"20px",borderRadius:"10px",textAlign:"center",color:"#666",fontStyle:"italic"},children:"Aucune pice jointe"}):a.jsx("div",{style:{background:"white",borderRadius:"10px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#f8f9fa"},children:[a.jsx(Bi,{children:"Date"}),a.jsx(Bi,{children:"Commentaires"}),a.jsx(Bi,{children:"Fichier"}),a.jsx(Bi,{center:!0,children:"Actions"})]})}),a.jsx("tbody",{children:t.map(e=>a.jsx(JW,{pieceJointe:e},e.id))})]})}),Bi=({children:t,center:e=!1})=>a.jsx("th",{style:{padding:"12px",textAlign:e?"center":"left",borderBottom:"1px solid #dee2e6",fontSize:"14px",fontWeight:"600"},children:t}),GW=({interactions:t=[],piecesJointes:e=[],solutions:n=[],onNouvelleInteraction:s})=>{const r=Array.isArray(t)?t:[],o=Array.isArray(e)?e:[],i=Array.isArray(n)?n:[];return console.log("Interactions reues:",r),console.log("Pices jointes reues:",o),console.log("Solutions reues:",i),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{textAlign:"center",fontSize:"24px",color:"#17a2b8",marginBottom:"20px"},children:"Interactions"}),a.jsx(qW,{interactions:r,solutions:i,onNouvelleInteraction:s})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{textAlign:"center",fontSize:"24px",color:"#17a2b8",marginBottom:"20px"},children:"Pices jointes"}),a.jsx(XW,{piecesJointes:o})]})]})};function Za({isOpen:t,onClose:e,title:n,children:s}){return t?a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:e,children:a.jsxs("div",{style:{background:"#17a2b8",borderRadius:"20px",padding:"40px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflow:"auto",position:"relative",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},onClick:r=>r.stopPropagation(),children:[a.jsx("h2",{style:{marginBottom:"30px",textAlign:"center",color:"black",fontSize:"24px",fontWeight:"bold"},children:n}),s]})}):null}const QW=({isOpen:t,onClose:e,ticketId:n,onRelancer:s,utilisateurId:r})=>{const[o,i]=S.useState({niveau:"Urgent",commentaires:""}),[l,c]=S.useState(!1),d=async()=>{try{c(!0);const u=o.niveau==="Relance"?3:1,h={ticketId:n,message:`${o.niveau}: ${o.commentaires}`,typeInteractionId:u,canalInteractionId:1,auteurUtilisateurId:r,visibleClient:!1};s(h),e(),i({niveau:"Urgent",commentaires:""})}catch(u){console.error("Erreur lors de la prparation de la relance:",u),alert("Erreur lors de la prparation de la relance")}finally{c(!1)}};return a.jsxs(Za,{isOpen:t,onClose:e,title:"Relancer un ticket",children:[a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Ticket ID :"}),a.jsx("input",{type:"text",value:n,disabled:!0,style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd",background:"#f5f5f5"}})]}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Type :"}),a.jsx("select",{style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"},value:o.niveau,onChange:u=>i({...o,niveau:u.target.value}),disabled:l,children:a.jsx("option",{value:"Message",children:"Message"})})]}),a.jsxs("div",{style:{marginBottom:"30px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Commentaires :"}),a.jsx("textarea",{style:{width:"100%",minHeight:"100px",padding:"10px",borderRadius:"20px",border:"1px solid #ddd",fontFamily:"inherit"},value:o.commentaires,onChange:u=>i({...o,commentaires:u.target.value}),disabled:l,placeholder:"Saisissez les commentaires de relance..."})]}),a.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[a.jsx("button",{className:"btn-primary",onClick:d,disabled:l||!o.commentaires.trim(),style:{padding:"10px 20px",borderRadius:"20px",border:"none",background:l||!o.commentaires.trim()?"#ccc":"#17a2b8",color:"white",cursor:l||!o.commentaires.trim()?"not-allowed":"pointer",fontWeight:"600"},children:l?"Cration...":"Valider"}),a.jsx("button",{className:"btn-warning",onClick:e,disabled:l,style:{padding:"10px 20px",borderRadius:"20px",border:"1px solid #ddd",background:"white",color:"#666",cursor:l?"not-allowed":"pointer",fontWeight:"600"},children:"Annuler"})]})]})},ZW=({isOpen:t,onClose:e,reference:n,onAjouterPJ:s})=>{const[r,o]=S.useState({fichier:null,commentaires:"",utilisateurId:0}),i=S.useRef(null);S.useEffect(()=>{const h=localStorage.getItem("userId");if(console.log(" userId depuis localStorage:",h),h){const f=parseInt(h,10);isNaN(f)?console.error(" userId non numrique:",h):(o(m=>({...m,utilisateurId:f})),console.log(" utilisateurId dfini:",f))}else console.warn(" Aucun userId trouv dans localStorage")},[]);const l=h=>{h.target.files&&h.target.files[0]&&o(f=>({...f,fichier:h.target.files[0]}))},c=h=>{o(f=>({...f,commentaires:h.target.value}))},d=()=>{if(!r.fichier){alert("Veuillez slectionner un fichier");return}if(!r.utilisateurId||r.utilisateurId===0){alert("Erreur: Utilisateur non identifi. Veuillez rafrachir la page.");return}console.log(" Envoi PJ avec donnes:",{fichier:r.fichier.name,commentaires:r.commentaires,utilisateurId:r.utilisateurId}),s(r),e(),o({fichier:null,commentaires:"",utilisateurId:r.utilisateurId})},u=()=>{o(h=>({fichier:null,commentaires:"",utilisateurId:h.utilisateurId})),e()};return a.jsxs(Za,{isOpen:t,onClose:e,title:"Rajouter une PJ",children:[a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Rfrence :"}),a.jsx("input",{type:"text",value:n,disabled:!0,style:{width:"100%"}})]}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"*Pices jointes"}),a.jsx("input",{type:"file",ref:i,onChange:l,style:{display:"none"},accept:".pdf,.docx,.jpg,.jpeg,.png"}),a.jsx("button",{onClick:()=>{var h;return(h=i.current)==null?void 0:h.click()},style:{width:"100%",background:"white",color:"#333",padding:"12px",borderRadius:"20px",border:"1px solid #ddd"},children:r.fichier?r.fichier.name:"Parcourir ..."}),a.jsx("p",{style:{fontSize:"12px",color:"white",marginTop:"5px",textAlign:"center"},children:"(PDF, DOCX, JPEG - 20 Mo max)"})]}),a.jsxs("div",{style:{marginBottom:"30px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Commentaires :"}),a.jsx("textarea",{style:{width:"100%",minHeight:"100px"},value:r.commentaires,onChange:c})]}),a.jsxs("div",{style:{marginBottom:"10px",padding:"10px",background:"#f8f9fa",borderRadius:"5px",fontSize:"12px",border:"1px solid #dee2e6"},children:[a.jsx("strong",{children:"Debug:"})," utilisateurId = ",r.utilisateurId,r.utilisateurId===0&&"  (ID non dfini)"]}),a.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[a.jsx("button",{className:"btn-primary",onClick:d,children:"Valider"}),a.jsx("button",{className:"btn-warning",onClick:u,children:"Annuler"})]})]})},e7=[{id:1,libelle:"Question",code:"QUESTION"},{id:2,libelle:"Information",code:"INFORMATION"},{id:3,libelle:"Relance",code:"RELANCE"},{id:4,libelle:"Urgence",code:"URGENCE"}],t7=[{id:1,libelle:"Portail client",code:"PORTAL_CLIENT"},{id:2,libelle:"Email",code:"EMAIL"},{id:3,libelle:"Tlphone",code:"TELEPHONE"}],n7=({isOpen:t,onClose:e,reference:n,onCreerInteraction:s})=>{const[r,o]=S.useState(""),[i,l]=S.useState(1),[c,d]=S.useState(1),[u,h]=S.useState(!1);S.useEffect(()=>{t&&(o(""),l(1),d(1),h(!1))},[t]);const f=async g=>{if(g.preventDefault(),!r.trim()){alert("Veuillez saisir un message");return}h(!0);try{await s({message:r.trim(),typeInteractionId:i,canalInteractionId:c})}catch(p){console.error("Erreur dans la modal:",p)}finally{h(!1)}},m=()=>{u||e()};return t?a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:a.jsxs("div",{style:{background:"white",borderRadius:"15px",padding:"30px",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)",position:"relative"},children:[a.jsx("button",{onClick:m,disabled:u,style:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:u?"not-allowed":"pointer",color:"#666",width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:g=>{u||(g.currentTarget.style.background="#f0f0f0")},onMouseLeave:g=>{g.currentTarget.style.background="none"},children:""}),a.jsx("h2",{style:{textAlign:"center",color:"#17a2b8",marginBottom:"10px",fontSize:"24px"},children:"Nouvelle Interaction"}),a.jsxs("p",{style:{textAlign:"center",color:"#666",marginBottom:"30px",fontSize:"14px"},children:["Ticket : ",a.jsx("strong",{children:n})]}),a.jsxs("form",{onSubmit:f,children:[a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333",fontSize:"14px"},children:"Type d'interaction *"}),a.jsx("select",{value:i,onChange:g=>l(Number(g.target.value)),disabled:u,style:{width:"100%",padding:"12px 15px",borderRadius:"10px",border:"2px solid #e0e0e0",fontSize:"14px",backgroundColor:"white",cursor:u?"not-allowed":"pointer"},children:e7.map(g=>a.jsx("option",{value:g.id,children:g.libelle},g.id))})]}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333",fontSize:"14px"},children:"Canal *"}),a.jsx("select",{value:c,onChange:g=>d(Number(g.target.value)),disabled:u,style:{width:"100%",padding:"12px 15px",borderRadius:"10px",border:"2px solid #e0e0e0",fontSize:"14px",backgroundColor:"white",cursor:u?"not-allowed":"pointer"},children:t7.map(g=>a.jsx("option",{value:g.id,children:g.libelle},g.id))})]}),a.jsxs("div",{style:{marginBottom:"30px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333",fontSize:"14px"},children:"Message *"}),a.jsx("textarea",{value:r,onChange:g=>o(g.target.value),disabled:u,placeholder:"Saisissez votre message ici...",rows:6,style:{width:"100%",padding:"15px",borderRadius:"10px",border:"2px solid #e0e0e0",fontSize:"14px",fontFamily:"inherit",resize:"vertical",minHeight:"120px",backgroundColor:u?"#f8f9fa":"white",cursor:u?"not-allowed":"text"},onFocus:g=>{g.target.style.borderColor="#17a2b8",g.target.style.boxShadow="0 0 0 3px rgba(23, 162, 184, 0.1)"},onBlur:g=>{g.target.style.borderColor="#e0e0e0",g.target.style.boxShadow="none"}}),a.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"5px",textAlign:"right"},children:[r.length," caractres"]})]}),a.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[a.jsx("button",{type:"button",onClick:m,disabled:u,style:{padding:"12px 24px",borderRadius:"25px",border:"2px solid #6c757d",background:"white",color:"#6c757d",fontSize:"14px",fontWeight:"600",cursor:u?"not-allowed":"pointer",transition:"all 0.3s ease",opacity:u?.6:1},onMouseEnter:g=>{u||(g.currentTarget.style.background="#6c757d",g.currentTarget.style.color="white")},onMouseLeave:g=>{u||(g.currentTarget.style.background="white",g.currentTarget.style.color="#6c757d")},children:"Annuler"}),a.jsx("button",{type:"submit",disabled:u||!r.trim(),style:{padding:"12px 30px",borderRadius:"25px",border:"none",background:u||!r.trim()?"#a0d2e0":"#17a2b8",color:"white",fontSize:"14px",fontWeight:"600",cursor:u||!r.trim()?"not-allowed":"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:g=>{!u&&r.trim()&&(g.currentTarget.style.background="#138496",g.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:g=>{!u&&r.trim()&&(g.currentTarget.style.background="#17a2b8",g.currentTarget.style.transform="translateY(0)")},children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid transparent",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Cration..."]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{style:{fontSize:"16px"},children:"+"}),"Crer l'interaction"]})})]})]}),a.jsx("style",{children:`
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          `})]})}):null};function _g(){const{id:t}=Qx(),e=Me(),{ticket:n,loading:s,error:r}=RW(t||""),[o,i]=S.useState(!1),[l,c]=S.useState(!1),[d,u]=S.useState(!1),[h,f]=S.useState(!1),[m,g]=S.useState(!1),[p,x]=S.useState(!1),[b,y]=S.useState(null),[v,w]=S.useState([]),[k,j]=S.useState([]),[C,T]=S.useState([]),[P,R]=S.useState(!1),_=()=>{const N=localStorage.getItem("userId");return N?parseInt(N):1};S.useEffect(()=>{n&&(async()=>{if(n!=null&&n.id)try{R(!0);const[E,$,L]=await Promise.all([ct.getInteractions(n.id.toString()),ct.getPiecesJointes(n.id.toString()),ct.getSolutions(n.id.toString())]);w(E),j($),T(L)}catch(E){console.error("Erreur chargement dtails supplmentaires:",E),Y.error("Erreur lors du chargement des dtails")}finally{R(!1)}})()},[n]);const M=async N=>{try{await ct.creerInteraction(N);const E=await ct.getInteractions(n.id.toString());w(E),i(!1),Y.success("Interaction cre avec succs !")}catch(E){console.error("Erreur lors de la relance:",E),Y.error("Erreur lors de la relance")}},U=async N=>{try{await ct.ajouterPieceJointe(n.id.toString(),N);const E=await ct.getPiecesJointes(n.id.toString());j(E),c(!1),Y.success(" Pice jointe ajoute avec succs !")}catch(E){console.error("Erreur lors de l'ajout de PJ:",E),Y.error("Erreur lors de l'ajout de la pice jointe")}},F=async N=>{try{const E=_();if(!E){Y.error("Utilisateur non identifi");return}const $={ticketId:n.id,message:N.message,typeInteractionId:N.typeInteractionId,canalInteractionId:N.canalInteractionId,auteurUtilisateurId:E,visibleClient:N.visibleClient||!0};await ct.creerInteraction($);const L=await ct.getInteractions(n.id.toString());w(L),x(!1),Y.success("Interaction cre avec succs !")}catch(E){console.error("Erreur lors de la cration de l'interaction:",E),Y.error("Erreur lors de la cration de l'interaction")}},O=()=>{x(!0)},I=async()=>{if(n!=null&&n.id)try{R(!0);const[N,E,$]=await Promise.all([ct.getInteractions(n.id.toString()),ct.getPiecesJointes(n.id.toString()),ct.getSolutions(n.id.toString())]);w(N),j(E),T($)}catch(N){console.error("Erreur rechargement donnes:",N),Y.error("Erreur lors du rechargement des donnes")}finally{R(!1)}};return s?a.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"15px",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[a.jsx("div",{style:{fontSize:"18px",color:"#17a2b8",marginBottom:"10px"},children:"Chargement des dtails du ticket..."}),a.jsx("div",{style:{fontSize:"14px",color:"#666"},children:"Veuillez patienter"})]})}):r||!n?a.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"15px",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[a.jsx("div",{style:{fontSize:"18px",color:"#ef4444",marginBottom:"10px"},children:"Erreur"}),a.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"20px"},children:r||"Ticket non trouv"}),a.jsx("button",{onClick:()=>e(-1),style:{background:"#17a2b8",color:"white",padding:"10px 20px",borderRadius:"20px",border:"none",cursor:"pointer"},children:"Retour"})]})}):a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"CLIENT"}),a.jsxs("div",{style:{padding:"40px 60px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsx("button",{onClick:()=>e(-1),style:{background:"#17a2b8",color:"white",borderRadius:"50%",width:"50px",height:"50px",border:"none",cursor:"pointer",fontSize:"24px",transition:"all 0.3s ease"},onMouseEnter:N=>{N.currentTarget.style.background="#138496",N.currentTarget.style.transform="scale(1.1)"},onMouseLeave:N=>{N.currentTarget.style.background="#17a2b8",N.currentTarget.style.transform="scale(1)"},children:""}),a.jsxs("button",{onClick:I,disabled:P,style:{background:P?"#ccc":"#28a745",color:"white",padding:"10px 20px",borderRadius:"20px",border:"none",cursor:P?"not-allowed":"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},onMouseEnter:N=>{P||(N.currentTarget.style.background="#218838",N.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:N=>{P||(N.currentTarget.style.background="#28a745",N.currentTarget.style.transform="translateY(0)")},children:[" ",P?"Chargement...":"Rafrachir"]})]}),a.jsxs("h2",{style:{fontSize:"32px",color:"#17a2b8",marginBottom:"30px",textDecoration:"underline"},children:["Dtails du ticket : ",n.reference]}),a.jsx(DW,{reference:n.reference,statut:n.statut,dateCreation:n.dateCreation,produit:n.produitNom,onRelancer:()=>i(!0),onAjouterPJ:()=>c(!0),onCloturer:()=>u(!0)}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"30px"},children:[a.jsx(Cc,{title:"Interactions",value:v.length,color:"#17a2b8",icon:""}),a.jsx(Cc,{title:"Solutions",value:C.length,color:"#28a745",icon:""}),a.jsx(Cc,{title:"Pices jointes",value:k.length,color:"#fd7e14",icon:""})]}),P?a.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"white",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[a.jsx("div",{style:{fontSize:"16px",color:"#17a2b8",marginBottom:"10px"},children:"Chargement des interactions, solutions et pices jointes..."}),a.jsx("div",{style:{fontSize:"14px",color:"#666"},children:"Cette opration peut prendre quelques secondes"})]}):a.jsx(GW,{interactions:v,piecesJointes:k,solutions:C,onNouvelleInteraction:O})]}),a.jsx(QW,{isOpen:o,onClose:()=>i(!1),ticketId:n.id,onRelancer:M,utilisateurId:_()}),a.jsx(ZW,{isOpen:l,onClose:()=>c(!1),reference:n.reference,onAjouterPJ:U}),a.jsx(n7,{isOpen:p,onClose:()=>x(!1),reference:n.reference,onCreerInteraction:F})]})}const Cc=({title:t,value:e,color:n,icon:s})=>a.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderLeft:`4px solid ${n}`},children:[a.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:s}),a.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",color:n,marginBottom:"5px"},children:e}),a.jsx("div",{style:{fontSize:"14px",color:"#666",fontWeight:"500"},children:t})]}),s7=({activeTab:t,onTabChange:e})=>{const n=[{key:"contacts",label:"Mes contacts"},{key:"produits",label:"Mes produits"}];return a.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"15px",marginBottom:"40px"},children:n.map(s=>a.jsx("button",{onClick:()=>e(s.key),style:{background:t===s.key?"#666":"white",color:t===s.key?"white":"#333",padding:"12px 40px",borderRadius:"25px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"500",minWidth:"250px",transition:"all 0.3s ease"},children:s.label},s.key))})},r7={async getInterlocuteursByCompany(t){return(await A.get(`/produits/company/${t}/interlocuteurs`)).data},async getInterlocuteursWithParcs(t){return(await A.get(`/produits/company/${t}/interlocuteurs-with-parcs`)).data},async getInterlocuteursComplets(t){return(await A.get(`/produits/company/${t}/interlocuteurs-complets`)).data},async searchInterlocuteurs(t,e){const n=await this.getInterlocuteursComplets(t);return e?n.filter(s=>{var r;return s.userFullName.toLowerCase().includes(e.toLowerCase())||((r=s.email)==null?void 0:r.toLowerCase().includes(e.toLowerCase()))}):n}},o7=()=>{const[t,e]=S.useState([]),[n,s]=S.useState(!0),[r,o]=S.useState(""),i=localStorage.getItem("companyId")||"";return S.useEffect(()=>{(async()=>{try{if(s(!0),o(""),!i)throw new Error("ID entreprise non trouv");const c=await r7.getInterlocuteursByCompany(i);console.log("Contacts rcuprs avec dtails:",i),e(c)}catch(c){console.error("Erreur lors du chargement des contacts:",c),o("Impossible de charger la liste des contacts")}finally{s(!1)}})()},[i]),{contacts:t,loading:n,error:r}},i7=()=>{const{contacts:t,loading:e,error:n}=o7();return e?a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx("div",{children:"Chargement des contacts..."})}):n?a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"red"},children:a.jsxs("div",{children:["Erreur: ",n]})}):a.jsxs("div",{children:[a.jsx("h2",{style:{textAlign:"center",fontSize:"42px",color:"#17a2b8",marginBottom:"40px",fontWeight:"bold"},children:"Mes contacts"}),t.length===0?a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:a.jsx("p",{children:"Aucun contact trouv pour votre entreprise."})}):a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid #ddd"},children:[a.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"18px"},children:"Nom"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"18px"},children:"Adresse email"})]})}),a.jsx("tbody",{children:t.map((s,r)=>a.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[a.jsx("td",{style:{padding:"12px"},children:s.userFullName}),a.jsx("td",{style:{padding:"12px"},children:s.email||"Non renseign"})]},s.userId))})]})]})},a7=(t,e)=>S.useMemo(()=>t.map(n=>{const r=(e[n.parcId]||[]).reduce((o,i)=>o+(i.remaining||0),0);return{...n,chRestant:r>0?r:void 0}}),[t,e]),l7=()=>{const t=Me(),e=localStorage.getItem("companyId")||"";console.log("Company ID dans ProduitsTab:",e);const{produits:n,loading:s,error:r}=Dl(),{credits:o,loading:i}=L0(n,e),l=a7(n,o),c=[{parcName:"ABC123",parcId:"40",dateObtention:"09/09/2020",chRestant:120},{parcName:"DEF456",parcId:"20",dateObtention:"09/09/2020",chRestant:75}],d=l.length>0?l:c,u=s||i,h=g=>g==null?"0":`${g}h`,f=g=>g==null?"#e5e5e5":g>100?"#d4edda":g>50?"#fff3cd":g>0?"#e7fae0ff":"#e5e5e5",m=g=>{t("/nouvelle-demande",{state:{produitSelectionne:g.parcId,produitNom:g.parcName}})};return a.jsxs("div",{children:[a.jsx("h2",{style:{textAlign:"center",fontSize:"42px",color:"#17a2b8",marginBottom:"40px",fontWeight:"bold"},children:"Mes produits"}),u&&a.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"30px",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"15px",margin:"20px",border:"1px solid #e0e0e0"},children:[a.jsx("div",{style:{width:"250px",height:"10px",backgroundColor:"#e9ecef",borderRadius:"15px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.1)",position:"relative"},children:a.jsx("div",{style:{height:"100%",width:"65%",background:"linear-gradient(90deg, #17a2b8 0%, #20c997 100%)",borderRadius:"15px",transition:"width 0.3s ease",position:"relative"},children:a.jsx("div",{style:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%",background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%)",animation:"shimmer 2s infinite linear"}})})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#495057",background:"linear-gradient(90deg, #17a2b8, #20c997)",backgroundClip:"text",WebkitBackgroundClip:"text"},children:"Chargement en cours"}),a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#17a2b8",fontFamily:"Arial, sans-serif"},children:"65%"}),a.jsx("div",{style:{fontSize:"14px",color:"#6c757d"},children:"Rcupration des produits et crdits horaires..."})]}),a.jsx("style",{children:`
        @keyframes shimmer {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(100%);
          }
        }
      `})]}),r&&a.jsx("div",{style:{color:"red",textAlign:"center",padding:"20px",background:"#ffe6e6",borderRadius:"8px",margin:"10px"},children:r}),!u&&a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid #ddd"},children:[a.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"18px"},children:"Nom"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"18px"},children:"Date d'obtention"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"18px"},children:"CH Restant"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"18px"},children:"Interlocuteur"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"18px"},children:"Actions"})]})}),a.jsx("tbody",{children:d.length>0?d.map((g,p)=>a.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[a.jsx("td",{style:{padding:"12px"},children:g.parcName}),a.jsx("td",{style:{padding:"12px"},children:a.jsx("span",{style:{background:"#e5e5e5",padding:"8px 16px",borderRadius:"15px",display:"inline-block"},children:g.dateObtention?new Date(g.dateObtention).toLocaleDateString("fr-FR"):"N/A"})}),a.jsx("td",{style:{padding:"12px"},children:a.jsx("span",{style:{background:f(g.chRestant),padding:"8px 16px",borderRadius:"15px",display:"inline-block",fontWeight:"bold",color:g.chRestant&&g.chRestant<5?"#721c24":"#155724"},children:h(g.chRestant)})}),a.jsx("td",{style:{padding:"12px"},children:g.userFullName}),a.jsx("td",{style:{padding:"12px"},children:a.jsx("button",{style:{background:"#6dd5ed",color:"white",padding:"8px 20px",borderRadius:"20px",border:"none",cursor:"pointer",transition:"background 0.3s ease"},onMouseEnter:x=>x.currentTarget.style.background="#4fa3c7",onMouseLeave:x=>x.currentTarget.style.background="#6dd5ed",onClick:()=>m(g),children:"Faire une demande"})})]},p)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"20px"},children:"Aucun produit trouv"})})})]})]})},c7=()=>{const t=[{label:"Socit",value:"OPTIMADA"},{label:"Anniversaire",value:"01/01/1990"},{label:"Numro tlphone",value:"+261 34 00 000 00"},{label:"Adresse email",value:"user@optimada.mg"}];return a.jsx("div",{style:{maxWidth:"600px",margin:"0 auto"},children:a.jsxs("div",{style:{background:"rgba(200, 240, 180, 0.7)",padding:"40px",borderRadius:"20px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)"},children:[a.jsx("h2",{style:{textAlign:"center",fontSize:"32px",color:"#17a2b8",marginBottom:"30px",fontWeight:"bold"},children:"Mes informations"}),t.map((e,n)=>a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("strong",{children:[e.label," :"]})," ",e.value]},n))]})})};function d7(){const[t,e]=S.useState("contacts");return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"CLIENT"}),a.jsxs("div",{style:{padding:"40px 60px"},children:[a.jsx(s7,{activeTab:t,onTabChange:e}),t==="contacts"&&a.jsx(i7,{}),t==="produits"&&a.jsx(l7,{}),t==="informations"&&a.jsx(c7,{})]})]})}const go={async getCurrentUser(t){return(await A.get(`/utilisateurs/${t}`)).data},async updateProfile(t,e){return(await A.put(`/utilisateurs/${t}`,e)).data},async changePassword(t,e){await A.post(`/utilisateurs/${t}/mot-de-passe`,e)},async getUtilisateurs(){return(await A.get("/utilisateurs")).data},async searchUtilisateurs(t){const e=new URLSearchParams;return e.append("page",(t.page||0).toString()),e.append("size",(t.size||20).toString()),t.recherche&&e.append("recherche",t.recherche),t.actif&&e.append("actif",t.actif),t.dateDebut&&e.append("dateDebut",t.dateDebut),t.dateFin&&e.append("dateFin",t.dateFin),(await A.get(`/utilisateurs/recherche?${e}`)).data},async createUser(t){const e=new URLSearchParams;return e.append("identifiant",t.identifiant),e.append("nom",t.nom),e.append("prenom",t.prenom),e.append("email",t.email),e.append("motDePasse",t.motDePasse),(await A.get(`/utilisateurs/create?${e}`)).data},async getUserById(t){return(await A.get(`/utilisateurs/${t}`)).data},async updateUser(t,e){return(await A.put(`/utilisateurs/${t}`,e)).data},async changeUserPassword(t,e){await A.post(`/utilisateurs/${t}/mot-de-passe`,{motDePasse:e})}},u7=()=>{const t=localStorage.getItem("userId"),[e,n]=S.useState({nom:"",prenom:"",email:"",telephone:"",whatsappNumero:"",actif:!0}),[s,r]=S.useState(!0),[o,i]=S.useState(!1),l=async()=>{if(t)try{r(!0);const u=await go.getCurrentUser(t);n({nom:u.nom||"",prenom:u.prenom||"",email:u.email||"",telephone:u.telephone||"",whatsappNumero:u.whatsappNumero||"",actif:u.actif});const h=`${u.prenom||""} ${u.nom||""}`.trim();localStorage.setItem("userName",h||"Utilisateur"),localStorage.setItem("email",u.email||"")}catch(u){throw console.error("Erreur lors du chargement des donnes utilisateur:",u),new Error("Erreur lors du chargement des donnes du profil")}finally{r(!1)}},c=async u=>{if(!t)throw new Error("Utilisateur non identifi");try{i(!0);const h=await go.updateProfile(t,u),f=`${h.prenom||""} ${h.nom||""}`.trim();return localStorage.setItem("userName",f||"Utilisateur"),localStorage.setItem("email",h.email||""),h}catch(h){throw console.error("Erreur lors de la mise  jour du profil:",h),new Error("Erreur lors de la mise  jour du profil")}finally{i(!1)}},d=async(u,h)=>{if(!t)throw new Error("Utilisateur non identifi");if(u!==h)throw new Error("Les mots de passe ne correspondent pas");if(u.length<6)throw new Error("Le mot de passe doit contenir au moins 6 caractres");await go.changePassword(t,{nouveauMotDePasse:u})};return S.useEffect(()=>{l()},[]),{userData:e,setUserData:n,loading:s,saving:o,loadUserData:l,updateProfile:c,changePassword:d}},h7=t=>{const[e,n]=S.useState({email:!0,whatsapp:!0,sms:!1});return{notifications:e,updateNotification:(r,o)=>{n(i=>({...i,[r]:o}))},setNotifications:n}},f7=({userName:t,userEmail:e,userRole:n})=>{const s=r=>{switch(r){case"admin":return"Administrateur";case"consultant":return"Consultant";default:return"Client"}};return a.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"30px",paddingBottom:"30px",borderBottom:"2px solid #e5e7eb"},children:[a.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"linear-gradient(135deg, #6dd5ed 0%, #2193b0 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"42px",color:"white",fontWeight:"bold",marginRight:"30px"},children:t.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"28px",marginBottom:"8px"},children:t}),a.jsx("p",{style:{color:"#666",fontSize:"16px"},children:e}),a.jsx("span",{style:{display:"inline-block",marginTop:"8px",padding:"6px 16px",background:"#dbeafe",color:"#1e40af",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:s(n)})]})]})},p7=(t="fr")=>{const[e,n]=S.useState(t);return{langue:e,setLangue:n}},g7=({userData:t,onUserDataChange:e})=>{const{langue:n,setLangue:s}=p7(),r={width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px",backgroundColor:"#f9fafb"};return a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"22px",marginBottom:"20px",fontWeight:"600"},children:"Informations personnelles"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",marginBottom:"30px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Nom:"}),a.jsx("input",{type:"text",value:t.nom,onChange:o=>e("nom",o.target.value),style:r})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Prnom:"}),a.jsx("input",{type:"text",value:t.prenom,onChange:o=>e("prenom",o.target.value),style:r})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Email:"}),a.jsx("input",{type:"email",value:t.email,onChange:o=>e("email",o.target.value),style:r})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Tlphone:"}),a.jsx("input",{type:"tel",value:t.telephone,onChange:o=>e("telephone",o.target.value),placeholder:"+261 34 12 345 67",style:r})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"WhatsApp:"}),a.jsx("input",{type:"tel",value:t.telephone,onChange:o=>e("whatsappNumero",o.target.value),style:r})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Langue:"}),a.jsxs("select",{value:n,onChange:o=>s(o.target.value),style:r,children:[a.jsx("option",{value:"fr",children:"Franais"}),a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"mg",children:"Malagasy"})]})]})]})]})},m7=({preferences:t,onPreferencesChange:e})=>{const n=s=>r=>{e({...t,[s]:r.target.checked})};return a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"22px",marginBottom:"20px",fontWeight:"600"},children:"Prfrences de notification"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px",marginBottom:"30px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:t.email,onChange:n("email"),style:{width:"20px",height:"20px",cursor:"pointer"}}),a.jsx("span",{style:{fontSize:"16px"},children:"Notifications par email"})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:t.whatsapp,onChange:n("whatsapp"),style:{width:"20px",height:"20px",cursor:"pointer"}}),a.jsx("span",{style:{fontSize:"16px"},children:"Notifications par WhatsApp"})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:t.sms,onChange:n("sms"),style:{width:"20px",height:"20px",cursor:"pointer"}}),a.jsx("span",{style:{fontSize:"16px"},children:"Notifications par SMS"})]})]})]})},x7=({onSave:t,onChangePassword:e,saving:n})=>{const s={padding:"14px 30px",borderRadius:"10px",border:"none",fontSize:"16px",fontWeight:"600",transition:"background-color 0.2s",cursor:"pointer"};return a.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:[a.jsx("button",{onClick:t,disabled:n,style:{...s,background:n?"#9ca3af":"#10b981",color:"white",cursor:n?"not-allowed":"pointer"},children:n?"Enregistrement...":"Enregistrer les modifications"}),a.jsx("button",{onClick:e,style:{...s,background:"#ef4444",color:"white"},onMouseOver:r=>r.target.style.backgroundColor="#dc2626",onMouseOut:r=>r.target.style.backgroundColor="#ef4444",children:"Changer le mot de passe"})]})},y7=({userRole:t})=>a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:t}),a.jsx("div",{style:{padding:"40px 60px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:a.jsx("p",{style:{fontSize:"18px",color:"#666"},children:"Chargement des donnes du profil..."})})]});function b7(){const t=localStorage.getItem("role")||"CLIENT",e=localStorage.getItem("userName")||"Utilisateur",n=localStorage.getItem("email")||"",{userData:s,setUserData:r,loading:o,saving:i,updateProfile:l,changePassword:c}=u7(),{notifications:d,setNotifications:u}=h7(),h=(g,p)=>{r(x=>({...x,[g]:p}))},f=async()=>{try{await l(s),alert("Profil mis  jour avec succs!")}catch(g){alert(g instanceof Error?g.message:"Une erreur est survenue")}},m=async()=>{const g=prompt("Entrez votre nouveau mot de passe:");if(!g)return;const p=prompt("Confirmez votre nouveau mot de passe:");try{await c(g,p),alert("Mot de passe chang avec succs!")}catch(x){alert(x instanceof Error?x.message:"Une erreur est survenue")}};return o?a.jsx(y7,{userRole:t}):a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:t}),a.jsxs("div",{style:{padding:"40px 60px",maxWidth:"900px",margin:"0 auto"},children:[a.jsx("h1",{style:{fontSize:"42px",color:"#17a2b8",marginBottom:"30px",fontWeight:"bold"},children:"Mon Profil"}),a.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",marginBottom:"30px"},children:[a.jsx(f7,{userName:e,userEmail:n,userRole:t}),a.jsx(g7,{userData:s,onUserDataChange:h}),a.jsx(m7,{preferences:d,onPreferencesChange:u}),a.jsx(x7,{onSave:f,onChangePassword:m,saving:i})]})]})]})}function v7(){const t=Me(),[e,n]=S.useState(""),[s,r]=S.useState(""),[o,i]=S.useState(""),[l,c]=S.useState(""),[d,u]=S.useState(""),[h,f]=S.useState(""),[m,g]=S.useState(""),p=[{id:"1",societe:"OPTIMADA",affecteeA:"Alain RAKOTO",produit:"Test",description:"Test",niveau:"Bas",dateSubmission:"15/09/2025",etat:"En cours"},{id:"2",societe:"OPTIMADA",affecteeA:"Andria ZILY",produit:"Test1",description:"Test1",niveau:"Moyenne",dateSubmission:"16/09/2025",etat:"Rsolu"}];return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"consultant"}),a.jsxs("div",{style:{padding:"40px 60px"},children:[a.jsx("h1",{style:{fontSize:"42px",color:"#17a2b8",marginBottom:"30px",fontWeight:"bold"},children:"Mes tickets"}),a.jsx("h3",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold",marginBottom:"20px",textDecoration:"underline"},children:"Filtres:"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",marginBottom:"30px",background:"white",padding:"30px",borderRadius:"15px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Etat:"}),a.jsx("input",{type:"text",value:e,onChange:x=>n(x.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Rfrence ticket:"}),a.jsx("input",{type:"text",value:s,onChange:x=>r(x.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Produit:"}),a.jsx("input",{type:"text",value:o,onChange:x=>i(x.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Date dbut:"}),a.jsx("input",{type:"date",value:l,onChange:x=>c(x.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Date fin:"}),a.jsx("input",{type:"date",value:d,onChange:x=>u(x.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Socit:"}),a.jsx("input",{type:"text",value:h,onChange:x=>f(x.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Consultant:"}),a.jsx("input",{type:"text",value:m,onChange:x=>g(x.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]})]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{children:["Socit ",a.jsx("span",{style:{color:"#3b82f6"},children:""})]}),a.jsxs("th",{children:["Affecte  ",a.jsx("span",{style:{color:"#3b82f6"},children:""})]}),a.jsxs("th",{children:["Produit ",a.jsx("span",{style:{color:"#3b82f6"},children:""})]}),a.jsx("th",{children:"Description"}),a.jsx("th",{children:"Niveau"}),a.jsxs("th",{children:["Date de soumission ",a.jsx("span",{style:{color:"#3b82f6"},children:""})]}),a.jsxs("th",{children:["Etat ",a.jsx("span",{style:{color:"#3b82f6"},children:""})]}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:p.map(x=>a.jsxs("tr",{children:[a.jsx("td",{children:x.societe}),a.jsx("td",{children:x.affecteeA}),a.jsx("td",{children:x.produit}),a.jsx("td",{children:x.description}),a.jsx("td",{children:x.niveau}),a.jsx("td",{children:a.jsx("span",{style:{background:"#e5e5e5",padding:"8px 16px",borderRadius:"15px",display:"inline-block"},children:x.dateSubmission})}),a.jsx("td",{children:x.etat}),a.jsx("td",{children:a.jsx("button",{onClick:()=>t(`/consultant/ticket/${x.id}`),style:{background:"#6dd5ed",color:"white",padding:"8px 20px",borderRadius:"20px",border:"none",cursor:"pointer"},children:"Dtails"})})]},x.id))})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"30px"},children:[a.jsx("button",{style:{background:"#17a2b8",color:"white",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer"},children:"<"}),a.jsx("button",{style:{background:"#17a2b8",color:"white",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer",fontWeight:"bold"},children:"1"}),a.jsx("button",{style:{background:"#a0e7f0",color:"black",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer"},children:"2"}),a.jsx("button",{style:{background:"#a0e7f0",color:"black",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer"},children:"3"}),a.jsx("button",{style:{background:"#17a2b8",color:"white",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer"},children:">"})]})]})]})}function S7(){const t=Me(),[e,n]=S.useState(""),[s,r]=S.useState(""),[o,i]=S.useState(""),l=[{id:"1",reference:"INT-2025-001",client:"OPTIMADA",produit:"Test",type:"Sur site",dateDebut:"20/10/2025",dateFin:"22/10/2025",statut:"Planifie",duree:"16h",description:"Installation et configuration du systme"},{id:"2",reference:"INT-2025-005",client:"TechCorp",produit:"Test1",type:" distance",dateDebut:"18/10/2025",dateFin:"18/10/2025",statut:"En cours",duree:"4h",description:"Support technique urgent"},{id:"3",reference:"INT-2025-003",client:"OPTIMADA",produit:"Test2",type:"Sur site",dateDebut:"15/10/2025",dateFin:"16/10/2025",statut:"Termine",duree:"12h",description:"Formation des utilisateurs"}],c=d=>{switch(d){case"Planifie":return"#3b82f6";case"En cours":return"#f59e0b";case"Termine":return"#10b981";case"Annule":return"#ef4444";default:return"#6b7280"}};return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"consultant"}),a.jsxs("div",{style:{padding:"40px 60px"},children:[a.jsx("h1",{style:{fontSize:"42px",color:"#17a2b8",marginBottom:"30px",fontWeight:"bold"},children:"Mes Interventions"}),a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"20px",textDecoration:"underline"},children:"Filtres:"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Statut:"}),a.jsxs("select",{value:e,onChange:d=>n(d.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"},children:[a.jsx("option",{value:"",children:"Toutes"}),a.jsx("option",{value:"Planifie",children:"Planifie"}),a.jsx("option",{value:"En cours",children:"En cours"}),a.jsx("option",{value:"Termine",children:"Termine"}),a.jsx("option",{value:"Annule",children:"Annule"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Date dbut:"}),a.jsx("input",{type:"date",value:s,onChange:d=>r(d.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Date fin:"}),a.jsx("input",{type:"date",value:o,onChange:d=>i(d.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]})]})]}),a.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:a.jsxs("div",{style:{fontSize:"16px",color:"#666"},children:[l.length," intervention(s) trouve(s)"]})}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Rfrence"}),a.jsx("th",{children:"Client"}),a.jsx("th",{children:"Produit"}),a.jsx("th",{children:"Type"}),a.jsx("th",{children:"Date dbut"}),a.jsx("th",{children:"Date fin"}),a.jsx("th",{children:"Dure"}),a.jsx("th",{children:"Statut"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:l.map(d=>a.jsxs("tr",{children:[a.jsx("td",{style:{fontWeight:"600",color:"#17a2b8"},children:d.reference}),a.jsx("td",{children:d.client}),a.jsx("td",{children:d.produit}),a.jsx("td",{children:a.jsx("span",{style:{background:d.type==="Sur site"?"#fef3c7":"#dbeafe",padding:"6px 12px",borderRadius:"12px",fontSize:"13px"},children:d.type})}),a.jsx("td",{children:d.dateDebut}),a.jsx("td",{children:d.dateFin}),a.jsx("td",{children:d.duree}),a.jsx("td",{children:a.jsx("span",{style:{background:c(d.statut),color:"white",padding:"6px 12px",borderRadius:"12px",fontSize:"13px",fontWeight:"600"},children:d.statut})}),a.jsx("td",{children:a.jsx("button",{onClick:()=>t(`/consultant/intervention/${d.id}`),style:{background:"#6dd5ed",color:"white",padding:"8px 20px",borderRadius:"20px",border:"none",cursor:"pointer"},children:"Dtails"})})]},d.id))})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"30px"},children:[a.jsx("button",{style:{background:"#17a2b8",color:"white",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer"},children:"<"}),a.jsx("button",{style:{background:"#17a2b8",color:"white",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer",fontWeight:"bold"},children:"1"}),a.jsx("button",{style:{background:"#a0e7f0",color:"black",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer"},children:"2"}),a.jsx("button",{style:{background:"#17a2b8",color:"white",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer"},children:">"})]})]})]})}const w7={async getDashboardData(){try{const t=await A.get("/dashboard/admin");return console.log("Donnes brutes du dashboard admin:",t.data),k7(t.data)}catch(t){throw console.error("Erreur lors du chargement des donnes du dashboard admin:",t),t}},async getChartData(){try{const t=await A.get("/dashboard/admin/chart");return U0(t.data)}catch(t){throw console.error("Erreur lors du chargement des donnes du graphique admin:",t),t}},async getConsultantsPerformance(){try{const t=await A.get("/dashboard/admin/performance-consultants");return W0(t.data)}catch(t){throw console.error("Erreur lors du chargement des performances des consultants:",t),t}}},k7=t=>(console.log("Transformation des donnes admin backend:",t),{statistiquesGlobales:j7(t.statistiquesGlobales),ticketsParStatut:Wi(t.ticketsParStatut),ticketsParPriorite:Wi(t.ticketsParPriorite),ticketsParProduit:Wi(t.ticketsParProduit),ticketsParCompany:Wi(t.ticketsParCompany),performancesConsultants:W0(t.performancesConsultants),ticketsRecents:C7(t.ticketsRecents),dureesMoyennes:T7(t.dureesMoyennes),chartData:U0(t.chartData||t)}),j7=t=>t?{totalTickets:t.totalTickets||0,ticketsOuverts:t.ticketsOuverts||0,ticketsEnCours:t.ticketsEnCours||0,ticketsClotures:t.ticketsClotures||0,totalCompanies:t.totalCompanies||0,totalConsultants:t.totalConsultants||0,interventionsPlanifiees:t.interventionsPlanifiees||0}:{totalTickets:0,ticketsOuverts:0,ticketsEnCours:0,ticketsClotures:0,totalCompanies:0,totalConsultants:0,interventionsPlanifiees:0},W0=t=>!t||typeof t!="object"?[]:Array.isArray(t)?t.map(e=>({consultantId:e.consultantId||0,consultantNom:e.consultantNom||"Inconnu",ticketsEnCours:e.ticketsEnCours||0,ticketsClotures:e.ticketsClotures||0,interventionsRealisees:e.interventionsRealisees||0,tauxResolution:e.tauxResolution||0,dureeMoyenneTraitement:e.dureeMoyenneTraitement||0})):Object.values(t).map(e=>({consultantId:e.consultantId||0,consultantNom:e.consultantNom||"Inconnu",ticketsEnCours:e.ticketsEnCours||0,ticketsClotures:e.ticketsClotures||0,interventionsRealisees:e.interventionsRealisees||0,tauxResolution:e.tauxResolution||0,dureeMoyenneTraitement:e.dureeMoyenneTraitement||0})),C7=t=>Array.isArray(t)?t.map(e=>({id:e.id||0,reference:e.reference||"",titre:e.titre||"",statut:e.statut||"",priorite:e.priorite||"",nomCompany:e.nomCompany||"",nomProduit:e.nomProduit||"",consultantNom:e.consultantNom||"",dateCreation:e.dateCreation||""})):[],T7=t=>t?{moyenneHeures:t.moyenneHeures||0,moyenneJours:t.moyenneJours||0,rapides:t.rapides||0,normaux:t.normaux||0,lents:t.lents||0}:{moyenneHeures:0,moyenneJours:0,rapides:0,normaux:0,lents:0},U0=t=>{if(t.labels&&t.datasets)return{labels:t.labels,datasets:t.datasets.map(n=>({label:n.label||"Donnes",data:n.data||[],borderColor:n.borderColor||"#000",backgroundColor:n.backgroundColor||"rgba(0, 0, 0, 0.1)",tension:n.tension||.4,borderWidth:n.borderWidth||3}))};const e=t.ticketsParStatut||{};return{labels:Object.keys(e),datasets:[{label:"Tickets par statut",data:Object.values(e).map(n=>Number(n)),borderColor:"#000",backgroundColor:"rgba(0, 0, 0, 0.1)",tension:.4,borderWidth:3}]}},Wi=t=>!t||typeof t!="object"?(console.warn("Donnes manquantes pour la transformation:",t),[]):Object.entries(t).map(([e,n])=>({label:e,value:n})),E7=()=>{const[t,e]=S.useState(null),[n,s]=S.useState(!0),[r,o]=S.useState(null),i=async()=>{try{s(!0),o(null);const l=await w7.getDashboardData();e(l)}catch(l){o(l instanceof Error?l.message:"Erreur lors du chargement des donnes"),console.error("Erreur:",l)}finally{s(!1)}};return S.useEffect(()=>{i()},[]),{dashboardData:t,loading:n,error:r,refetch:i}},_7=({messageKey:t="dashboard:loadingAdminDashboard"})=>{const{t:e}=V(["common","dashboard"]);return a.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)",display:"flex",justifyContent:"center",alignItems:"center"},children:a.jsx("div",{style:{fontSize:"18px",color:"#17a2b8"},children:e(t)})})},Rg=({error:t,onRetry:e})=>{const{t:n}=V(["common","errors"]);return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[a.jsxs("div",{style:{color:"#dc3545",marginBottom:"20px",fontSize:"18px"},children:[n("errors:error"),": ",t]}),a.jsx("button",{onClick:e,style:{padding:"10px 20px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px"},children:n("common:retry")})]})},Zn=({titleKey:t,value:e,color:n})=>{const{t:s}=V(["common","dashboard"]);return a.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:s(t)}),a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:n},children:e})]})},R7=({data:t})=>(V(["common","dashboard"]),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"30px"},children:[a.jsx(Zn,{titleKey:"dashboard:totalTickets",value:t.totalTickets,color:"#17a2b8"}),a.jsx(Zn,{titleKey:"dashboard:openTickets",value:t.ticketsOuverts,color:"#28a745"}),a.jsx(Zn,{titleKey:"dashboard:inProgress",value:t.ticketsEnCours,color:"#ffc107"}),a.jsx(Zn,{titleKey:"dashboard:closed",value:t.ticketsClotures,color:"#dc3545"}),a.jsx(Zn,{titleKey:"dashboard:companies",value:t.totalCompanies,color:"#6f42c1"}),a.jsx(Zn,{titleKey:"dashboard:consultants",value:t.totalConsultants,color:"#221f1dff"}),a.jsx(Zn,{titleKey:"dashboard:scheduledInterventions",value:t.interventionsPlanifiees,color:"#20c997"})]})),Tc=({titleKey:t,children:e,height:n,background:s="white"})=>{const{t:r}=V(["common","dashboard"]);return a.jsxs("div",{style:{background:s,padding:"20px",borderRadius:"15px",height:n,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[a.jsx("h3",{style:{textAlign:"center",marginBottom:"20px",color:s==="white"?"#333":"white"},children:r(`dashboard:${t}`)}),e]})},P7=({data:t})=>{var i;const{t:e}=V(["common","dashboard"]);console.log("=== DASHBOARD CHARTS DEBUG ==="),console.log("Donnes chartData:",t.chartData),console.log("Labels axe X:",t.chartData.labels),console.log("Datasets:",t.chartData.datasets);const n=l=>{console.log(`Traduction du label axe X: "${l}"`);const c={Ouvert:e("common:statusTicket.Ouvert"),"En cours":e("common:statusTicket.En cours"),Cltur:e("common:statusTicket.Cltur"),Clotur:e("common:statusTicket.Clotur"),"En attente":e("common:statusTicket.En attente"),Planifi:e("common:statusTicket.Planifi"),Rsolu:e("common:statusTicket.Rsolu"),ouvert:e("common:statusTicket.ouvert"),"en cours":e("common:statusTicket.en cours"),cltur:e("common:statusTicket.cltur"),clotur:e("common:statusTicket.clotur"),"en attente":e("common:statusTicket.en attente"),planifi:e("common:statusTicket.planifi"),rsolu:e("common:statusTicket.rsolu")};if(c[l]){const d=c[l];return console.log(`Label traduit: "${l}" -> "${d}"`),d}return console.log(`Label non traduit: "${l}"`),l},s={labels:t.ticketsParStatut.map(l=>e(`common:statusTicket.${l.label}`)),datasets:[{data:t.ticketsParStatut.map(l=>l.value),backgroundColor:["#6dd5ed","#4db8d8","#3a9fc7","#2d8ab8","#1f5f8b","#164e63"],borderColor:["#6dd5ed","#4db8d8","#3a9fc7","#2d8ab8","#1f5f8b","#164e63"],borderWidth:1}]},r={labels:t.performancesConsultants.map(l=>l.consultantNom),datasets:[{label:e("dashboard:closedTickets"),data:t.performancesConsultants.map(l=>l.ticketsClotures),backgroundColor:"#3a9fc7"},{label:e("dashboard:ticketsInProgress"),data:t.performancesConsultants.map(l=>l.ticketsEnCours),backgroundColor:"#6dd5ed"}]},o={...t.chartData,datasets:t.chartData.datasets.map(l=>({...l,label:l.label?e(`dashboard:${l.label}`,{defaultValue:l.label}):l.label})),labels:((i=t.chartData.labels)==null?void 0:i.map(l=>typeof l=="string"?n(l):l))||[]};return console.log("=== DONNES FINALES POUR GRAPHIQUE LINAIRE ==="),console.log("Labels axe X traduits:",o.labels),console.log("Datasets traduits:",o.datasets),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"30px",marginBottom:"30px"},children:[a.jsx(Tc,{titleKey:"statusDistribution",height:"300px",children:a.jsx(iW,{data:s,options:{maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})}),a.jsx(Tc,{titleKey:"ticketsEvolution",height:"300px",background:"#17a2b8",children:a.jsx(O0,{data:o,options:{maintainAspectRatio:!1,plugins:{legend:{display:!0}},scales:{x:{ticks:{}},y:{beginAtZero:!0}}}})}),a.jsx(Tc,{titleKey:"consultantsPerformance",height:"300px",children:a.jsx(qd,{data:r,options:{maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}}})})]})},D7=({performancesConsultants:t=[],dureesMoyennes:e,statistiquesGlobales:n})=>{const{t:s}=V(["common","dashboard"]),o=(()=>{if(!t||t.length===0)return{moyenneTauxResolution:0,moyenneDureeTraitement:0,totalTicketsClotures:0,totalInterventions:0,totalConsultants:0};const i=t.reduce((u,h)=>u+h.ticketsClotures,0),l=t.reduce((u,h)=>u+h.interventionsRealisees,0),c=t.reduce((u,h)=>u+h.tauxResolution,0)/t.length,d=t.reduce((u,h)=>u+h.dureeMoyenneTraitement,0)/t.length;return{moyenneTauxResolution:Math.round(c*100)/100,moyenneDureeTraitement:Math.round(d*100)/100,totalTicketsClotures:i,totalInterventions:l,totalConsultants:t.length}})();return a.jsxs("div",{style:{background:"rgba(200, 240, 180, 0.7)",padding:"30px",borderRadius:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[a.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px",textDecoration:"underline"},children:s("dashboard:teamPerformance")}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[a.jsxs("div",{children:[a.jsx("h4",{style:{color:"#2563eb",marginBottom:"10px",fontSize:"16px"},children:s("dashboard:teamStats")}),a.jsxs("p",{children:[a.jsxs("strong",{children:[s("dashboard:consultants"),":"]})," ",o.totalConsultants]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[s("dashboard:totalClosedTickets"),":"]})," ",o.totalTicketsClotures]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[s("dashboard:totalInterventions"),":"]})," ",o.totalInterventions]})]}),a.jsxs("div",{children:[a.jsx("h4",{style:{color:"#2563eb",marginBottom:"10px",fontSize:"16px"},children:s("dashboard:averagePerformance")}),a.jsxs("p",{children:[a.jsxs("strong",{children:[s("dashboard:resolutionRate"),":"]})," ",o.moyenneTauxResolution,"%"]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[s("dashboard:averageProcessingTime"),":"]})," ",o.moyenneDureeTraitement," ",s("dashboard:hours")]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[s("dashboard:inDays"),":"]})," ",Math.round(o.moyenneDureeTraitement/24*100)/100," ",s("dashboard:days")]})]})]}),e&&a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.6)",padding:"15px",borderRadius:"10px",marginTop:"15px"},children:[a.jsx("h4",{style:{color:"#2563eb",marginBottom:"10px",fontSize:"16px"},children:s("dashboard:globalProcessingTimes")}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",fontSize:"14px"},children:[a.jsxs("div",{children:[a.jsx("p",{children:a.jsxs("strong",{children:[s("dashboard:average"),":"]})}),a.jsxs("p",{children:[e.moyenneJours," ",s("dashboard:days")]}),a.jsxs("p",{children:["(",e.moyenneHeures," ",s("dashboard:hours"),")"]})]}),a.jsxs("div",{children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[s("dashboard:fast"),":"]})," ",e.rapides]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[s("dashboard:normal"),":"]})," ",e.normaux]})]}),a.jsx("div",{children:a.jsxs("p",{children:[a.jsxs("strong",{children:[s("dashboard:slow"),":"]})," ",e.lents]})})]})]}),a.jsx("div",{style:{marginTop:"15px",padding:"10px",background:"rgba(255, 255, 255, 0.5)",borderRadius:"8px"},children:a.jsxs("p",{style:{fontSize:"14px",textAlign:"center",margin:0},children:[a.jsxs("strong",{children:[s("dashboard:performanceIndicator"),": "]}),o.moyenneTauxResolution>=80?" Excellent":o.moyenneTauxResolution>=60?" Bon":o.moyenneTauxResolution>=40?" Moyen":"  amliorer"]})})]})},A7=t=>{switch(t.toLowerCase()){case"ouvert":return"#17a2b8";case"en cours":return"#ffc107";case"cltur":return"#28a745";case"en attente":return"#fd7e14";default:return"#6c757d"}},I7=({tickets:t})=>{const{t:e}=V(["common","dashboard"]);return a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",maxHeight:"400px",overflow:"auto"},children:[a.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px",textAlign:"center"},children:e("dashboard:recentTickets")}),t&&t.length>0?a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[a.jsx("th",{style:{padding:"12px",border:"1px solid #dee2e6",textAlign:"left"},children:e("dashboard:reference")}),a.jsx("th",{style:{padding:"12px",border:"1px solid #dee2e6",textAlign:"left"},children:e("dashboard:title")}),a.jsx("th",{style:{padding:"12px",border:"1px solid #dee2e6",textAlign:"left"},children:e("dashboard:status")}),a.jsx("th",{style:{padding:"12px",border:"1px solid #dee2e6",textAlign:"left"},children:e("dashboard:date")})]})}),a.jsx("tbody",{children:t.map((n,s)=>a.jsxs("tr",{children:[a.jsx("td",{style:{padding:"12px",border:"1px solid #dee2e6"},children:n.reference}),a.jsx("td",{style:{padding:"12px",border:"1px solid #dee2e6"},children:n.titre}),a.jsx("td",{style:{padding:"12px",border:"1px solid #dee2e6"},children:a.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",backgroundColor:A7(n.statut),color:"white"},children:e(`common:statusTicket.${n.statut}`)})}),a.jsx("td",{style:{padding:"12px",border:"1px solid #dee2e6"},children:new Date(n.dateCreation).toLocaleDateString()})]},s))})]})}):a.jsx("p",{style:{textAlign:"center",color:"#6c757d"},children:e("dashboard:noRecentTickets")})]})};class N7{async demarrerSyncCompanies(){var e,n;try{return(await A.post("/synchronisation/companies/demarrer")).data}catch(s){return console.error("Erreur dmarrage sync companies:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors du dmarrage de la synchronisation des companies"}}}async arreterSyncCompanies(){var e,n;try{return(await A.post("/synchronisation/companies/arreter")).data}catch(s){return console.error("Erreur arrt sync companies:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors de l'arrt de la synchronisation des companies"}}}async getStatutSyncCompanies(){try{return(await A.get("/synchronisation/companies/statut")).data}catch(e){return console.error("Erreur statut sync companies:",e),{statut:"INACTIVE",message:"Erreur lors de la rcupration du statut"}}}async demarrerSyncCreditsHoraires(){var e,n;try{return(await A.post("/synchronisation/credits-horaires/demarrer")).data}catch(s){return console.error("Erreur dmarrage sync crdits horaires:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors du dmarrage de la synchronisation des crdits horaires"}}}async arreterSyncCreditsHoraires(){var e,n;try{return(await A.post("/synchronisation/credits-horaires/arreter")).data}catch(s){return console.error("Erreur arrt sync crdits horaires:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors de l'arrt de la synchronisation des crdits horaires"}}}async getStatutSyncCreditsHoraires(){try{return(await A.get("/synchronisation/credits-horaires/statut")).data}catch(e){return console.error("Erreur statut sync crdits horaires:",e),{statut:"INACTIVE",message:"Erreur lors de la rcupration du statut"}}}async demarrerSyncPersonnes(){var e,n;try{return(await A.post("/synchronisation/personnes/demarrer")).data}catch(s){return console.error("Erreur dmarrage sync personnes:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors du dmarrage de la synchronisation des personnes"}}}async arreterSyncPersonnes(){var e,n;try{return(await A.post("/synchronisation/personnes/arreter")).data}catch(s){return console.error("Erreur arrt sync personnes:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors de l'arrt de la synchronisation des personnes"}}}async getStatutSyncPersonnes(){try{return(await A.get("/synchronisation/personnes/statut")).data}catch(e){return console.error("Erreur statut sync personnes:",e),{statut:"INACTIVE",message:"Erreur lors de la rcupration du statut"}}}async demarrerSyncProduits(){var e,n;try{return(await A.post("/synchronisation/produits/demarrer")).data}catch(s){return console.error("Erreur dmarrage sync produits:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors du dmarrage de la synchronisation des produits"}}}async arreterSyncProduits(){var e,n;try{return(await A.post("/synchronisation/produits/arreter")).data}catch(s){return console.error("Erreur arrt sync produits:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors de l'arrt de la synchronisation des produits"}}}async getStatutSyncProduits(){try{return(await A.get("/synchronisation/produits/statut")).data}catch(e){return console.error("Erreur statut sync produits:",e),{statut:"INACTIVE",message:"Erreur lors de la rcupration du statut"}}}async demarrerSyncTickets(){var e,n;try{return(await A.post("/synchronisation/tickets/demarrer")).data}catch(s){return console.error("Erreur dmarrage sync tickets:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors du dmarrage de la synchronisation des tickets"}}}async arreterSyncTickets(){var e,n;try{return(await A.post("/synchronisation/tickets/arreter")).data}catch(s){return console.error("Erreur arrt sync tickets:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors de l'arrt de la synchronisation des tickets"}}}async getStatutSyncTickets(){try{return(await A.get("/synchronisation/tickets/statut")).data}catch(e){return console.error("Erreur statut sync tickets:",e),{statut:"INACTIVE",message:"Erreur lors de la rcupration du statut"}}}async demarrerSyncSolutions(){var e,n;try{return(await A.post("/synchronisation/solutions/demarrer")).data}catch(s){return console.error("Erreur dmarrage sync solutions:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors du dmarrage de la synchronisation des solutions"}}}async arreterSyncSolutions(){var e,n;try{return(await A.post("/synchronisation/solutions/arreter")).data}catch(s){return console.error("Erreur arrt sync solutions:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors de l'arrt de la synchronisation des solutions"}}}async getStatutSyncSolutions(){try{return(await A.get("/synchronisation/solutions/statut")).data}catch(e){return console.error("Erreur statut sync solutions:",e),{statut:"INACTIVE",message:"Erreur lors de la rcupration du statut"}}}async demarrerSyncLiaisonsSolutionsTickets(){var e,n;try{return(await A.post("/synchronisation/liaisons-solutions-tickets/demarrer")).data}catch(s){return console.error("Erreur dmarrage sync liaisons solutions-tickets:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors du dmarrage de la synchronisation des liaisons solutions-tickets"}}}async arreterSyncLiaisonsSolutionsTickets(){var e,n;try{return(await A.post("/synchronisation/liaisons-solutions-tickets/arreter")).data}catch(s){return console.error("Erreur arrt sync liaisons solutions-tickets:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors de l'arrt de la synchronisation des liaisons solutions-tickets"}}}async getStatutSyncLiaisonsSolutionsTickets(){try{return(await A.get("/synchronisation/liaisons-solutions-tickets/statut")).data}catch(e){return console.error("Erreur statut sync liaisons solutions-tickets:",e),{statut:"INACTIVE",message:"Erreur lors de la rcupration du statut"}}}async demarrerToutesSynchronisations(){var e,n;try{return(await A.post("/synchronisation/tout/demarrer")).data}catch(s){return console.error("Erreur dmarrage toutes les syncs:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors du dmarrage de toutes les synchronisations"}}}async arreterToutesSynchronisations(){var e,n;try{return(await A.post("/synchronisation/tout/arreter")).data}catch(s){return console.error("Erreur arrt toutes les syncs:",s),{status:"ERREUR",message:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Erreur lors de l'arrt de toutes les synchronisations"}}}async getStatutToutesSynchronisations(){try{return(await A.get("/synchronisation/tout/statut")).data}catch(e){return console.error("Erreur statut toutes les syncs:",e),this.creerStatutsParDefaut()}}creerStatutsParDefaut(){const e={statut:"INACTIVE",enCours:!1,message:"Erreur de rcupration du statut"};return{companies:{type:"companies",nom:"Companies",...e},creditsHoraires:{type:"credits-horaires",nom:"Crdits horaires",...e},personnes:{type:"personnes",nom:"Personnes",...e},produits:{type:"produits",nom:"Produits",...e},tickets:{type:"tickets",nom:"Tickets",...e},solutions:{type:"solutions",nom:"Solutions",...e},liaisonsSolutionsTickets:{type:"liaisons-solutions-tickets",nom:"Liaisons solutions-tickets",...e}}}async getStatutSync(e){try{return(await A.get(`/synchronisation/${e}/statut`)).data}catch(n){return console.error(`Erreur statut sync ${e}:`,n),{statut:"INACTIVE",message:"Erreur lors de la rcupration du statut"}}}async estAuMoinsUneSyncEnCours(){try{const e=await this.getStatutToutesSynchronisations();return Object.values(e).some(n=>n.enCours)}catch(e){return console.error("Erreur vrification sync en cours:",e),!1}}}const Ae=new N7,$7=()=>{const[t,e]=S.useState({}),[n,s]=S.useState(!0),[r,o]=S.useState(null),i=S.useCallback(async()=>{try{s(!0),o(null);const l=await Ae.getStatutToutesSynchronisations();e(l)}catch(l){o(l.message||"Erreur lors du chargement des statuts"),console.error("Erreur fetchStatus:",l)}finally{s(!1)}},[]);return S.useEffect(()=>{i()},[i]),S.useEffect(()=>{const l=setInterval(()=>{Object.values(t).some(c=>c.enCours)&&i()},1e4);return()=>clearInterval(l)},[t,i]),{statuts:t,loading:n,error:r,refetch:i}},M7=({type:t,statut:e})=>{const n=o=>{switch(o){case"EN_COURS":return{color:"#f59e0b",bgColor:"#fffbeb",borderColor:"#fed7aa",icon:"",label:"En cours"};case"ARRET_DEMANDE":return{color:"#ef4444",bgColor:"#fef2f2",borderColor:"#fecaca",icon:"",label:"Arrt demand"};default:return{color:"#10b981",bgColor:"#f0fdf4",borderColor:"#bbf7d0",icon:"",label:"Inactive"}}},s=o=>({companies:"",creditsHoraires:"",personnes:"",produits:"",tickets:"",solutions:"",liaisonsSolutionsTickets:""})[o]||"",r=n(e.statut);return a.jsxs("div",{style:{background:r.bgColor,border:`1px solid ${r.borderColor}`,borderRadius:"10px",padding:"15px",transition:"all 0.2s ease"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("span",{style:{fontSize:"18px"},children:s(t)}),a.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",margin:0},children:e.nom})]}),a.jsxs("div",{style:{background:r.color,color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[r.icon,r.label]})]}),a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",margin:"0 0 10px 0",lineHeight:"1.4"},children:e.message}),e.derniereSync&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"11px",color:"#9ca3af"},children:[a.jsx("span",{children:""}),a.jsxs("span",{children:["Dernire sync: ",e.derniereSync]})]}),e.enCours&&a.jsx("div",{style:{width:"100%",height:"3px",background:"#e5e7eb",borderRadius:"2px",overflow:"hidden",marginTop:"8px"},children:a.jsx("div",{style:{width:"100%",height:"100%",background:r.color,animation:"pulse 2s infinite"}})})]})},O7=({size:t="medium",color:e="#3b82f6"})=>{const n={small:"16px",medium:"24px",large:"32px"};return a.jsx("div",{style:{width:n[t],height:n[t],border:`2px solid ${e}20`,borderTop:`2px solid ${e}`,borderRadius:"50%",animation:"spin 1s linear infinite"}})},L7=()=>{const{statuts:t,loading:e,error:n,refetch:s}=$7();return e?a.jsx("div",{style:{background:"white",borderRadius:"15px",padding:"25px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",marginBottom:"30px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx(O7,{size:"small"}),a.jsx("span",{style:{color:"#6b7280"},children:"Chargement des statuts de synchronisation..."})]})}):n?a.jsx("div",{style:{background:"white",borderRadius:"15px",padding:"25px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",marginBottom:"30px",border:"1px solid #fecaca"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{color:"#dc2626",margin:"0 0 5px 0"},children:"Erreur de chargement"}),a.jsx("p",{style:{color:"#6b7280",margin:0},children:n})]}),a.jsx("button",{onClick:s,style:{background:"#ef4444",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Ressayer"})]})}):a.jsxs("div",{style:{background:"white",borderRadius:"15px",padding:"25px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",marginBottom:"30px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},children:" tat des Synchronisations CRM"}),a.jsx("button",{onClick:s,style:{background:"transparent",border:"1px solid #d1d5db",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px",color:"#6b7280",display:"flex",alignItems:"center",gap:"5px"},children:" Actualiser"})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"15px"},children:Object.entries(t).map(([r,o])=>a.jsx(M7,{type:r,statut:o},r))}),a.jsx("div",{style:{marginTop:"20px",padding:"15px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:a.jsx("p",{style:{fontSize:"12px",color:"#64748b",margin:0,textAlign:"center"},children:" Les synchronisations planifies s'excutent automatiquement selon la configuration cron"})})]})};ri.register(Gr,Xa,Ga,po,Js,ua,I0,P0);function z7(){const{dashboardData:t,loading:e,error:n,refetch:s}=E7();return e?a.jsx(_7,{}):n?a.jsx(Rg,{error:n,onRetry:s}):t?a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"ADMIN"}),a.jsxs("div",{style:{padding:"40px 60px"},children:[a.jsx(R7,{data:t.statistiquesGlobales}),a.jsx(P7,{data:t}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px",marginBottom:"30px"},children:[a.jsx(D7,{data:t.dureesMoyennes}),a.jsx(I7,{tickets:t.ticketsRecents})]}),a.jsx(L7,{})]}),a.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
          }
        `})]}):a.jsx(Rg,{error:"Aucune donne disponible",onRetry:s})}const dt={async getTickets(t={}){try{const e=new URLSearchParams;t.etat&&e.append("etat",t.etat),t.reference&&e.append("reference",t.reference),t.produit&&e.append("produit",t.produit),t.dateDebut&&e.append("dateDebut",t.dateDebut),t.dateFin&&e.append("dateFin",t.dateFin),t.societe&&e.append("societe",t.societe),t.priorite&&e.append("priorite",t.priorite),t.page!==void 0&&e.append("page",t.page.toString()),t.size!==void 0&&e.append("size",t.size.toString());const n=await A.get(`/tickets/admin?${e.toString()}`);console.log("API Response structure:",n.data),console.log("Applied filters:",t);const s=n.data;return{content:s.tickets||[],totalElements:s.totalElements||0,totalPages:s.totalPages||0,size:s.pageSize||t.size||10,number:s.currentPage||t.page||0}}catch(e){return console.error("Erreur lors de la rcupration des tickets:",e),{content:[],totalElements:0,totalPages:0,size:10,number:0}}},async getTicket(t){return(await A.get(`/tickets/${t}`)).data},async changerStatut(t,e,n){return(await A.put(`/tickets/${t}/statut`,{statutId:e,utilisateurId:n})).data},async assignerTicket(t,e){return(await A.put(`/tickets/${t}/assigner`,{consultantId:e})).data},async getTicketsParCompany(t){return(await A.get(`/tickets/company/${t}`)).data},async getTicketsParConsultant(t){return(await A.get(`/tickets/consultant/${t}`)).data},async getTicketDetails(t){try{return(await A.get(`/tickets/${t}`)).data}catch(e){return console.error("Erreur rcupration dtails ticket admin:",e),(await A.get(`/tickets/${t}`)).data}},async getInteractions(t){try{const e=await A.get(`/interactions/ticket/${t}`);return console.log("Interactions admin:",e.data),e.data}catch(e){return console.error("Erreur rcupration interactions admin:",e),[]}},async getPiecesJointes(t){try{const e=await A.get(`/pieces-jointes/ticket/${t}`);return console.log("Pices jointes admin:",e.data),e.data}catch(e){return console.error("Erreur rcupration pices jointes admin:",e),[]}},async getSolutions(t){try{const e=await A.get(`/solutions/ticket/${t}`);return console.log("Solutions admin:",e.data),e.data}catch(e){return console.error("Erreur rcupration solutions admin:",e),[]}},async getAvailableAgents(){try{return(await A.get("/workflow/utilisateurs/internes")).data}catch(t){return console.error("Erreur rcupration agents disponibles:",t),[{id:1,nom:"Dupont",prenom:"Jean",email:"jean.dupont@example.com",specialite:"Support Technique",statut:"ACTIF"},{id:2,nom:"Martin",prenom:"Marie",email:"marie.martin@example.com",specialite:"Dveloppement",statut:"ACTIF"},{id:3,nom:"Bernard",prenom:"Pierre",email:"pierre.bernard@example.com",specialite:"Rseau",statut:"ACTIF"}]}},async assignAgent(t,e){try{await A.put(`/tickets/${t}/assigner`,{consultantId:e})}catch(n){throw console.error("Erreur assignation agent:",n),n}},async updateStatus(t,e,n){try{const s=localStorage.getItem("userId");await A.put(`/tickets/${t}/statut`,{statutId:parseInt(e),utilisateurId:s?parseInt(s):1,commentaire:n})}catch(s){throw console.error("Erreur mise  jour statut:",s),s}},async addInternalNote(t,e){try{const n=localStorage.getItem("userId"),s={ticketId:t,message:e,typeInteractionId:4,canalInteractionId:1,auteurUtilisateurId:n?parseInt(n):1,visibleClient:!1};await A.post("/interactions",s)}catch(n){throw console.error("Erreur ajout note interne:",n),n}},async deleteInteraction(t){try{await A.delete(`/interactions/${t}`)}catch(e){throw console.error("Erreur suppression interaction:",e),e}},async createInteraction(t){try{await A.post("/interactions",t)}catch(e){throw console.error("Erreur cration interaction admin:",e),e}}},F7=(t={})=>{const[e,n]=S.useState([]),[s,r]=S.useState(!0),[o,i]=S.useState(null),[l,c]=S.useState({totalElements:0,totalPages:0,size:10,number:0}),d=async(f={})=>{try{r(!0),i(null);const m={page:0,size:10,...f};console.log("Fetching tickets with filters:",m);const g=await dt.getTickets(m);console.log("Processed API Response:",g),n(g.content||[]),c({totalElements:g.totalElements||0,totalPages:g.totalPages||0,size:g.size||10,number:g.number||0})}catch(m){i(m instanceof Error?m.message:"Erreur lors du chargement des tickets"),console.error("Erreur:",m)}finally{r(!1)}};return S.useEffect(()=>{d(t)},[t.etat,t.reference,t.produit,t.dateDebut,t.dateFin,t.societe,t.priorite,t.page,t.size]),{tickets:e,loading:s,error:o,pagination:l,refetch:()=>{d(t)},changerPage:f=>{d({...t,page:f})}}},B7=({filtres:t,onFiltresChange:e})=>{const{t:n}=V(["common","tickets"]),s=(o,i)=>{e({...t,[o]:i||void 0})},r=()=>{e({page:0,size:10})};return a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",textDecoration:"underline",margin:0,color:"#1f2937"},children:[n("common:filter"),":"]}),a.jsxs("button",{onClick:r,style:{background:"#6c757d",color:"white",padding:"8px 16px",borderRadius:"20px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:o=>{o.currentTarget.style.background="#5a6268",o.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:o=>{o.currentTarget.style.background="#6c757d",o.currentTarget.style.transform="translateY(0)"},children:[a.jsx("span",{children:""}),n("common:reset")]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px"},children:[a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:[n("tickets:status.label"),":"]}),a.jsxs("select",{value:t.etat||"",onChange:o=>s("etat",o.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:"20px",border:"1px solid #d1d5db",backgroundColor:"white",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onFocus:o=>{o.target.style.borderColor="#3b82f6",o.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:o=>{o.target.style.borderColor="#d1d5db",o.target.style.boxShadow="none"},children:[a.jsx("option",{value:"",children:n("tickets:allStatuses")}),a.jsx("option",{value:"1",children:n("tickets:status.new")}),a.jsx("option",{value:"2",children:n("tickets:status.inProgress")}),a.jsx("option",{value:"3",children:n("tickets:status.pending")}),a.jsx("option",{value:"4",children:n("tickets:status.waitingClient")}),a.jsx("option",{value:"5",children:n("tickets:status.scheduled")}),a.jsx("option",{value:"6",children:n("tickets:status.resolved")}),a.jsx("option",{value:"7",children:n("tickets:status.closed")})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:[n("tickets:reference"),":"]}),a.jsx("input",{type:"text",value:t.reference||"",onChange:o=>s("reference",o.target.value),placeholder:n("tickets:searchByReference"),style:{width:"100%",padding:"10px 12px",borderRadius:"20px",border:"1px solid #d1d5db",fontSize:"14px",transition:"all 0.2s ease",backgroundColor:"white"},onFocus:o=>{o.target.style.borderColor="#3b82f6",o.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:o=>{o.target.style.borderColor="#d1d5db",o.target.style.boxShadow="none"}})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:[n("tickets:product"),":"]}),a.jsx("input",{type:"text",value:t.produit||"",onChange:o=>s("produit",o.target.value),placeholder:n("tickets:searchByProduct"),style:{width:"100%",padding:"10px 12px",borderRadius:"20px",border:"1px solid #d1d5db",fontSize:"14px",transition:"all 0.2s ease",backgroundColor:"white"},onFocus:o=>{o.target.style.borderColor="#3b82f6",o.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:o=>{o.target.style.borderColor="#d1d5db",o.target.style.boxShadow="none"}})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:[n("tickets:startDate"),":"]}),a.jsx("input",{type:"date",value:t.dateDebut||"",onChange:o=>s("dateDebut",o.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:"20px",border:"1px solid #d1d5db",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease",backgroundColor:"white"},onFocus:o=>{o.target.style.borderColor="#3b82f6",o.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:o=>{o.target.style.borderColor="#d1d5db",o.target.style.boxShadow="none"}})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:[n("tickets:endDate"),":"]}),a.jsx("input",{type:"date",value:t.dateFin||"",onChange:o=>s("dateFin",o.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:"20px",border:"1px solid #d1d5db",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease",backgroundColor:"white"},onFocus:o=>{o.target.style.borderColor="#3b82f6",o.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:o=>{o.target.style.borderColor="#d1d5db",o.target.style.boxShadow="none"}})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:[n("tickets:company"),":"]}),a.jsx("input",{type:"text",value:t.societe||"",onChange:o=>s("societe",o.target.value),placeholder:n("tickets:searchByCompany"),style:{width:"100%",padding:"10px 12px",borderRadius:"20px",border:"1px solid #d1d5db",fontSize:"14px",transition:"all 0.2s ease",backgroundColor:"white"},onFocus:o=>{o.target.style.borderColor="#3b82f6",o.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:o=>{o.target.style.borderColor="#d1d5db",o.target.style.boxShadow="none"}})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:[n("tickets:priority.label"),":"]}),a.jsxs("select",{value:t.priorite||"",onChange:o=>s("priorite",o.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:"20px",border:"1px solid #d1d5db",backgroundColor:"white",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onFocus:o=>{o.target.style.borderColor="#3b82f6",o.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:o=>{o.target.style.borderColor="#d1d5db",o.target.style.boxShadow="none"},children:[a.jsx("option",{value:"",children:n("tickets:allPriorities")}),a.jsx("option",{value:"1",children:n("tickets:priority.low")}),a.jsx("option",{value:"2",children:n("tickets:priority.normal")}),a.jsx("option",{value:"3",children:n("tickets:priority.high")}),a.jsx("option",{value:"4",children:n("tickets:priority.urgent")})]})]})]})]})},W7=({pageCourante:t,totalPages:e,onPageChange:n})=>{const{t:s}=V("common");if(e<=1)return null;const r=[],o=5;let i=Math.max(0,t-Math.floor(o/2)),l=Math.min(e-1,i+o-1);l-i+1<o&&(i=Math.max(0,l-o+1));for(let u=i;u<=l;u++)r.push(u);const c=(u,h=!1)=>({background:h?"#e5e7eb":u?"#3b82f6":"white",color:h?"#9ca3af":u?"white":"#374151",width:"40px",height:"40px",borderRadius:"8px",border:h?"1px solid #e5e7eb":u?"1px solid #3b82f6":"1px solid #d1d5db",cursor:h?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:u?"600":"400",transition:"all 0.2s ease",fontSize:"14px",fontFamily:"inherit"}),d=(u=!1)=>({background:u?"#f3f4f6":"white",color:u?"#9ca3af":"#374151",padding:"8px 16px",borderRadius:"8px",border:u?"1px solid #e5e7eb":"1px solid #d1d5db",cursor:u?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"500",transition:"all 0.2s ease",fontSize:"14px",fontFamily:"inherit",gap:"6px"});return a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"30px",padding:"20px",background:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",flexWrap:"wrap",gap:"15px"},children:[a.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",fontWeight:"500"},children:[s("page")," ",a.jsx("strong",{style:{color:"#374151"},children:t+1})," ",s("of")," ",a.jsx("strong",{style:{color:"#374151"},children:e})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[a.jsxs("button",{onClick:()=>n(0),disabled:t===0,style:d(t===0),title:s("firstPage"),children:[a.jsx("span",{children:""}),s("first")]}),a.jsxs("button",{onClick:()=>n(t-1),disabled:t===0,style:d(t===0),title:s("previous"),children:[a.jsx("span",{children:""}),s("previous")]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[i>0&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>n(0),style:c(!1),title:`${s("goToPage")} 1`,children:"1"}),i>1&&a.jsx("span",{style:{color:"#9ca3af",padding:"0 8px",fontSize:"14px"},children:"..."})]}),r.map(u=>a.jsx("button",{onClick:()=>n(u),style:c(u===t),title:`${s("goToPage")} ${u+1}`,children:u+1},u)),l<e-1&&a.jsxs(a.Fragment,{children:[l<e-2&&a.jsx("span",{style:{color:"#9ca3af",padding:"0 8px",fontSize:"14px"},children:"..."}),a.jsx("button",{onClick:()=>n(e-1),style:c(!1),title:`${s("goToPage")} ${e}`,children:e})]})]}),a.jsxs("button",{onClick:()=>n(t+1),disabled:t===e-1,style:d(t===e-1),title:s("next"),children:[s("next"),a.jsx("span",{children:""})]}),a.jsxs("button",{onClick:()=>n(e-1),disabled:t===e-1,style:d(t===e-1),title:s("lastPage"),children:[s("last"),a.jsx("span",{children:""})]})]})]})};function U7(t,e){const[n,s]=S.useState(t);return S.useEffect(()=>{const r=setTimeout(()=>{s(t)},e);return()=>{clearTimeout(r)}},[t,e]),n}function H7(){const t=Me(),{t:e}=V(["common","tickets","admin"]),[n,s]=S.useState({page:0,size:10}),r=U7(n,500),{tickets:o,loading:i,error:l,pagination:c,refetch:d,changerPage:u}=F7(r),h=y=>{switch(y){case"1":return e("tickets:status.new");case"2":return e("tickets:status.inProgress");case"3":return e("tickets:status.pending");case"4":return e("tickets:status.waitingClient");case"5":return e("tickets:status.scheduled");case"6":return e("tickets:status.resolved");case"7":return e("tickets:status.closed");default:return y||e("common:unknown")}},f=y=>{switch(y){case"1":return e("tickets:priority.low");case"2":return e("tickets:priority.normal");case"3":return e("tickets:priority.high");case"4":return e("tickets:priority.urgent");default:return e("common:unknown")}},m=y=>{switch(y){case"1":return"#3b82f6";case"2":return"#10b981";case"3":return"#f59e0b";case"4":return"#f59e0b";case"5":return"#8b5cf6";case"6":return"#6b7280";case"7":return"#000000";default:return"#6b7280"}},g=y=>{switch(y){case"4":return"#ef4444";case"3":return"#f59e0b";case"2":return"#3b82f6";case"1":return"#10b981";default:return"#6b7280"}},p=y=>{try{const v=e("common:locale")||"fr-FR";return new Date(y).toLocaleDateString(v,{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return e("common:invalidDate")}},x=y=>{s(v=>({...y,page:y.page!==void 0?y.page:0}))};if(i)return a.jsx(z0,{message:e("tickets:loadingRequests")});if(l)return a.jsx(Kd,{error:l,onRetry:()=>d()});const b=o||[];return a.jsxs("div",{className:"admin-demandes-container",children:[a.jsx(Ce,{role:"ADMIN"}),a.jsxs("div",{className:"admin-demandes-content",children:[a.jsx("h1",{className:"admin-demandes-title",children:e("admin:demandesManagement")}),a.jsx(B7,{filtres:n,onFiltresChange:x}),i&&a.jsx("div",{className:"loading-indicator",children:e("tickets:searching")}),a.jsxs("div",{className:"results-info",children:[a.jsxs("div",{className:"results-count",children:[c.totalElements," ",e("tickets:requestsFound")]}),a.jsxs("div",{className:"page-info",children:[e("common:page")," ",c.number+1," ",e("common:of")," ",c.totalPages]})]}),a.jsx("div",{className:"tickets-table-container",children:a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{className:"tickets-table",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"table-header",children:[a.jsx("th",{children:e("tickets:reference")}),a.jsx("th",{children:e("tickets:company")}),a.jsx("th",{children:e("tickets:product")}),a.jsx("th",{children:e("tickets:description")}),a.jsx("th",{children:e("tickets:priority.label")}),a.jsx("th",{children:e("tickets:creationDate")}),a.jsx("th",{children:e("tickets:status.label")}),a.jsx("th",{children:e("common:actions")})]})}),a.jsx("tbody",{children:b.length>0?b.map(y=>a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"table-cell reference-cell",children:y.reference||e("common:notAvailable")}),a.jsx("td",{className:"table-cell title-cell",children:y.companyName||e("tickets:companyNotDefined")}),a.jsx("td",{className:"table-cell",style:{whiteSpace:"nowrap"},children:y.produitNom||e("tickets:productNotSpecified")}),a.jsx("td",{className:"table-cell description-cell",children:y.description?y.description.length>100?`${y.description.substring(0,100)}...`:y.description:e("tickets:noDescription")}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:"priority-badge",style:{background:g(y.prioriteTicketId)},children:f(y.prioriteTicketId)})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:"date-badge",children:y.dateCreation?p(y.dateCreation):e("common:notAvailable")})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:"status-badge",style:{background:m(y.etat||"")},children:h(y.etat||"")})}),a.jsx("td",{className:"table-cell",children:a.jsx("button",{onClick:()=>t(`/admin/ticket/${y.id}`),className:"details-button",children:e("common:details")})})]},y.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"no-results",children:e("tickets:noRequestsFound")})})})]})})}),c.totalPages>1&&a.jsx(W7,{pageCourante:c.number,totalPages:c.totalPages,onPageChange:u})]})]})}function V7(){const t=Me(),[e,n]=S.useState(""),[s,r]=S.useState(""),[o,i]=S.useState(""),[l,c]=S.useState(""),d=[{id:"1",reference:"INT-2025-001",client:"OPTIMADA",consultant:"Alain RAKOTO",produit:"Test",type:"Sur site",dateDebut:"20/10/2025",dateFin:"22/10/2025",statut:"Planifie",duree:"16h"},{id:"2",reference:"INT-2025-002",client:"TechCorp",consultant:"Andria ZILY",produit:"Test1",type:" distance",dateDebut:"18/10/2025",dateFin:"18/10/2025",statut:"En cours",duree:"4h"},{id:"3",reference:"INT-2025-003",client:"OPTIMADA",consultant:"Marie LAURENT",produit:"Test2",type:"Sur site",dateDebut:"15/10/2025",dateFin:"16/10/2025",statut:"Termine",duree:"12h"}],u=h=>{switch(h){case"Planifie":return"#3b82f6";case"En cours":return"#f59e0b";case"Termine":return"#10b981";case"Annule":return"#ef4444";default:return"#6b7280"}};return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"ADMIN"}),a.jsxs("div",{style:{padding:"40px 60px"},children:[a.jsx("h1",{style:{fontSize:"42px",color:"#17a2b8",marginBottom:"30px",fontWeight:"bold"},children:"Gestion des Interventions"}),a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"20px",textDecoration:"underline"},children:"Filtres:"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Recherche:"}),a.jsx("input",{type:"text",value:e,onChange:h=>n(h.target.value),placeholder:"Rfrence, client, consultant...",style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Statut:"}),a.jsxs("select",{value:s,onChange:h=>r(h.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"},children:[a.jsx("option",{value:"",children:"Tous"}),a.jsx("option",{value:"Planifie",children:"Planifie"}),a.jsx("option",{value:"En cours",children:"En cours"}),a.jsx("option",{value:"Termine",children:"Termine"}),a.jsx("option",{value:"Annule",children:"Annule"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Date dbut:"}),a.jsx("input",{type:"date",value:o,onChange:h=>i(h.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Date fin:"}),a.jsx("input",{type:"date",value:l,onChange:h=>c(h.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]})]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsxs("div",{style:{fontSize:"16px",color:"#666"},children:[d.length," intervention(s) trouve(s)"]}),a.jsx("button",{style:{background:"#10b981",color:"white",padding:"12px 30px",borderRadius:"25px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:"+ Planifier une intervention"})]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Rfrence"}),a.jsx("th",{children:"Client"}),a.jsx("th",{children:"Consultant"}),a.jsx("th",{children:"Produit"}),a.jsx("th",{children:"Type"}),a.jsx("th",{children:"Date dbut"}),a.jsx("th",{children:"Date fin"}),a.jsx("th",{children:"Dure"}),a.jsx("th",{children:"Statut"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:d.map(h=>a.jsxs("tr",{children:[a.jsx("td",{style:{fontWeight:"600",color:"#17a2b8"},children:h.reference}),a.jsx("td",{children:h.client}),a.jsx("td",{children:h.consultant}),a.jsx("td",{children:h.produit}),a.jsx("td",{children:a.jsx("span",{style:{background:h.type==="Sur site"?"#fef3c7":"#dbeafe",padding:"6px 12px",borderRadius:"12px",fontSize:"13px"},children:h.type})}),a.jsx("td",{children:h.dateDebut}),a.jsx("td",{children:h.dateFin}),a.jsx("td",{children:h.duree}),a.jsx("td",{children:a.jsx("span",{style:{background:u(h.statut),color:"white",padding:"6px 12px",borderRadius:"12px",fontSize:"13px",fontWeight:"600"},children:h.statut})}),a.jsx("td",{children:a.jsx("button",{onClick:()=>t(`/admin/intervention/${h.id}`),style:{background:"#6dd5ed",color:"white",padding:"8px 20px",borderRadius:"20px",border:"none",cursor:"pointer",marginRight:"8px"},children:"Dtails"})})]},h.id))})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"30px"},children:[a.jsx("button",{style:{background:"#17a2b8",color:"white",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer"},children:"<"}),a.jsx("button",{style:{background:"#17a2b8",color:"white",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer",fontWeight:"bold"},children:"1"}),a.jsx("button",{style:{background:"#a0e7f0",color:"black",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer"},children:"2"}),a.jsx("button",{style:{background:"#17a2b8",color:"white",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer"},children:">"})]})]})]})}class q7{async getWhatsAppSettings(){try{const n=(await A.get("/configurations/whatsapp/active")).data;return Array.isArray(n)?n[0]:n}catch(e){return console.error("Erreur ConfigService.getWhatsAppSettings:",e),{apiBaseUrl:"https://waba.360dialog.io/v1/messages",apiKey:"",phoneNumberId:"",businessAccountId:"",webhookUrl:"",webhookToken:"",estActif:!0,nomConfiguration:"Dfaut",description:""}}}async saveWhatsAppSettings(e){var n;try{console.log(" Donnes WhatsApp envoyes au backend:",e);const s=await A.post("/configurations/whatsapp",e);return console.log(" Rponse du backend WhatsApp:",s.data),!0}catch(s){return console.error(" Erreur ConfigService.saveWhatsAppSettings:",s),console.error(" Dtails de l'erreur:",(n=s.response)==null?void 0:n.data),!1}}async testWhatsAppSettings(e){var n,s;try{return await A.post(`/configurations/whatsapp/${e}/test`),!0}catch(r){throw console.error("Erreur ConfigService.testWhatsAppSettings:",r),new Error(((s=(n=r.response)==null?void 0:n.data)==null?void 0:s.error)||"Erreur lors du test WhatsApp")}}async getGeneralSettings(){try{return(await A.get("/configurations/general")).data}catch(e){return console.error("Erreur ConfigService.getGeneralSettings:",e),{companyName:"OPTIMADA",defaultLanguage:"fr",timezone:"UTC+3"}}}async saveGeneralSettings(e){try{return await A.post("/configurations/general",e),!0}catch(n){return console.error("Erreur ConfigService.saveGeneralSettings:",n),!1}}async getSmtpSettings(){try{return(await A.get("/configurations/email")).data}catch(e){return console.error("Erreur ConfigService.getSmtpSettings:",e),{host:"",port:587,username:"",password:""}}}async saveSmtpSettings(e){var n;try{console.log(" Donnes envoyes au backend:",e);const s=await A.post("/configurations/email",e);return console.log(" Rponse du backend:",s.data),!0}catch(s){return console.error(" Erreur ConfigService.saveSmtpSettings:",s),console.error(" Dtails de l'erreur:",(n=s.response)==null?void 0:n.data),!1}}async testSmtpSettings(e){var n,s;try{return await A.post("/configurations/email/test",e),!0}catch(r){throw console.error("Erreur ConfigService.testSmtpSettings:",r),new Error(((s=(n=r.response)==null?void 0:n.data)==null?void 0:s.error)||"Erreur lors du test SMTP")}}async getSLASettings(){try{return(await A.get("/configurations/sla")).data}catch(e){return console.error("Erreur ConfigService.getSLASettings:",e),{urgent:2,medium:8,low:24}}}async saveSLASettings(e){try{return await A.post("/configurations/sla",e),!0}catch(n){return console.error("Erreur ConfigService.saveSLASettings:",n),!1}}async getCreditSettings(){try{return(await A.get("/configurations/credits")).data}catch(e){return console.error("Erreur ConfigService.getCreditSettings:",e),{alertThreshold:5,blockOnInsufficient:!0}}}async saveCreditSettings(e){try{return await A.post("/configurations/credits",e),!0}catch(n){return console.error("Erreur ConfigService.saveCreditSettings:",n),!1}}}const Fn=new q7,K7=({onSave:t})=>{const[e,n]=S.useState({companyName:"",defaultLanguage:"fr",timezone:"UTC+3"}),[s,r]=S.useState(!0),[o,i]=S.useState(!1);S.useEffect(()=>{l()},[]);const l=async()=>{try{const d=await Fn.getGeneralSettings();n(d)}catch(d){console.error("Erreur chargement paramtres gnraux:",d)}finally{r(!1)}},c=async d=>{d.preventDefault(),i(!0);try{await Fn.saveGeneralSettings(e)?(t==null||t(e),alert("Paramtres gnraux sauvegards avec succs!")):alert("Erreur lors de la sauvegarde")}catch(u){console.error("Erreur sauvegarde paramtres gnraux:",u),alert("Erreur lors de la sauvegarde")}finally{i(!1)}};return s?a.jsx("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:a.jsx("div",{children:"Chargement des paramtres gnraux..."})}):a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h2",{style:{fontSize:"24px",marginBottom:"20px",color:"#333"},children:"Paramtres gnraux"}),a.jsxs("form",{onSubmit:c,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Nom de l'entreprise:"}),a.jsx("input",{type:"text",value:e.companyName,onChange:d=>n({...e,companyName:d.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Langue par dfaut:"}),a.jsxs("select",{value:e.defaultLanguage,onChange:d=>n({...e,defaultLanguage:d.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},children:[a.jsx("option",{value:"fr",children:"Franais"}),a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"es",children:"Espaol"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Fuseau horaire:"}),a.jsxs("select",{value:e.timezone,onChange:d=>n({...e,timezone:d.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},children:[a.jsx("option",{value:"UTC+3",children:"UTC+3 (Antananarivo)"}),a.jsx("option",{value:"UTC+1",children:"UTC+1 (Paris)"}),a.jsx("option",{value:"UTC+0",children:"UTC+0 (Londres)"})]})]}),a.jsx("button",{type:"submit",disabled:o,style:{background:o?"#9ca3af":"#10b981",color:"white",padding:"12px 30px",borderRadius:"10px",border:"none",cursor:o?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",alignSelf:"flex-start"},children:o?"Sauvegarde...":"Enregistrer"})]})]})},Y7=()=>{const[t,e]=S.useState({host:"",port:587,username:"",password:""}),[n,s]=S.useState(!0),[r,o]=S.useState(!1),[i,l]=S.useState(!1),[c,d]=S.useState("");S.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await Fn.getSmtpSettings();e(m)}catch(m){console.error("Erreur chargement paramtres SMTP:",m)}finally{s(!1)}},h=async m=>{m.preventDefault(),o(!0),d("");try{const g=await Fn.saveSmtpSettings(t);d(g?" Configuration SMTP sauvegarde avec succs!":" Erreur lors de la sauvegarde")}catch(g){console.error("Erreur sauvegarde paramtres SMTP:",g),d(" Erreur lors de la sauvegarde: "+g.message)}finally{o(!1)}},f=async()=>{l(!0),d("");try{await Fn.testSmtpSettings(t),d(" Test russi! Email de test envoy avec succs.")}catch(m){console.error("Erreur test SMTP:",m),d(" chec du test: "+m.message)}finally{l(!1)}};return n?a.jsx("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:a.jsx("div",{children:"Chargement de la configuration SMTP..."})}):a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h2",{style:{fontSize:"24px",marginBottom:"20px",color:"#333"},children:"Configuration SMTP"}),c&&a.jsx("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",background:c.includes("")?"#d1fae5":"#fee2e2",color:c.includes("")?"#065f46":"#991b1b",border:`1px solid ${c.includes("")?"#a7f3d0":"#fecaca"}`},children:c}),a.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Serveur SMTP:"}),a.jsx("input",{type:"text",value:t.host,onChange:m=>e({...t,host:m.target.value}),placeholder:"smtp.gmail.com",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Port:"}),a.jsx("input",{type:"number",value:t.port,onChange:m=>e({...t,port:parseInt(m.target.value)}),min:"1",max:"65535",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Email (utilisateur):"}),a.jsx("input",{type:"email",value:t.username,onChange:m=>e({...t,username:m.target.value}),placeholder:"votre@email.com",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Mot de passe (App Password):"}),a.jsx("input",{type:"password",value:t.password,onChange:m=>e({...t,password:m.target.value}),placeholder:"Votre mot de passe d'application",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0}),a.jsxs("small",{style:{color:"#666",fontSize:"14px",marginTop:"5px",display:"block"},children:["Pour Gmail, utilisez un ",a.jsx("strong",{children:"App Password"})," et non votre mot de passe principal"]})]}),a.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[a.jsxs("button",{type:"submit",disabled:r,style:{background:r?"#9ca3af":"#10b981",color:"white",padding:"12px 24px",borderRadius:"10px",border:"none",cursor:r?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[r?"":"",r?" Sauvegarde...":" Sauvegarder"]}),a.jsxs("button",{type:"button",onClick:f,disabled:i||!t.host||!t.username||!t.password,style:{background:i||!t.host||!t.username||!t.password?"#9ca3af":"#3b82f6",color:"white",padding:"12px 24px",borderRadius:"10px",border:"none",cursor:i||!t.host||!t.username||!t.password?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[i?"":"",i?" Test en cours...":" Tester la configuration"]}),a.jsx("button",{type:"button",onClick:u,style:{background:"#6b7280",color:"white",padding:"12px 24px",borderRadius:"10px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:" Recharger"})]})]}),a.jsxs("div",{style:{marginTop:"30px",padding:"20px",background:"#f0f9ff",borderRadius:"10px"},children:[a.jsx("h4",{style:{margin:"0 0 12px 0",color:"#0369a1"},children:" Guide de configuration"}),a.jsxs("div",{style:{fontSize:"14px",color:"#0369a1",lineHeight:"1.5"},children:[a.jsx("p",{children:a.jsx("strong",{children:"Pour Gmail :"})}),a.jsxs("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[a.jsxs("li",{children:["Serveur: ",a.jsx("code",{children:"smtp.gmail.com"})]}),a.jsxs("li",{children:["Port: ",a.jsx("code",{children:"587"})]}),a.jsx("li",{children:"Activer la validation en 2 tapes sur votre compte Google"}),a.jsxs("li",{children:["Gnrer un ",a.jsx("strong",{children:"App Password"})," dans les paramtres de scurit Google"]}),a.jsx("li",{children:"Utiliser l'App Password au lieu de votre mot de passe principal"})]})]})]})]})};class J7{async getWorkflows(){try{return(await A.get("/workflow/configurations")).data}catch(e){throw console.error("Erreur WorkflowService.getWorkflows:",e),new Error("Impossible de charger les workflows")}}async getWorkflowByType(e){var n;try{return(await A.get(`/workflow/configurations/${e}`)).data}catch(s){if(((n=s.response)==null?void 0:n.status)===404)return{typeNotificationCode:e,steps:[]};throw console.error("Erreur WorkflowService.getWorkflowByType:",s),new Error("Impossible de charger le workflow")}}async saveWorkflow(e){var n,s;try{const r={typeNotificationCode:e.typeNotificationCode,steps:e.steps.map(i=>({...i.id>0&&{id:i.id},ordre:i.ordre,utilisateurId:i.utilisateurId,typeNotificationId:i.typeNotificationId}))};return console.log("Donnes envoyes au backend:",r),(await A.post("/workflow/configurations",r)).status===200}catch(r){throw console.error("Erreur WorkflowService.saveWorkflow:",r),(s=(n=r.response)==null?void 0:n.data)!=null&&s.error?new Error(r.response.data.error):new Error("Erreur lors de la sauvegarde du workflow")}}async updateWorkflowStep(e){try{return(await A.put(`/workflow/steps/${e.id}`,e)).status===200}catch(n){return console.error("Erreur WorkflowService.updateWorkflowStep:",n),!1}}async deleteWorkflowStep(e){try{return(await A.delete(`/workflow/steps/${e}`)).status===200}catch(n){return console.error("Erreur WorkflowService.deleteWorkflowStep:",n),!1}}async getAvailableUsers(){try{return(await A.get("/workflow/utilisateurs/internes")).data}catch(e){return console.error("Erreur WorkflowService.getAvailableUsers:",e),[]}}async getNotificationTypes(){try{return(await A.get("/workflow/type-notifications")).data}catch(e){return console.error("Erreur WorkflowService.getNotificationTypes:",e),[]}}}const Ui=new J7,X7=()=>{const[t,e]=S.useState([]),[n,s]=S.useState("CREATION_TICKET"),[r,o]=S.useState([]),[i,l]=S.useState([]),[c,d]=S.useState(!0),[u,h]=S.useState(!1),[f,m]=S.useState(null),[g,p]=S.useState(-1);S.useEffect(()=>{x()},[]),S.useEffect(()=>{const j=t.find(C=>C.typeNotificationCode===n);m(j||{typeNotificationCode:n,steps:[]})},[n,t]);const x=async()=>{d(!0);try{const[j,C,T]=await Promise.all([Ui.getWorkflows(),Ui.getAvailableUsers(),Ui.getNotificationTypes()]);e(j),o(C),l(T);const P=j.find(R=>R.typeNotificationCode===n)||{typeNotificationCode:n,steps:[]};m(P)}catch(j){console.error("Erreur lors du chargement des donnes:",j)}finally{d(!1)}},b=()=>{if(!f)return;if(r.length===0){alert("Aucun utilisateur interne disponible. Veuillez d'abord crer des utilisateurs.");return}const j=i.find(P=>P.code===n);if(!j){alert("Type de notification non trouv.");return}const C={id:g,ordre:f.steps.length+1,utilisateurId:r[0].id,typeNotificationId:j.id};p(P=>P-1);const T={...f,steps:[...f.steps,C]};m(T)},y=(j,C)=>{if(!f)return;const T=f.steps.map(R=>R.id===j?{...R,...C}:R),P={...f,steps:T};m(P)},v=j=>{if(!f)return;const C=f.steps.filter(P=>P.id!==j).map((P,R)=>({...P,ordre:R+1})),T={...f,steps:C};m(T)},w=async()=>{if(!f)return;if(f.steps.filter(C=>C.utilisateurId===0||!C.utilisateurId).length>0){alert("Veuillez slectionner un utilisateur pour toutes les tapes.");return}h(!0);try{await Ui.saveWorkflow(f)?(await x(),Y.success("Workflow sauvegard avec succs !")):alert("Erreur lors de la sauvegarde du workflow")}catch(C){console.error("Erreur lors de la sauvegarde:",C),alert(C.message||"Erreur lors de la sauvegarde du workflow")}finally{h(!1)}},k=j=>{s(j)};return c?a.jsx("div",{children:"Chargement..."}):f?a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h2",{style:{fontSize:"24px",marginBottom:"20px",color:"#333"},children:"Configuration des Workflows de Notification"}),a.jsxs("div",{style:{marginBottom:"30px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Type de notification:"}),a.jsx("select",{value:n,onChange:j=>k(j.target.value),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},children:i.map(j=>a.jsx("option",{value:j.code,children:j.libelle},j.code))})]}),a.jsxs("div",{style:{marginBottom:"30px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsxs("h3",{style:{fontSize:"18px",margin:0,color:"#333"},children:["tapes du workflow (",f.steps.length,")"]}),a.jsxs("button",{onClick:b,disabled:r.length===0,style:{background:r.length===0?"#9ca3af":"#3b82f6",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:r.length===0?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"5px"},children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"Ajouter une tape"})]})]}),f.steps.length===0?a.jsx("div",{style:{padding:"40px",textAlign:"center",border:"2px dashed #e5e7eb",borderRadius:"10px",background:"#fafafa"},children:a.jsxs("p",{style:{color:"#666",fontStyle:"italic",margin:0},children:["Aucune tape configure pour ce workflow.",a.jsx("br",{}),'Cliquez sur "Ajouter une tape" pour commencer.']})}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:f.steps.map((j,C)=>a.jsxs("div",{style:{padding:"20px",border:"1px solid #e5e7eb",borderRadius:"10px",background:"white",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"10px",borderBottom:"1px solid #f3f4f6"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:a.jsxs("span",{style:{background:"#3b82f6",color:"white",padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:"600"},children:["tape ",j.ordre]})}),a.jsxs("button",{onClick:()=>v(j.id),style:{background:"#ef4444",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Supprimer"})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Utilisateur  notifier:"}),a.jsxs("select",{value:j.utilisateurId,onChange:T=>y(j.id,{utilisateurId:parseInt(T.target.value)}),style:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"14px",background:"white"},children:[a.jsx("option",{value:0,children:"Slectionnez un utilisateur"}),r.map(T=>a.jsxs("option",{value:T.id,children:[T.nom," (",T.email,")"]},T.id))]})]}),a.jsx("input",{type:"hidden",value:j.ordre})]})]},j.id))})]}),a.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",paddingTop:"20px",borderTop:"1px solid #e5e7eb"},children:[a.jsxs("button",{onClick:w,disabled:u,style:{background:u?"#9ca3af":"#10b981",color:"white",padding:"12px 24px",borderRadius:"8px",border:"none",cursor:u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[u?"":"",u?" Sauvegarde en cours...":" Sauvegarder le workflow"]}),a.jsx("button",{onClick:x,style:{background:"#6b7280",color:"white",padding:"12px 24px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:" Recharger"})]}),r.length===0&&a.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"#fef2f2",borderRadius:"8px",border:"1px solid #fecaca"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[a.jsx("span",{style:{color:"#dc2626",fontSize:"16px"},children:""}),a.jsx("h4",{style:{margin:0,color:"#dc2626",fontSize:"14px",fontWeight:"600"},children:"Attention"})]}),a.jsx("p",{style:{margin:0,fontSize:"14px",color:"#dc2626",lineHeight:"1.4"},children:"Aucun utilisateur interne trouv. Pour configurer un workflow, vous devez d'abord crer des utilisateurs avec les rles 2 ou 3."})]}),a.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"#f0f9ff",borderRadius:"8px",border:"1px solid #bae6fd"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[a.jsx("span",{style:{color:"#0369a1",fontSize:"16px"},children:""}),a.jsx("h4",{style:{margin:0,color:"#0369a1",fontSize:"14px",fontWeight:"600"},children:"Information"})]}),a.jsxs("div",{style:{fontSize:"14px",color:"#0369a1",lineHeight:"1.5"},children:[a.jsx("p",{style:{margin:"0 0 8px 0"},children:" Le crateur du ticket recevra toujours une notification automatiquement"}),a.jsx("p",{style:{margin:"0 0 8px 0"},children:" Ce workflow configure les notifications supplmentaires pour les utilisateurs internes"}),a.jsx("p",{style:{margin:0},children:' Les modifications sont sauvegardes uniquement quand vous cliquez sur "Sauvegarder le workflow"'})]})]})]}):a.jsx("div",{children:"Erreur: Workflow non charg"})},Rs=t=>{const[e,n]=S.useState("INACTIVE"),[s,r]=S.useState(!1),o=S.useCallback(async()=>{try{const c=await Ae.getStatutSync(t);n(c.statut)}catch(c){console.error(`Erreur chargement statut synchronisation ${t}:`,c)}},[t]),i=S.useCallback(async()=>{var c,d;r(!0);try{let u;switch(t){case"companies":u=await Ae.demarrerSyncCompanies();break;case"credits-horaires":u=await Ae.demarrerSyncCreditsHoraires();break;case"personnes":u=await Ae.demarrerSyncPersonnes();break;case"produits":u=await Ae.demarrerSyncProduits();break;case"tickets":u=await Ae.demarrerSyncTickets();break;case"solutions":u=await Ae.demarrerSyncSolutions();break;case"liaisons-solutions-tickets":u=await Ae.demarrerSyncLiaisonsSolutionsTickets();break;default:throw new Error(`Type de synchronisation non support: ${t}`)}u.status==="DEMARREE"||u.status==="DEMARREES"?(n("EN_COURS"),alert("Synchronisation dmarre avec succs!")):alert(u.message||"Erreur lors du dmarrage de la synchronisation")}catch(u){console.error(`Erreur dmarrage synchronisation ${t}:`,u),alert(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||"Erreur lors du dmarrage de la synchronisation")}finally{r(!1)}},[t]),l=S.useCallback(async()=>{var c,d;r(!0);try{let u;switch(t){case"companies":u=await Ae.arreterSyncCompanies();break;case"credits-horaires":u=await Ae.arreterSyncCreditsHoraires();break;case"personnes":u=await Ae.arreterSyncPersonnes();break;case"produits":u=await Ae.arreterSyncProduits();break;case"tickets":u=await Ae.arreterSyncTickets();break;case"solutions":u=await Ae.arreterSyncSolutions();break;case"liaisons-solutions-tickets":u=await Ae.arreterSyncLiaisonsSolutionsTickets();break;default:throw new Error(`Type de synchronisation non support: ${t}`)}if(u.status==="ARRETEE"||u.status==="ARRET_DEMANDE"){n("ARRET_DEMANDE"),alert("Demande d'arrt envoye!");const h=setInterval(async()=>{try{const f=await Ae.getStatutSync(t);n(f.statut),f.statut==="INACTIVE"&&(clearInterval(h),r(!1))}catch(f){console.error("Erreur vrification statut:",f),clearInterval(h),r(!1)}},2e3)}else alert(u.message||"Erreur lors de l'arrt de la synchronisation"),r(!1)}catch(u){console.error(`Erreur arrt synchronisation ${t}:`,u),alert(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||"Erreur lors de l'arrt de la synchronisation"),r(!1)}},[t]);return S.useEffect(()=>{o()},[o]),S.useEffect(()=>{let c;return e==="EN_COURS"&&(c=setInterval(()=>{o()},5e3)),()=>{c&&clearInterval(c)}},[e,o]),{syncStatus:e,syncLoading:s,loadSyncStatus:o,handleStartSync:i,handleStopSync:l}},G7=({text:t,color:e})=>a.jsx("div",{style:{padding:"8px 12px",backgroundColor:e+"20",color:e,borderRadius:"6px",fontSize:"14px",fontWeight:"600"},children:t}),Ec=({onClick:t,disabled:e,variant:n,loading:s,children:r})=>{const o=()=>{const i={padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"600"};if(e)return{...i,background:"#9ca3af",color:"white",cursor:"not-allowed"};switch(n){case"success":return{...i,background:"#10b981",color:"white"};case"danger":return{...i,background:"#ef4444",color:"white"};case"secondary":return{...i,background:"#6b7280",color:"white"};default:return{...i,background:"#6b7280",color:"white"}}};return a.jsx("button",{onClick:t,disabled:e,style:o(),children:s?"...":r})},Ps=({title:t,description:e,syncStatus:n,syncLoading:s,onStart:r,onStop:o,onRefresh:i})=>{const c=(()=>{switch(n){case"EN_COURS":return{text:"Synchronisation en cours",color:"#f59e0b"};case"ARRET_DEMANDE":return{text:"Arrt en cours...",color:"#ef4444"};default:return{text:"Aucune synchronisation",color:"#6b7280"}}})();return a.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"10px",padding:"20px",backgroundColor:"#f9fafb"},children:[a.jsx("h3",{style:{fontSize:"18px",marginBottom:"15px",color:"#374151"},children:t}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[a.jsx(G7,{text:c.text,color:c.color}),a.jsx(Ec,{onClick:r,disabled:s||n==="EN_COURS",variant:"success",loading:s,children:"Dmarrer Sync"}),a.jsx(Ec,{onClick:o,disabled:s||n!=="EN_COURS",variant:"danger",loading:s,children:"Arrter Sync"}),a.jsx(Ec,{onClick:i,disabled:s,variant:"secondary",loading:s,children:"Actualiser"})]}),a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",fontStyle:"italic"},children:e})]})},Q7=()=>{const{syncStatus:t,syncLoading:e,loadSyncStatus:n,handleStartSync:s,handleStopSync:r}=Rs("companies");return a.jsx(Ps,{title:"Synchronisation des Companies",description:"La synchronisation manuelle permet de forcer la mise  jour des companies depuis le CRM. Une seule synchronisation peut tre excute  la fois.",syncStatus:t,syncLoading:e,onStart:s,onStop:r,onRefresh:n})},Z7=()=>{const{syncStatus:t,syncLoading:e,loadSyncStatus:n,handleStartSync:s,handleStopSync:r}=Rs("credits-horaires");return a.jsx(Ps,{title:"Synchronisation des Crdits Horaires",description:"Synchronisation des crdits horaires depuis le CRM. Met  jour les heures alloues, consommes et restantes.",syncStatus:t,syncLoading:e,onStart:s,onStop:r,onRefresh:n})},eU=()=>{const{syncStatus:t,syncLoading:e,loadSyncStatus:n,handleStartSync:s,handleStopSync:r}=Rs("personnes");return a.jsx(Ps,{title:"Synchronisation des Personnes",description:"Synchronisation des utilisateurs et contacts depuis le CRM. Cre automatiquement les comptes utilisateurs avec des identifiants et mots de passe temporaires.",syncStatus:t,syncLoading:e,onStart:s,onStop:r,onRefresh:n})},tU=()=>{const{syncStatus:t,syncLoading:e,loadSyncStatus:n,handleStartSync:s,handleStopSync:r}=Rs("produits");return a.jsx(Ps,{title:"Synchronisation des Produits",description:"Synchronisation des produits PARC et des associations company-PARC depuis le CRM. Met  jour le catalogue de produits et leurs relations avec les companies.",syncStatus:t,syncLoading:e,onStart:s,onStop:r,onRefresh:n})},nU=()=>{const{syncStatus:t,syncLoading:e,loadSyncStatus:n,handleStartSync:s,handleStopSync:r}=Rs("tickets");return a.jsx(Ps,{title:"Synchronisation des Tickets",description:"Synchronisation des tickets (cases) depuis le CRM. Cre de nouveaux tickets et met  jour les statuts, priorits et dates de clture existantes. Envoie des notifications automatiques.",syncStatus:t,syncLoading:e,onStart:s,onStop:r,onRefresh:n})},sU=()=>{const{syncStatus:t,syncLoading:e,loadSyncStatus:n,handleStartSync:s,handleStopSync:r}=Rs("solutions");return a.jsx(Ps,{title:"Synchronisation des Solutions",description:"Synchronisation des solutions depuis le CRM. Gre la cration, mise  jour et suppression des solutions. Met  jour les statuts, tapes et dates de clture automatiquement.",syncStatus:t,syncLoading:e,onStart:s,onStop:r,onRefresh:n})},rU=()=>{const{syncStatus:t,syncLoading:e,loadSyncStatus:n,handleStartSync:s,handleStopSync:r}=Rs("liaisons-solutions-tickets");return a.jsx(Ps,{title:"Synchronisation des Liaisons Solutions-Tickets",description:"Synchronisation des associations entre solutions et tickets depuis le CRM. Cre automatiquement les liens et envoie des notifications aux clients concerns.",syncStatus:t,syncLoading:e,onStart:s,onStop:r,onRefresh:n})},oU=()=>a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h2",{style:{fontSize:"24px",marginBottom:"20px",color:"#333"},children:"Gestion des Synchronisations CRM"}),a.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"30px",lineHeight:"1.5"},children:"Contrlez manuellement les synchronisations entre votre application et le CRM. Chaque synchronisation peut tre dmarre, arrte et surveille individuellement."}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsx(Q7,{}),a.jsx(Z7,{}),a.jsx(eU,{}),a.jsx(tU,{}),a.jsx(nU,{}),a.jsx(sU,{}),a.jsx(rU,{})]})]}),iU=t=>{const{t:e,ready:n}=V(["common","config"]);return n?t.loading?a.jsx("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:a.jsx("div",{children:e("common:loading")})}):a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h2",{style:{fontSize:"24px",marginBottom:"20px",color:"#333"},children:e("config:whatsapp.title")}),t.message&&a.jsx("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",background:t.message.includes("")?"#d1fae5":"#fee2e2",color:t.message.includes("")?"#065f46":"#991b1b",border:`1px solid ${t.message.includes("")?"#a7f3d0":"#fecaca"}`},children:t.message}),a.jsxs("form",{onSubmit:t.handleSubmit,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[e("config:whatsapp.configName"),":"]}),a.jsx("input",{type:"text",value:t.formData.nomConfiguration,onChange:s=>t.updateField("nomConfiguration",s.target.value),placeholder:e("config:whatsapp.configName"),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[e("config:whatsapp.apiUrl"),":"]}),a.jsx("input",{type:"url",value:t.formData.apiBaseUrl,onChange:s=>t.updateField("apiBaseUrl",s.target.value),placeholder:"https://waba.360dialog.io/v1/messages",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[e("config:whatsapp.apiKey"),":"]}),a.jsx("input",{type:"password",value:t.formData.apiKey,onChange:s=>t.updateField("apiKey",s.target.value),placeholder:e("config:whatsapp.apiKey"),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0}),a.jsx("small",{style:{color:"#666",fontSize:"14px",marginTop:"5px",display:"block"},children:e("config:whatsapp.apiKeyHelp")})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[e("config:whatsapp.phoneId"),":"]}),a.jsx("input",{type:"text",value:t.formData.phoneNumberId,onChange:s=>t.updateField("phoneNumberId",s.target.value),placeholder:"123456789012345",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0}),a.jsx("small",{style:{color:"#666",fontSize:"14px",marginTop:"5px",display:"block"},children:e("config:whatsapp.phoneIdHelp")})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[e("config:whatsapp.businessId"),":"]}),a.jsx("input",{type:"text",value:t.formData.businessAccountId||"",onChange:s=>t.updateField("businessAccountId",s.target.value),placeholder:"1234567890",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"}})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[e("config:whatsapp.webhookUrl"),":"]}),a.jsx("input",{type:"url",value:t.formData.webhookUrl||"",onChange:s=>t.updateField("webhookUrl",s.target.value),placeholder:"https://votredomaine.com/api/webhook/whatsapp",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"}}),a.jsx("small",{style:{color:"#666",fontSize:"14px",marginTop:"5px",display:"block"},children:e("config:whatsapp.webhookUrlHelp")})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[e("config:whatsapp.webhookToken"),":"]}),a.jsx("input",{type:"password",value:t.formData.webhookToken||"",onChange:s=>t.updateField("webhookToken",s.target.value),placeholder:e("config:whatsapp.webhookToken"),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"}})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[e("config:whatsapp.description"),":"]}),a.jsx("textarea",{value:t.formData.description||"",onChange:s=>t.updateField("description",s.target.value),placeholder:e("config:whatsapp.description"),rows:3,style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px",resize:"vertical"}})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("input",{type:"checkbox",id:"estActif",checked:t.formData.estActif,onChange:s=>t.updateField("estActif",s.target.checked),style:{width:"18px",height:"18px"}}),a.jsx("label",{htmlFor:"estActif",style:{fontWeight:"600",cursor:"pointer"},children:e("config:whatsapp.activeConfig")})]}),a.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[a.jsxs("button",{type:"submit",disabled:t.saving,style:{background:t.saving?"#9ca3af":"#10b981",color:"white",padding:"12px 24px",borderRadius:"10px",border:"none",cursor:t.saving?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[t.saving?"":"",t.saving?`${e("common:loading")}...`:e("common:save")]}),a.jsxs("button",{type:"button",onClick:t.handleTest,disabled:t.testing||!t.formData.apiKey||!t.formData.phoneNumberId,style:{background:t.testing||!t.formData.apiKey||!t.formData.phoneNumberId?"#9ca3af":"#3b82f6",color:"white",padding:"12px 24px",borderRadius:"10px",border:"none",cursor:t.testing||!t.formData.apiKey||!t.formData.phoneNumberId?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[t.testing?"":"",t.testing?`${e("common:loading")}...`:e("common:test")]}),a.jsxs("button",{type:"button",onClick:t.loadSettings,style:{background:"#6b7280",color:"white",padding:"12px 24px",borderRadius:"10px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[" ",e("common:reload")]})]})]})]}):a.jsx("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:a.jsx("div",{children:"Chargement des traductions..."})})},aU=()=>{const[t,e]=S.useState({apiBaseUrl:"https://waba.360dialog.io/v1/messages",apiKey:"",phoneNumberId:"",businessAccountId:"",webhookUrl:"",webhookToken:"",estActif:!0,nomConfiguration:"Dfaut",description:""}),[n,s]=S.useState(!0),[r,o]=S.useState(!1),[i,l]=S.useState(!1),[c,d]=S.useState("");S.useEffect(()=>{u()},[]);const u=async()=>{try{const p=await Fn.getWhatsAppSettings();console.log("Donnes reues:",p),e(p)}catch(p){console.error("Erreur chargement paramtres WhatsApp:",p),d(" Erreur lors du chargement des paramtres")}finally{s(!1)}};return{formData:t,loading:n,saving:r,testing:i,message:c,setMessage:d,loadSettings:u,handleSubmit:async p=>{p.preventDefault(),o(!0),d("");try{await Fn.saveWhatsAppSettings(t)?(d(" Configuration WhatsApp sauvegarde avec succs!"),await u()):d(" Erreur lors de la sauvegarde")}catch(x){console.error("Erreur sauvegarde paramtres WhatsApp:",x),d(" Erreur lors de la sauvegarde: "+x.message)}finally{o(!1)}},handleTest:async()=>{l(!0),d("");try{if(!t.id){d(" Veuillez d'abord sauvegarder la configuration avant de tester");return}await Fn.testWhatsAppSettings(t.id),d(" Test russi! Configuration WhatsApp valide.")}catch(p){console.error("Erreur test WhatsApp:",p),d(" chec du test: "+p.message)}finally{l(!1)}},updateField:(p,x)=>{e(b=>({...b,[p]:x}))},resetForm:()=>{e({apiBaseUrl:"https://waba.360dialog.io/v1/messages",apiKey:"",phoneNumberId:"",businessAccountId:"",webhookUrl:"",webhookToken:"",estActif:!0,nomConfiguration:"Dfaut",description:""})}}},lU=()=>{const t=aU();return a.jsx(iU,{...t})},cU=({templates:t,selectedTemplate:e,handleSelectTemplate:n,handleCreateNew:s})=>{const{t:r}=V(["templates"]);return a.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsx("h3",{style:{fontSize:"18px",color:"#333",margin:0},children:r("templates:list.title")}),a.jsxs("button",{onClick:s,style:{background:"#10b981",color:"white",padding:"8px 12px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:["+ ",r("templates:list.new")]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.map(o=>a.jsx(dU,{template:o,isSelected:(e==null?void 0:e.id)===o.id,onSelect:()=>n(o)},o.id)),t.length===0&&a.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"20px",fontStyle:"italic"},children:r("templates:list.empty")})]})]})},dU=({template:t,isSelected:e,onSelect:n})=>a.jsx("div",{onClick:n,style:{padding:"12px",borderRadius:"8px",border:`2px solid ${e?"#3b82f6":"#e5e7eb"}`,background:e?"#f0f9ff":"white",cursor:"pointer",transition:"all 0.2s"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:"600",color:t.actif?"#333":"#9ca3af",textDecoration:t.actif?"none":"line-through"},children:t.libelle}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",fontFamily:"monospace"},children:t.code}),a.jsx("div",{style:{fontSize:"12px",color:"#9ca3af"},children:t.canal})]}),a.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:t.actif?"#10b981":"#ef4444",marginLeft:"8px"}})]})}),uU=({selectedTemplate:t,testing:e,testResult:n,handleTestTemplate:s,loadTemplates:r})=>{const{t:o}=V(["common","templates"]);return a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[a.jsx(Ur,{label:o("templates:details.code"),value:t.code,monospace:!0}),a.jsx(Ur,{label:o("templates:details.canal"),value:t.canal})]}),a.jsx(Ur,{label:o("templates:details.sujet"),value:t.sujet}),a.jsx(Ur,{label:o("templates:details.contenuHtml"),value:t.contenuHtml,isHtml:!0,scrollable:!0}),a.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[a.jsxs("button",{onClick:s,disabled:e,style:{background:e?"#9ca3af":"#3b82f6",color:"white",padding:"12px 24px",borderRadius:"10px",border:"none",cursor:e?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600"},children:[e?"":"",e?`${o("common:loading")}...`:o("templates:details.test")]}),a.jsxs("button",{onClick:r,style:{background:"#6b7280",color:"white",padding:"12px 24px",borderRadius:"10px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:[" ",o("common:reload")]})]}),n&&a.jsx(Ur,{label:o("templates:details.testResult"),value:n,isHtml:!0,scrollable:!0,maxHeight:"200px"})]})},Ur=({label:t,value:e,monospace:n=!1,isHtml:s=!1,scrollable:r=!1,maxHeight:o="300px"})=>a.jsxs("div",{children:[a.jsxs("strong",{children:[t,":"]}),a.jsx("div",{style:{background:s?"#f8f9fa":"#f3f4f6",padding:"12px",borderRadius:"6px",marginTop:"4px",border:s?"1px solid #e9ecef":"none",maxHeight:r?o:"none",overflow:r?"auto":"visible",fontFamily:n?"monospace":"inherit",fontSize:s?"14px":"inherit",whiteSpace:s?"pre-wrap":"normal"},children:s?a.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):e})]}),hU=({initialData:t,isCreating:e,saving:n,onSubmit:s,onCancel:r})=>{const{t:o}=V(["common","templates"]),[i,l]=S.useState({code:"",libelle:"",canal:"EMAIL",sujet:"",contenuHtml:"",actif:!0,...t});S.useEffect(()=>{t&&l(u=>({...u,...t}))},[t==null?void 0:t.code,t==null?void 0:t.libelle,t==null?void 0:t.canal,t==null?void 0:t.sujet,t==null?void 0:t.contenuHtml,t==null?void 0:t.actif]);const c=async u=>{u.preventDefault(),await s(i)},d=u=>h=>{const f=h.target.type==="checkbox"?h.target.checked:h.target.value;l(m=>({...m,[u]:f}))};return a.jsxs("form",{onSubmit:c,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[o("templates:form.code"),":"]}),a.jsx("input",{type:"text",value:i.code||"",onChange:d("code"),placeholder:"CREATION_TICKET",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px",fontFamily:"monospace",backgroundColor:e?"white":"#f3f4f6"},required:!0,disabled:!e})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[o("templates:form.canal"),":"]}),a.jsxs("select",{value:i.canal||"EMAIL",onChange:d("canal"),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0,children:[a.jsx("option",{value:"EMAIL",children:"Email"}),a.jsx("option",{value:"SMS",children:"SMS"}),a.jsx("option",{value:"WHATSAPP",children:"WhatsApp"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[o("templates:form.libelle"),":"]}),a.jsx("input",{type:"text",value:i.libelle||"",onChange:d("libelle"),placeholder:o("templates:form.libellePlaceholder"),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[o("templates:form.sujet"),":"]}),a.jsx("input",{type:"text",value:i.sujet||"",onChange:d("sujet"),placeholder:o("templates:form.sujetPlaceholder"),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[o("templates:form.contenuHtml"),":"]}),a.jsx("textarea",{value:i.contenuHtml||"",onChange:d("contenuHtml"),placeholder:o("templates:form.contenuHtmlPlaceholder"),rows:12,style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px",resize:"vertical",fontFamily:"monospace"},required:!0}),a.jsx("small",{style:{color:"#666",fontSize:"14px",marginTop:"5px",display:"block"},children:o("templates:form.variablesHelp")})]}),e&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("input",{type:"checkbox",id:"actif",checked:i.actif||!1,onChange:d("actif"),style:{width:"18px",height:"18px"}}),a.jsx("label",{htmlFor:"actif",style:{fontWeight:"600",cursor:"pointer"},children:o("templates:form.active")})]}),a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsxs("button",{type:"submit",disabled:n,style:{background:n?"#9ca3af":"#10b981",color:"white",padding:"12px 24px",borderRadius:"10px",border:"none",cursor:n?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600"},children:[n?"":"",n?`${o("common:loading")}...`:o("common:save")]}),a.jsxs("button",{type:"button",onClick:r,style:{background:"#6b7280",color:"white",padding:"12px 24px",borderRadius:"10px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:[" ",o("common:cancel")]})]})]})},fU=({selectedTemplate:t,isEditing:e,isCreating:n,handleEdit:s,handleCancel:r,handleToggleActivation:o,handleDelete:i})=>{const{t:l}=V(["common","templates"]);return a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsx("h2",{style:{fontSize:"24px",color:"#333",margin:0},children:n?l("templates:details.createTitle"):e?l("templates:details.editTitle"):t==null?void 0:t.libelle}),t&&!e&&!n&&a.jsxs("div",{style:{display:"flex",gap:"8px"},children:[a.jsxs("button",{onClick:s,style:{background:"#3b82f6",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:[" ",l("common:edit")]}),a.jsxs("button",{onClick:()=>o(t),style:{background:t.actif?"#ef4444":"#10b981",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:[t.actif?"":"",t.actif?l("common:deactivate"):l("common:activate")]}),a.jsxs("button",{onClick:()=>i(t),style:{background:"#dc2626",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:[" ",l("common:delete")]})]}),(e||n)&&a.jsx("div",{style:{display:"flex",gap:"8px"},children:a.jsxs("button",{onClick:r,style:{background:"#6b7280",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:[" ",l("common:cancel")]})})]})},pU=t=>{const{t:e,ready:n}=V(["common","templates"]);return n?t.loading?a.jsx(Pg,{message:e("common:loading")}):a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"300px 1fr",gap:"20px",minHeight:"600px"},children:[a.jsx(cU,{templates:t.templates,selectedTemplate:t.selectedTemplate,handleSelectTemplate:t.handleSelectTemplate,handleCreateNew:t.handleCreateNew}),a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[t.message&&a.jsx(gU,{message:t.message}),!t.selectedTemplate&&!t.isCreating?a.jsx(mU,{}):a.jsxs(a.Fragment,{children:[a.jsx(fU,{selectedTemplate:t.selectedTemplate,isEditing:t.isEditing,isCreating:t.isCreating,handleEdit:t.handleEdit,handleCancel:t.handleCancel,handleToggleActivation:t.handleToggleActivation,handleDelete:t.handleDelete}),t.isEditing||t.isCreating?a.jsx(hU,{initialData:t.selectedTemplate||void 0,isCreating:t.isCreating,saving:t.saving,onSubmit:t.handleSubmit,onCancel:t.handleCancel}):t.selectedTemplate&&a.jsx(uU,{selectedTemplate:t.selectedTemplate,testing:t.testing,testResult:t.testResult,handleTestTemplate:t.handleTestTemplate,loadTemplates:t.loadTemplates})]})]})]}):a.jsx(Pg,{message:"Chargement des traductions..."})},Pg=({message:t})=>a.jsx("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:a.jsx("div",{children:t})}),gU=({message:t})=>a.jsx("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",background:t.includes("")?"#d1fae5":"#fee2e2",color:t.includes("")?"#065f46":"#991b1b",border:`1px solid ${t.includes("")?"#a7f3d0":"#fecaca"}`},children:t}),mU=()=>{const{t}=V(["templates"]);return a.jsxs("div",{style:{textAlign:"center",color:"#6b7280",padding:"40px"},children:[a.jsx("h3",{style:{fontSize:"20px",marginBottom:"10px"},children:t("templates:details.noSelection")}),a.jsx("p",{children:t("templates:details.selectOrCreate")})]})};class xU{async getAllTemplates(){try{return(await A.get("/notification-templates")).data}catch(e){return console.error("Erreur TemplateService.getAllTemplates:",e),[]}}async getTemplateByCode(e){var n;try{return(await A.get(`/notification-templates/${e}`)).data}catch(s){return((n=s.response)==null?void 0:n.status)===404?(console.log(`Template avec le code ${e} non trouv`),null):(console.error("Erreur TemplateService.getTemplateByCode:",s),null)}}async getTemplateById(e){var n;try{return(await A.get(`/notification-templates/id/${e}`)).data}catch(s){return((n=s.response)==null?void 0:n.status)===404?(console.log(`Template avec l'ID ${e} non trouv`),null):(console.error("Erreur TemplateService.getTemplateById:",s),null)}}async createTemplate(e){var n,s,r;try{console.log(" Cration du template:",e);const o=await A.post("/notification-templates",e);return console.log(" Template cr avec succs:",o.data),o.data}catch(o){throw console.error(" Erreur TemplateService.createTemplate:",o),console.error(" Dtails de l'erreur:",(n=o.response)==null?void 0:n.data),new Error(((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.message)||"Erreur lors de la cration du template")}}async updateTemplate(e,n){var s,r,o;try{console.log(" Mise  jour du template ID:",e,n);const i=await A.put(`/notification-templates/${e}`,n);return console.log(" Template mis  jour avec succs:",i.data),i.data}catch(i){throw console.error(" Erreur TemplateService.updateTemplate:",i),console.error(" Dtails de l'erreur:",(s=i.response)==null?void 0:s.data),new Error(((o=(r=i.response)==null?void 0:r.data)==null?void 0:o.message)||"Erreur lors de la mise  jour du template")}}async toggleTemplateActivation(e){var n,s,r;try{console.log(" Activation/Dsactivation du template ID:",e);const o=await A.patch(`/notification-templates/${e}/toggle-activation`);return console.log(" Statut du template modifi avec succs:",o.data),o.data}catch(o){throw console.error(" Erreur TemplateService.toggleTemplateActivation:",o),console.error(" Dtails de l'erreur:",(n=o.response)==null?void 0:n.data),new Error(((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.message)||"Erreur lors de la modification du statut")}}async deleteTemplate(e){var n,s,r;try{return console.log(" Suppression du template ID:",e),await A.delete(`/notification-templates/${e}`),console.log(" Template supprim avec succs"),!0}catch(o){throw console.error(" Erreur TemplateService.deleteTemplate:",o),console.error(" Dtails de l'erreur:",(n=o.response)==null?void 0:n.data),new Error(((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.message)||"Erreur lors de la suppression du template")}}async testTemplate(e,n){var s,r,o;try{console.log(" Test du template:",e,n);const i={variables:n},l=await A.post(`/notification-templates/${e}/test`,i);return console.log(" Test du template russi"),l.data}catch(i){throw console.error(" Erreur TemplateService.testTemplate:",i),console.error(" Dtails de l'erreur:",(s=i.response)==null?void 0:s.data),new Error(((o=(r=i.response)==null?void 0:r.data)==null?void 0:o.message)||"Erreur lors du test du template")}}async getTemplatesByCanal(e){try{return(await A.get(`/notification-templates/canal/${e}`)).data}catch(n){return console.error("Erreur TemplateService.getTemplatesByCanal:",n),[]}}async duplicateTemplate(e,n){var s,r,o;try{console.log(" Duplication du template ID:",e,"avec le nouveau code:",n);const i=await A.post(`/notification-templates/${e}/duplicate`,{newCode:n});return console.log(" Template dupliqu avec succs:",i.data),i.data}catch(i){throw console.error(" Erreur TemplateService.duplicateTemplate:",i),console.error(" Dtails de l'erreur:",(s=i.response)==null?void 0:s.data),new Error(((o=(r=i.response)==null?void 0:r.data)==null?void 0:o.message)||"Erreur lors de la duplication du template")}}getDefaultTestVariables(e){return{...{reference:"TICKET-2024-001",titre:"Problme de connexion",utilisateur:"Jean Dupont",ancienStatut:"En attente",nouveauStatut:"En cours",code:"123456",dateIntervention:"15/11/2024  14:30"},...{CREATION_TICKET:{reference:"TICKET-2024-001",titre:"Problme de connexion internet",utilisateur:"Marie Martin"},MODIFICATION_STATUT_TICKET:{reference:"TICKET-2024-001",ancienStatut:"En attente",nouveauStatut:"En cours de traitement",utilisateur:"Pierre Durand"},AJOUT_SOLUTION:{reference:"TICKET-2024-001",titre:"Solution pour le problme de connexion",utilisateur:"Sophie Laurent"},CLOTURE_TICKET:{reference:"TICKET-2024-001",titre:"Problme de connexion rsolu",utilisateur:"Luc Bernard"},CODE_VALIDATION:{code:"987654"},INTERVENTION_PLANIFIEE:{reference:"TICKET-2024-001",dateIntervention:"20/11/2024  10:00",utilisateur:"Nathalie Petit"},INTERVENTION_CONFIRMEE:{reference:"TICKET-2024-001",dateIntervention:"20/11/2024  10:00",utilisateur:"Thomas Moreau"}}[e]||{}}}formatTemplatePreview(e,n=100){if(!e)return"";const r=e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();return r.length<=n?r:r.substring(0,n)+"..."}validateTemplateData(e){const n=[];return(!e.code||e.code.trim().length===0)&&n.push("Le code du template est obligatoire"),(!e.libelle||e.libelle.trim().length===0)&&n.push("Le libell du template est obligatoire"),(!e.canal||e.canal.trim().length===0)&&n.push("Le canal du template est obligatoire"),(!e.sujet||e.sujet.trim().length===0)&&n.push("Le sujet du template est obligatoire"),(!e.contenuHtml||e.contenuHtml.trim().length===0)&&n.push("Le contenu HTML du template est obligatoire"),n}}const xn=new xU,yU=()=>{const[t,e]=S.useState([]),[n,s]=S.useState(null),[r,o]=S.useState(!0),[i,l]=S.useState(!1),[c,d]=S.useState(!1),[u,h]=S.useState(""),[f,m]=S.useState(!1),[g,p]=S.useState(!1),[x,b]=S.useState("");S.useEffect(()=>{y()},[]);const y=async()=>{try{o(!0);const _=await xn.getAllTemplates();e(_),h("")}catch(_){console.error("Erreur chargement des templates:",_),h(" Erreur lors du chargement des templates")}finally{o(!1)}};return{templates:t,selectedTemplate:n,loading:r,saving:i,testing:c,message:u,isEditing:f,isCreating:g,testResult:x,setMessage:h,setSelectedTemplate:s,loadTemplates:y,handleSelectTemplate:_=>{s(_),m(!1),p(!1),b("")},handleCreateNew:()=>{s(null),m(!1),p(!0),b("")},handleEdit:()=>{n&&(m(!0),p(!1))},handleCancel:()=>{m(!1),p(!1),b("")},handleSubmit:async _=>{l(!0),h("");try{const M=xn.validateTemplateData(_);if(M.length>0){h(" "+M.join(", "));return}if(g){const U=await xn.createTemplate(_);U&&(h(" Template cr avec succs!"),await y(),s(U),p(!1))}else if(f&&n){const U=await xn.updateTemplate(n.id,_);U&&(h(" Template mis  jour avec succs!"),await y(),s(U),m(!1))}}catch(M){console.error("Erreur sauvegarde template:",M),h(" Erreur lors de la sauvegarde: "+M.message)}finally{l(!1)}},handleDelete:async _=>{if(confirm(`tes-vous sr de vouloir supprimer le template "${_.libelle}" ?`))try{await xn.deleteTemplate(_.id)&&(h(" Template supprim avec succs!"),(n==null?void 0:n.id)===_.id&&(s(null),m(!1),p(!1)),await y())}catch(M){console.error("Erreur suppression template:",M),h(" Erreur lors de la suppression: "+M.message)}},handleToggleActivation:async _=>{try{const M=await xn.toggleTemplateActivation(_.id);M&&(h(` Template ${M.actif?"activ":"dsactiv"} avec succs!`),(n==null?void 0:n.id)===_.id&&s(M),await y())}catch(M){console.error("Erreur activation/dsactivation template:",M),h(" Erreur lors de la modification: "+M.message)}},handleTestTemplate:async()=>{if(n){d(!0),b("");try{const _=xn.getDefaultTestVariables(n.code),M=await xn.testTemplate(n.code,_);b(M),h(" Test du template russi!")}catch(_){console.error("Erreur test template:",_),h(" Erreur lors du test: "+_.message)}finally{d(!1)}}}}};class bU{async getConfigurations(){try{return(await A.get("/admin/scheduling/configurations")).data}catch(e){throw console.error("Erreur SchedulingService.getConfigurations:",e),new Error("Erreur lors du chargement des configurations")}}async getConfigurationOptions(){try{return(await A.get("/admin/scheduling/configuration-options")).data}catch(e){throw console.error("Erreur SchedulingService.getConfigurationOptions:",e),new Error("Erreur lors du chargement des options")}}async createConfiguration(e){var n,s;try{return(await A.post("/admin/scheduling/configurations",e)).data}catch(r){throw console.error("Erreur SchedulingService.createConfiguration:",r),new Error(((s=(n=r.response)==null?void 0:n.data)==null?void 0:s.error)||"Erreur lors de la cration")}}async updateConfiguration(e,n){var s,r;try{return(await A.put(`/admin/scheduling/configurations/${e}`,n)).data}catch(o){throw console.error("Erreur SchedulingService.updateConfiguration:",o),new Error(((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Erreur lors de la mise  jour")}}async toggleJob(e,n){var s,r;try{await A.patch(`/admin/scheduling/configurations/${e}/toggle`,{enabled:n})}catch(o){throw console.error("Erreur SchedulingService.toggleJob:",o),new Error(((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Erreur lors de la modification")}}async deleteConfiguration(e){var n,s;try{await A.delete(`/admin/scheduling/configurations/${e}`)}catch(r){throw console.error("Erreur SchedulingService.deleteConfiguration:",r),new Error(((s=(n=r.response)==null?void 0:n.data)==null?void 0:s.error)||"Erreur lors de la suppression")}}async getStatus(){try{return(await A.get("/admin/scheduling/status")).data}catch(e){throw console.error("Erreur SchedulingService.getStatus:",e),new Error("Erreur lors du chargement du statut")}}async testCronExpression(e){var n,s;try{return(await A.post("/admin/scheduling/test-cron",{cronExpression:e})).data.valid}catch(r){throw console.error("Erreur SchedulingService.testCronExpression:",r),new Error(((s=(n=r.response)==null?void 0:n.data)==null?void 0:s.error)||"Erreur lors du test")}}async reloadCache(){var e,n;try{await A.post("/admin/scheduling/reload-cache")}catch(s){throw console.error("Erreur SchedulingService.reloadCache:",s),new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.error)||"Erreur lors du rechargement")}}}const yn=new bU,vU=()=>{const[t,e]=S.useState([]),[n,s]=S.useState(null),[r,o]=S.useState(null),[i,l]=S.useState(null),[c,d]=S.useState(!0),[u,h]=S.useState(!1),[f,m]=S.useState(""),[g,p]=S.useState(!1),[x,b]=S.useState(!1);S.useEffect(()=>{y()},[]);const y=async()=>{try{d(!0);const[_,M,U]=await Promise.all([yn.getConfigurations(),yn.getConfigurationOptions(),yn.getStatus()]);e(_),o(M),l(U),m("")}catch(_){console.error("Erreur chargement des donnes:",_),m(" Erreur lors du chargement des donnes")}finally{d(!1)}};return{configurations:t,selectedConfig:n,options:r,status:i,loading:c,saving:u,message:f,isEditing:g,isCreating:x,setMessage:m,setSelectedConfig:s,loadData:y,handleSelectConfig:_=>{s(_),p(!1),b(!1)},handleCreateNew:()=>{s(null),p(!1),b(!0)},handleEdit:()=>{n&&(p(!0),b(!1))},handleCancel:()=>{p(!1),b(!1)},handleSubmit:async _=>{h(!0),m("");try{x?(await yn.createConfiguration(_),m(" Configuration cre avec succs!")):g&&n&&(await yn.updateConfiguration(n.jobName,_),m(" Configuration mise  jour avec succs!")),await y(),p(!1),b(!1)}catch(M){console.error("Erreur sauvegarde configuration:",M),m(" Erreur lors de la sauvegarde: "+M.message)}finally{h(!1)}},handleDelete:async _=>{if(confirm(`tes-vous sr de vouloir supprimer la configuration "${_.jobName}" ?`))try{await yn.deleteConfiguration(_.jobName),m(" Configuration supprime avec succs!"),(n==null?void 0:n.id)===_.id&&(s(null),p(!1),b(!1)),await y()}catch(M){console.error("Erreur suppression configuration:",M),m(" Erreur lors de la suppression: "+M.message)}},handleToggleActivation:async _=>{try{await yn.toggleJob(_.jobName,!_.enabled),m(` Configuration ${_.enabled?"dsactive":"active"} avec succs!`),await y()}catch(M){console.error("Erreur activation/dsactivation:",M),m(" Erreur lors de la modification: "+M.message)}},handleReloadCache:async()=>{try{await yn.reloadCache(),m(" Cache recharg avec succs!"),await y()}catch(_){console.error("Erreur rechargement cache:",_),m(" Erreur lors du rechargement: "+_.message)}}}},SU=({configurations:t,selectedConfig:e,onSelectConfig:n,onCreateNew:s})=>{const{t:r}=V(["scheduling","common"]);return a.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsx("h3",{style:{fontSize:"18px",color:"#333",margin:0},children:r("scheduling:list.title")}),a.jsxs("button",{onClick:s,style:{background:"#10b981",color:"white",padding:"8px 12px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:["+ ",r("scheduling:list.new")]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.map(o=>a.jsx(wU,{config:o,isSelected:(e==null?void 0:e.id)===o.id,onSelect:()=>n(o)},o.id)),t.length===0&&a.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"20px",fontStyle:"italic"},children:r("scheduling:list.empty")})]})]})},wU=({config:t,isSelected:e,onSelect:n})=>a.jsx("div",{onClick:n,style:{padding:"12px",borderRadius:"8px",border:`2px solid ${e?"#3b82f6":"#e5e7eb"}`,background:e?"#f0f9ff":"white",cursor:"pointer",transition:"all 0.2s"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:"600",color:t.enabled?"#333":"#9ca3af",textDecoration:t.enabled?"none":"line-through"},children:t.jobName}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:t.displayName}),a.jsx("div",{style:{fontSize:"12px",color:"#9ca3af"},children:t.jobDescription})]}),a.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:t.enabled?"#10b981":"#ef4444",marginLeft:"8px"}})]})}),kU=({selectedConfig:t,isEditing:e,isCreating:n,status:s,onEdit:r,onCancel:o,onReloadCache:i})=>{const{t:l}=V(["common","scheduling"]);return a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"28px",color:"#333",margin:"0 0 8px 0"},children:l("scheduling:title")}),s&&a.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:l("scheduling:status.activeJobs",{active:s.activeJobs,total:s.totalJobs})})]}),a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[a.jsxs("button",{onClick:i,style:{background:"#8b5cf6",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:[" ",l("scheduling:reloadCache")]}),t&&!e&&!n&&a.jsxs("button",{onClick:r,style:{background:"#3b82f6",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:[" ",l("common:edit")]}),(e||n)&&a.jsxs("button",{onClick:o,style:{background:"#6b7280",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:[" ",l("common:cancel")]})]})]})},jU=({config:t,options:e,isEditing:n,isCreating:s,saving:r,onSubmit:o,onCancel:i})=>{const{t:l}=V(["scheduling","common"]),c={frequencies:[{value:"HOURLY",label:"Toutes les heures",cron:"0 0 * * * *"},{value:"DAILY",label:"Tous les jours",cron:"0 0 3 * * *"},{value:"WEEKLY",label:"Toutes les semaines",cron:"0 0 3 * * 1"},{value:"MONTHLY",label:"Tous les mois",cron:"0 0 3 1 * *"},{value:"EVERY_30_MIN",label:"Toutes les 30 minutes",cron:"0 */30 * * * *"},{value:"EVERY_2_HOURS",label:"Toutes les 2 heures",cron:"0 0 */2 * * *"},{value:"EVERY_6_HOURS",label:"Toutes les 6 heures",cron:"0 0 */6 * * *"},{value:"CUSTOM",label:"Personnalis",cron:""}],hours:Array.from({length:24},(p,x)=>({value:x.toString(),label:`${x.toString().padStart(2,"0")}h`})),minutes:[{value:"0",label:"00"},{value:"15",label:"15"},{value:"30",label:"30"},{value:"45",label:"45"}],daysOfWeek:[{value:"1",label:"Lundi"},{value:"2",label:"Mardi"},{value:"3",label:"Mercredi"},{value:"4",label:"Jeudi"},{value:"5",label:"Vendredi"},{value:"6",label:"Samedi"},{value:"7",label:"Dimanche"}],daysOfMonth:Array.from({length:31},(p,x)=>({value:(x+1).toString(),label:(x+1).toString()}))},d=e||c,[u,h]=S.useState({jobName:"",jobDescription:"",frequency:"DAILY",hour:"3",minute:"0",dayOfWeek:"1",dayOfMonth:"1",customCron:"",enabled:!0,modifiedBy:"admin"});S.useEffect(()=>{if(t&&n){const p=t.scheduleParams||{};h(x=>({...x,jobName:t.jobName,jobDescription:t.jobDescription||"",frequency:p.frequency||"DAILY",hour:p.hour||"3",minute:p.minute||"0",dayOfWeek:p.dayOfWeek||"1",dayOfMonth:p.dayOfMonth||"1",customCron:p.customCron||"",enabled:t.enabled}))}},[t,n]);const f=(p,x)=>{h(b=>({...b,[p]:x}))},m=p=>{var x;if(p.preventDefault(),s&&!u.jobName.trim()){alert(l("scheduling:form.errors.jobNameRequired"));return}if(u.frequency==="CUSTOM"&&!((x=u.customCron)!=null&&x.trim())){alert(l("scheduling:form.errors.customCronRequired"));return}o(u)},g=()=>{switch(u.frequency){case"DAILY":return a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:l("scheduling:form.hour")}),a.jsx("select",{value:u.hour,onChange:p=>f("hour",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:d.hours.map(p=>a.jsx("option",{value:p.value,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:l("scheduling:form.minute")}),a.jsx("select",{value:u.minute,onChange:p=>f("minute",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:d.minutes.map(p=>a.jsx("option",{value:p.value,children:p.label},p.value))})]})]});case"WEEKLY":return a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px",marginBottom:"16px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:l("scheduling:form.dayOfWeek")}),a.jsx("select",{value:u.dayOfWeek,onChange:p=>f("dayOfWeek",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:d.daysOfWeek.map(p=>a.jsx("option",{value:p.value,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:l("scheduling:form.hour")}),a.jsx("select",{value:u.hour,onChange:p=>f("hour",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:d.hours.map(p=>a.jsx("option",{value:p.value,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:l("scheduling:form.minute")}),a.jsx("select",{value:u.minute,onChange:p=>f("minute",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:d.minutes.map(p=>a.jsx("option",{value:p.value,children:p.label},p.value))})]})]});case"MONTHLY":return a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px",marginBottom:"16px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:l("scheduling:form.dayOfMonth")}),a.jsx("select",{value:u.dayOfMonth,onChange:p=>f("dayOfMonth",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:d.daysOfMonth.map(p=>a.jsx("option",{value:p.value,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:l("scheduling:form.hour")}),a.jsx("select",{value:u.hour,onChange:p=>f("hour",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:d.hours.map(p=>a.jsx("option",{value:p.value,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:l("scheduling:form.minute")}),a.jsx("select",{value:u.minute,onChange:p=>f("minute",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:d.minutes.map(p=>a.jsx("option",{value:p.value,children:p.label},p.value))})]})]});case"CUSTOM":return a.jsxs("div",{style:{marginBottom:"16px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:[l("scheduling:form.customCron")," *"]}),a.jsx("input",{type:"text",value:u.customCron,onChange:p=>f("customCron",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",fontFamily:"monospace"},placeholder:"0 0 3 * * *"}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:l("scheduling:form.cronHelp")})]});default:return null}};return a.jsxs("form",{onSubmit:m,style:{maxWidth:"600px"},children:[a.jsx("h3",{style:{fontSize:"20px",color:"#333",marginBottom:"20px"},children:l(s?"scheduling:form.createTitle":"scheduling:form.editTitle")}),s&&a.jsxs("div",{style:{marginBottom:"16px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:[l("scheduling:form.jobName")," *"]}),a.jsx("input",{type:"text",value:u.jobName,onChange:p=>f("jobName",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},placeholder:l("scheduling:form.jobNamePlaceholder")})]}),a.jsxs("div",{style:{marginBottom:"16px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:l("scheduling:form.jobDescription")}),a.jsx("input",{type:"text",value:u.jobDescription,onChange:p=>f("jobDescription",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},placeholder:l("scheduling:form.jobDescriptionPlaceholder")})]}),a.jsxs("div",{style:{marginBottom:"16px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"4px",fontWeight:"500",color:"#374151"},children:[l("scheduling:form.frequency")," *"]}),a.jsx("select",{value:u.frequency,onChange:p=>f("frequency",p.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",background:"white"},children:d.frequencies.map(p=>a.jsx("option",{value:p.value,children:p.label},p.value))})]}),g(),a.jsx("div",{style:{marginBottom:"24px"},children:a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:u.enabled,onChange:p=>f("enabled",p.target.checked),style:{width:"16px",height:"16px"}}),a.jsx("span",{style:{fontWeight:"500",color:"#374151"},children:l("scheduling:form.enabled")})]})}),a.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[a.jsx("button",{type:"button",onClick:i,disabled:r,style:{background:"#6b7280",color:"white",padding:"10px 20px",borderRadius:"8px",border:"none",cursor:r?"not-allowed":"pointer",fontSize:"14px",opacity:r?.6:1},children:l("common:cancel")}),a.jsxs("button",{type:"submit",disabled:r,style:{background:"#10b981",color:"white",padding:"10px 20px",borderRadius:"8px",border:"none",cursor:r?"not-allowed":"pointer",fontSize:"14px",opacity:r?.6:1},children:[r?"":""," ",l(r?"common:saving":"common:save")]})]})]})},CU=({config:t,onEdit:e,onToggleActivation:n,onDelete:s})=>{const{t:r}=V(["scheduling","common"]),o=c=>c?"#10b981":"#ef4444",i=c=>r(c?"common:active":"common:inactive"),l=c=>new Date(c).toLocaleString("fr-FR");return a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"24px",color:"#333",margin:"0 0 8px 0"},children:t.jobName}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:o(t.enabled)}}),a.jsx("span",{style:{color:o(t.enabled),fontWeight:"500"},children:i(t.enabled)})]})]}),a.jsxs("div",{style:{display:"flex",gap:"8px"},children:[a.jsxs("button",{onClick:e,style:{background:"#3b82f6",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:[" ",r("common:edit")]}),a.jsxs("button",{onClick:()=>n(t),style:{background:t.enabled?"#ef4444":"#10b981",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:[t.enabled?"":"",t.enabled?r("common:deactivate"):r("common:activate")]}),a.jsxs("button",{onClick:()=>s(t),style:{background:"#dc2626",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:[" ",r("common:delete")]})]})]}),a.jsxs("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[a.jsx("h3",{style:{fontSize:"16px",color:"#374151",margin:"0 0 16px 0"},children:r("scheduling:details.basicInfo")}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:r("scheduling:details.description")}),a.jsx("div",{style:{color:"#374151",fontWeight:"500"},children:t.jobDescription||r("scheduling:details.noDescription")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:r("scheduling:details.scheduleType")}),a.jsx("div",{style:{color:"#374151",fontWeight:"500"},children:t.scheduleType})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:r("scheduling:details.displayName")}),a.jsx("div",{style:{color:"#374151",fontWeight:"500"},children:t.displayName})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:r("scheduling:details.cronExpression")}),a.jsx("div",{style:{color:"#374151",fontWeight:"500",fontFamily:"monospace",fontSize:"14px"},children:t.cronExpression})]})]})]}),a.jsxs("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[a.jsx("h3",{style:{fontSize:"16px",color:"#374151",margin:"0 0 16px 0"},children:r("scheduling:details.metadata")}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:r("scheduling:details.createdDate")}),a.jsx("div",{style:{color:"#374151",fontSize:"14px"},children:l(t.createdDate)})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:r("scheduling:details.lastModified")}),a.jsx("div",{style:{color:"#374151",fontSize:"14px"},children:l(t.lastModified)})]}),t.lastModifiedBy&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:r("scheduling:details.lastModifiedBy")}),a.jsx("div",{style:{color:"#374151",fontSize:"14px"},children:t.lastModifiedBy})]})]})]}),t.scheduleParams&&a.jsxs("div",{style:{background:"#f0f9ff",padding:"20px",borderRadius:"8px",border:"1px solid #bae6fd"},children:[a.jsx("h3",{style:{fontSize:"16px",color:"#0369a1",margin:"0 0 16px 0"},children:r("scheduling:details.scheduleParams")}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"},children:[t.scheduleParams.frequency&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#0284c7",marginBottom:"4px"},children:r("scheduling:form.frequency")}),a.jsx("div",{style:{color:"#0369a1",fontWeight:"500"},children:t.scheduleParams.frequency})]}),t.scheduleParams.hour&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#0284c7",marginBottom:"4px"},children:r("scheduling:form.hour")}),a.jsxs("div",{style:{color:"#0369a1",fontWeight:"500"},children:[t.scheduleParams.hour,"h"]})]}),t.scheduleParams.minute&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#0284c7",marginBottom:"4px"},children:r("scheduling:form.minute")}),a.jsxs("div",{style:{color:"#0369a1",fontWeight:"500"},children:[t.scheduleParams.minute,"min"]})]}),t.scheduleParams.dayOfWeek&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#0284c7",marginBottom:"4px"},children:r("scheduling:form.dayOfWeek")}),a.jsx("div",{style:{color:"#0369a1",fontWeight:"500"},children:t.scheduleParams.dayOfWeek})]}),t.scheduleParams.dayOfMonth&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"12px",color:"#0284c7",marginBottom:"4px"},children:r("scheduling:form.dayOfMonth")}),a.jsx("div",{style:{color:"#0369a1",fontWeight:"500"},children:t.scheduleParams.dayOfMonth})]})]})]})]})},TU=({status:t})=>{const{t:e}=V(["scheduling"]),n=r=>new Date(r).toLocaleString("fr-FR"),s=r=>r?"#10b981":"#6b7280";return a.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",marginTop:"20px"},children:[a.jsx("h3",{style:{fontSize:"18px",color:"#333",margin:"0 0 16px 0"},children:e("scheduling:status.title")}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"20px"},children:[a.jsxs("div",{style:{background:"#f0f9ff",padding:"16px",borderRadius:"8px",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#0369a1"},children:t.totalJobs}),a.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:e("scheduling:status.totalJobs")})]}),a.jsxs("div",{style:{background:"#f0fdf4",padding:"16px",borderRadius:"8px",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#16a34a"},children:t.activeJobs}),a.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:e("scheduling:status.activeJobs")})]}),a.jsxs("div",{style:{background:"#fffbeb",padding:"16px",borderRadius:"8px",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#d97706"},children:t.totalJobs-t.activeJobs}),a.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:e("scheduling:status.inactiveJobs")})]})]}),a.jsx("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"6px",marginBottom:"16px"},children:a.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[e("scheduling:status.lastChecked"),": ",n(t.lastChecked)]})}),a.jsxs("div",{children:[a.jsx("h4",{style:{fontSize:"16px",color:"#374151",margin:"0 0 12px 0"},children:e("scheduling:status.jobsList")}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.entries(t.jobs).map(([r,o])=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",background:"#f8fafc",borderRadius:"6px",borderLeft:`4px solid ${s(o.enabled)}`},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"500",color:"#374151"},children:r}),a.jsx("div",{style:{fontSize:"12px",color:"#6b7280",fontFamily:"monospace"},children:o.cronExpression})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:s(o.enabled)}}),a.jsx("span",{style:{fontSize:"12px",color:s(o.enabled),fontWeight:"500"},children:o.enabled?e("common:active"):e("common:inactive")})]})]},r))})]})]})},EU=()=>{const{t}=V(["scheduling","common"]),{configurations:e,selectedConfig:n,options:s,status:r,loading:o,saving:i,message:l,isEditing:c,isCreating:d,handleSelectConfig:u,handleCreateNew:h,handleEdit:f,handleCancel:m,handleSubmit:g,handleDelete:p,handleToggleActivation:x,handleReloadCache:b}=vU();return o?a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",color:"#6b7280"},children:[t("common:loading"),"..."]}):a.jsxs("div",{style:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},children:[a.jsx(kU,{selectedConfig:n,isEditing:c,isCreating:d,status:r,onEdit:f,onCancel:m,onReloadCache:b}),l&&a.jsx("div",{style:{padding:"12px",borderRadius:"8px",marginBottom:"20px",background:l.includes("")?"#fef2f2":"#f0fdf4",color:l.includes("")?"#dc2626":"#16a34a",border:`1px solid ${l.includes("")?"#fecaca":"#bbf7d0"}`},children:l}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"400px 1fr",gap:"20px"},children:[a.jsx(SU,{configurations:e,selectedConfig:n,onSelectConfig:u,onCreateNew:h}),a.jsx("div",{style:{background:"white",padding:"20px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",minHeight:"500px"},children:d||c?a.jsx(jU,{config:n,options:s,isEditing:c,isCreating:d,saving:i,onSubmit:g,onCancel:m}):n?a.jsx(CU,{config:n,onEdit:f,onToggleActivation:x,onDelete:p}):a.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"40px",fontStyle:"italic"},children:t("scheduling:selectOrCreate")})})]}),r&&a.jsx(TU,{status:r})]})},_U=()=>{const[t,e]=S.useState("email"),n=yU(),s=[{id:"email",label:"Email",component:Y7},{id:"general",label:"Gnral",component:K7},{id:"whatsapp",label:"Whatsapp",component:lU},{id:"workflow",label:"Workflow Notifications",component:X7},{id:"sla",label:"SLA",component:()=>a.jsx("div",{children:"Configuration SLA"})},{id:"credits",label:"Crdits",component:()=>a.jsx("div",{children:"Gestion des crdits"})},{id:"backup",label:"Synchronisation",component:oU},{id:"template",label:"Configuration templates",component:()=>a.jsx(pU,{...n})},{id:"scheduling",label:"Planification",component:EU}],r=()=>{const o=s.find(l=>l.id===t);if(!o)return null;const i=o.component;return a.jsx(i,{})};return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"ADMIN"}),a.jsxs("div",{style:{padding:"40px 60px"},children:[a.jsx("h1",{style:{fontSize:"42px",color:"#17a2b8",marginBottom:"30px",fontWeight:"bold"},children:"Configurations"}),a.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"30px",borderBottom:"2px solid #e5e7eb",flexWrap:"wrap"},children:s.map(o=>a.jsx("button",{onClick:()=>e(o.id),style:{background:t===o.id?"#17a2b8":"transparent",color:t===o.id?"white":"#666",padding:"12px 30px",border:"none",borderRadius:"10px 10px 0 0",cursor:"pointer",fontSize:"16px",fontWeight:t===o.id?"600":"400",transition:"all 0.3s ease",whiteSpace:"nowrap"},children:o.label},o.id))}),r()]})]})};function RU({filtres:t,onFiltresChange:e}){const{t:n}=V(["common","users"]),s=(r,o)=>{e({...t,[r]:o})};return a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"30px",background:"white",padding:"30px",borderRadius:"15px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:n("users:search")}),a.jsx("input",{type:"text",placeholder:n("users:searchPlaceholder"),value:t.recherche,onChange:r=>s("recherche",r.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:n("common:status")}),a.jsxs("select",{value:t.actif,onChange:r=>s("actif",r.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"},children:[a.jsx("option",{value:"",children:n("common:all")}),a.jsx("option",{value:"true",children:n("common:active")}),a.jsx("option",{value:"false",children:n("common:inactive")})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:n("users:startDate")}),a.jsx("input",{type:"date",value:t.dateDebut,onChange:r=>s("dateDebut",r.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:n("users:endDate")}),a.jsx("input",{type:"date",value:t.dateFin,onChange:r=>s("dateFin",r.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"1px solid #ddd"}})]})]})}function PU({utilisateurs:t,onVoirDetails:e}){const{t:n}=V(["common","users"]),[s,r]=S.useState("nom"),[o,i]=S.useState("ASC"),l=p=>n(p?"common:active":"common:inactive"),c=p=>p||n("users:notDefined"),d=p=>n(p?"users:client":"users:consultant"),u=p=>{s===p?i(o==="ASC"?"DESC":"ASC"):(r(p),i("ASC"))},h=[...t].sort((p,x)=>{var v,w,k,j,C,T;if(o===null)return 0;let b,y;switch(s){case"nom":b=((v=p.nom)==null?void 0:v.toLowerCase())||"",y=((w=x.nom)==null?void 0:w.toLowerCase())||"";break;case"prenom":b=((k=p.prenom)==null?void 0:k.toLowerCase())||"",y=((j=x.prenom)==null?void 0:j.toLowerCase())||"";break;case"email":b=((C=p.email)==null?void 0:C.toLowerCase())||"",y=((T=x.email)==null?void 0:T.toLowerCase())||"";break;case"companyName":b=c(p.companyName).toLowerCase(),y=c(x.companyName).toLowerCase();break;case"poste":b=d(p.idExterneCrm).toLowerCase(),y=d(x.idExterneCrm).toLowerCase();break;case"actif":b=p.actif,y=x.actif;break;default:return 0}return b<y?o==="ASC"?-1:1:b>y?o==="ASC"?1:-1:0}),f=({field:p})=>s!==p?a.jsx("span",{style:{marginLeft:"5px",opacity:.3},children:""}):a.jsx("span",{style:{marginLeft:"5px"},children:o==="ASC"?"":""}),m={padding:"15px",textAlign:"left",borderBottom:"2px solid #e2e8f0",cursor:"pointer",userSelect:"none",position:"relative",background:"#f8fafc",transition:"background-color 0.2s ease"},g={backgroundColor:"#e2e8f0"};return a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",borderRadius:"15px",overflow:"hidden"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{style:m,onClick:()=>u("nom"),onMouseEnter:p=>{p.currentTarget.style.backgroundColor=g.backgroundColor},onMouseLeave:p=>{p.currentTarget.style.backgroundColor=m.background},children:[n("users:lastName"),a.jsx(f,{field:"nom"})]}),a.jsxs("th",{style:m,onClick:()=>u("prenom"),onMouseEnter:p=>{p.currentTarget.style.backgroundColor=g.backgroundColor},onMouseLeave:p=>{p.currentTarget.style.backgroundColor=m.background},children:[n("users:firstName"),a.jsx(f,{field:"prenom"})]}),a.jsxs("th",{style:m,onClick:()=>u("email"),onMouseEnter:p=>{p.currentTarget.style.backgroundColor=g.backgroundColor},onMouseLeave:p=>{p.currentTarget.style.backgroundColor=m.background},children:[n("users:email"),a.jsx(f,{field:"email"})]}),a.jsxs("th",{style:m,onClick:()=>u("companyName"),onMouseEnter:p=>{p.currentTarget.style.backgroundColor=g.backgroundColor},onMouseLeave:p=>{p.currentTarget.style.backgroundColor=m.background},children:[n("users:company"),a.jsx(f,{field:"companyName"})]}),a.jsxs("th",{style:m,onClick:()=>u("poste"),onMouseEnter:p=>{p.currentTarget.style.backgroundColor=g.backgroundColor},onMouseLeave:p=>{p.currentTarget.style.backgroundColor=m.background},children:[n("users:position"),a.jsx(f,{field:"poste"})]}),a.jsxs("th",{style:m,onClick:()=>u("actif"),onMouseEnter:p=>{p.currentTarget.style.backgroundColor=g.backgroundColor},onMouseLeave:p=>{p.currentTarget.style.backgroundColor=m.background},children:[n("common:status"),a.jsx(f,{field:"actif"})]}),a.jsx("th",{style:{padding:"15px",textAlign:"left",borderBottom:"2px solid #e2e8f0",background:"#f8fafc"},children:n("common:actions")})]})}),a.jsx("tbody",{children:h.map(p=>a.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[a.jsx("td",{style:{padding:"15px"},children:p.nom}),a.jsx("td",{style:{padding:"15px"},children:p.prenom}),a.jsx("td",{style:{padding:"15px"},children:p.email}),a.jsx("td",{style:{padding:"15px"},children:c(p.companyName)}),a.jsx("td",{style:{padding:"15px"},children:d(p.idExterneCrm)}),a.jsx("td",{style:{padding:"15px"},children:l(p.actif)}),a.jsx("td",{style:{padding:"15px"},children:a.jsx("button",{onClick:()=>e(p),style:{background:"#6dd5ed",color:"white",padding:"8px 20px",borderRadius:"20px",border:"none",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseEnter:x=>{x.currentTarget.style.backgroundColor="#4db8d8"},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="#6dd5ed"},children:n("users:viewDetails")})})]},p.id))})]})}function DU({onSubmit:t,onCancel:e}){const{t:n}=V(["common","users"]),[s,r]=S.useState({identifiant:"",nom:"",prenom:"",email:"",motDePasse:"",telephone:"",companyId:896,actif:1,idExterneCrm:"12345"}),o=l=>{l.preventDefault(),t(s)},i=(l,c)=>{r(d=>({...d,[l]:c}))};return a.jsxs("form",{onSubmit:o,children:[a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:["*",n("users:username"),":"]}),a.jsx("input",{type:"text",value:s.identifiant,onChange:l=>i("identifiant",l.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"none"},required:!0})]}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:["*",n("users:lastName"),":"]}),a.jsx("input",{type:"text",value:s.nom,onChange:l=>i("nom",l.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"none"},required:!0})]}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:["*",n("users:firstName"),":"]}),a.jsx("input",{type:"text",value:s.prenom,onChange:l=>i("prenom",l.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"none"},required:!0})]}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:["*",n("users:email"),":"]}),a.jsx("input",{type:"email",value:s.email,onChange:l=>i("email",l.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"none"},required:!0})]}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:["*",n("users:password"),":"]}),a.jsx("input",{type:"password",value:s.motDePasse,onChange:l=>i("motDePasse",l.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"none"},required:!0})]}),a.jsxs("div",{style:{marginBottom:"30px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:["*",n("users:phone"),":"]}),a.jsx("input",{type:"tel",value:s.telephone,onChange:l=>i("telephone",l.target.value),style:{width:"100%",padding:"10px",borderRadius:"20px",border:"none"},required:!0})]}),a.jsxs("div",{style:{display:"flex",gap:"10px"},children:[a.jsx("button",{type:"button",onClick:e,style:{flex:1,background:"#6b7280",color:"white",padding:"12px",borderRadius:"25px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:n("common:cancel")}),a.jsx("button",{type:"submit",style:{flex:1,background:"#10b981",color:"white",padding:"12px",borderRadius:"25px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:n("users:createUser")})]})]})}function AU({utilisateur:t,onClose:e}){const{t:n}=V(["common","users"]);return t?a.jsxs("div",{style:{color:"white"},children:[a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsxs("strong",{children:[n("users:lastName"),":"]})," ",t.nom]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsxs("strong",{children:[n("users:firstName"),":"]})," ",t.prenom]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsxs("strong",{children:[n("users:position"),":"]})," ",t.poste]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsxs("strong",{children:[n("users:company"),":"]})," ",t.societe]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsxs("strong",{children:[n("users:creationDate"),":"]})," ",t.dateCreation]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsxs("strong",{children:[n("users:email"),":"]})," ",t.email]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsxs("strong",{children:[n("common:status"),":"]})," ",t.etat]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsxs("strong",{children:[n("users:seniority"),":"]})," ",t.anciennete]}),t.telephone&&a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsxs("strong",{children:[n("users:phone"),":"]})," ",t.telephone]})]}):null}function IU(){Me();const{t}=V(["common","users"]),[e,n]=S.useState(!1),[s,r]=S.useState(!1),[o,i]=S.useState(null),[l,c]=S.useState([]),[d,u]=S.useState(!1),[h,f]=S.useState({pageCourante:0,totalPages:0,totalElements:0,taillePage:20}),[m,g]=S.useState({recherche:"",actif:"",dateDebut:"",dateFin:""}),p=async(v=0)=>{u(!0);try{const w=await go.searchUtilisateurs({page:v,size:h.taillePage,...m});c(w.utilisateurs),f({pageCourante:w.pageCourante,totalPages:w.totalPages,totalElements:w.totalElements,taillePage:w.taillePage})}catch(w){console.error("Erreur lors du chargement des utilisateurs:",w)}finally{u(!1)}};S.useEffect(()=>{p(0)},[m]);const x=async v=>{try{await go.createUser(v),await p(h.pageCourante),n(!1)}catch(w){console.error("Erreur lors de la cration:",w)}},b=v=>{i(v),r(!0)},y=v=>{p(v)};return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"ADMIN"}),a.jsxs("div",{style:{padding:"40px 60px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[a.jsxs("h1",{style:{fontSize:"42px",color:"#17a2b8",fontWeight:"bold"},children:[t("users:userList")," (",h.totalElements,")"]}),a.jsx("button",{onClick:()=>n(!0),style:{background:"#6dd5ed",color:"white",padding:"12px 28px",borderRadius:"25px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"500"},children:t("users:newUser")})]}),a.jsx(RU,{filtres:m,onFiltresChange:g}),d?a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:t("common:loading")}):a.jsxs(a.Fragment,{children:[a.jsx(PU,{utilisateurs:l,onVoirDetails:b}),h.totalPages>1&&a.jsxs("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px",gap:"10px"},children:[a.jsx("button",{onClick:()=>y(h.pageCourante-1),disabled:h.pageCourante===0,style:{padding:"8px 16px",borderRadius:"20px",border:"1px solid #ddd",background:h.pageCourante===0?"#f3f4f6":"white",cursor:h.pageCourante===0?"not-allowed":"pointer"},children:t("common:previous")}),a.jsxs("span",{style:{padding:"8px 16px"},children:[t("common:page")," ",h.pageCourante+1," ",t("common:of")," ",h.totalPages]}),a.jsx("button",{onClick:()=>y(h.pageCourante+1),disabled:h.pageCourante>=h.totalPages-1,style:{padding:"8px 16px",borderRadius:"20px",border:"1px solid #ddd",background:h.pageCourante>=h.totalPages-1?"#f3f4f6":"white",cursor:h.pageCourante>=h.totalPages-1?"not-allowed":"pointer"},children:t("common:next")})]})]})]}),a.jsx(Za,{isOpen:e,onClose:()=>n(!1),title:t("users:createUser"),children:a.jsx(DU,{onSubmit:x,onCancel:()=>n(!1)})}),a.jsx(Za,{isOpen:s,onClose:()=>r(!1),title:t("users:userDetails"),children:a.jsx(AU,{utilisateur:o,onClose:()=>r(!1)})})]})}const NU={labels:["Semaine 1","Semaine 2","Semaine 3","Semaine 4"],datasets:[{label:"Demandes cres",data:[0,0,0,0],backgroundColor:"rgba(59, 130, 246, 0.7)"},{label:"Demandes rsolues",data:[0,0,0,0],backgroundColor:"rgba(16, 185, 129, 0.7)"}]},$U={totalDemandes:0,demandesCreees:0,demandesResolues:0,tauxResolution:0,tempsMoyenReponse:0,evolutionMensuelle:{}},Hi={async genererRapport(t){try{return(await A.post("/rapports/generer",t)).data}catch(e){return console.error("Erreur lors de la gnration du rapport:",e),{statistiques:$U,donneesGraphique:NU,performancesConsultants:[],satisfaction:{repartition:{},moyenne:0,totalAvis:0}}}},async exporterPDF(t){try{return(await A.post("/rapports/export/pdf",t,{responseType:"blob"})).data}catch(e){throw console.error("Erreur lors de l'export PDF:",e),e}},async exporterExcel(t){try{return(await A.post("/rapports/export/excel",t,{responseType:"blob"})).data}catch(e){throw console.error("Erreur lors de l'export Excel:",e),e}}},MU=()=>{const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);return{dateDebut:e.toISOString().split("T")[0],dateFin:n.toISOString().split("T")[0]}},OU=()=>{const[t,e]=S.useState(!1),[n,s]=S.useState(null),[r,o]=S.useState(null),[i,l]=S.useState(null);S.useEffect(()=>{(async()=>{const p={...MU(),typeRapport:"activite"};try{e(!0);const x=await Hi.genererRapport(p);l(x),o(x)}catch(x){console.error("Erreur chargement donnes du mois:",x)}finally{e(!1)}})()},[]);const c=S.useCallback(async m=>{e(!0),s(null);try{const g=await Hi.genererRapport(m);return o(g),g}catch(g){const p=g instanceof Error?g.message:"Erreur inconnue";throw s(p),g}finally{e(!1)}},[]),d=S.useCallback(async m=>{try{const g=await Hi.exporterPDF(m),p=window.URL.createObjectURL(g),x=document.createElement("a");x.href=p,x.download=`rapport-${m.typeRapport}-${m.dateDebut}-${m.dateFin}.pdf`,x.click(),window.URL.revokeObjectURL(p)}catch(g){const p=g instanceof Error?g.message:"Erreur lors de l'export PDF";throw s(p),g}},[]),u=S.useCallback(async m=>{try{const g=await Hi.exporterExcel(m),p=window.URL.createObjectURL(g),x=document.createElement("a");x.href=p,x.download=`rapport-${m.typeRapport}-${m.dateDebut}-${m.dateFin}.xlsx`,x.click(),window.URL.revokeObjectURL(p)}catch(g){const p=g instanceof Error?g.message:"Erreur lors de l'export Excel";throw s(p),g}},[]),h=S.useCallback(()=>{s(null)},[]),f=S.useCallback(()=>{o(i)},[i]);return{loading:t,error:n,rapport:r,defaultData:i,genererRapport:c,exporterPDF:d,exporterExcel:u,clearError:h,resetToDefault:f}},LU=({formData:t,onFormChange:e,onGenererRapport:n,loading:s=!1})=>{const{t:r}=V(["common","reports"]);return a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",marginBottom:"20px"},children:[a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[r("reports:reportType"),":"]}),a.jsxs("select",{value:t.typeRapport,onChange:o=>e("typeRapport",o.target.value),style:{width:"100%",padding:"10px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"},children:[a.jsx("option",{value:"activite",children:r("reports:generalActivity")}),a.jsx("option",{value:"performance",children:r("reports:consultantPerformance")})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[r("reports:startDate"),":"]}),a.jsx("input",{type:"date",value:t.dateDebut,onChange:o=>e("dateDebut",o.target.value),style:{width:"100%",padding:"10px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"}})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:[r("reports:endDate"),":"]}),a.jsx("input",{type:"date",value:t.dateFin,onChange:o=>e("dateFin",o.target.value),style:{width:"100%",padding:"10px",borderRadius:"10px",border:"1px solid #ddd",fontSize:"16px"}})]})]}),a.jsx("button",{onClick:n,disabled:s,style:{background:s?"#9ca3af":"#10b981",color:"white",padding:"12px 30px",borderRadius:"10px",border:"none",cursor:s?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",opacity:s?.6:1},children:r(s?"reports:generating":"reports:generateReport")})]})},zU=({stats:t})=>{const{t:e}=V(["reports"]);return a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"30px"},children:t.map((n,s)=>a.jsxs("div",{style:{background:"white",padding:"25px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",borderLeft:`5px solid ${n.color}`},children:[a.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:n.label}),a.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#333",marginBottom:"8px"},children:n.value}),a.jsxs("div",{style:{fontSize:"14px",color:n.trend.startsWith("+")||n.trend.startsWith("-")&&!n.label.includes("Temps")?"#10b981":"#ef4444"},children:[n.trend," ",e("reports:thisMonth")]})]},s))})},FU=({activityData:t,satisfactionData:e,consultantPerformanceData:n})=>{const{t:s}=V(["common","reports"]),r=t.datasets.some(l=>l.data.some(c=>c>0)),o=e.datasets.some(l=>l.data.some(c=>c>0)),i=n.datasets.some(l=>l.data.some(c=>c>0));return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"20px",marginBottom:"30px"},children:[a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:"600"},children:s("reports:activityEvolution")}),r?a.jsx(qd,{data:t,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:2}}):a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280",fontStyle:"italic"},children:s("reports:noActivityData")})]}),a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:"600"},children:s("reports:customerSatisfaction")}),o?a.jsx(oW,{data:e,options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom"}}}}):a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280",fontStyle:"italic"},children:s("reports:noSatisfactionData")})]})]}),a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:"600"},children:s("reports:consultantPerformance")}),i?a.jsx(qd,{data:n,options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!0,aspectRatio:2}}):a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280",fontStyle:"italic"},children:s("reports:noPerformanceData")})]})]})},BU=(t,e)=>{var n,s,r,o;return[{label:e("reports:totalRequests"),value:((n=t==null?void 0:t.totalDemandes)==null?void 0:n.toString())||"0",trend:"+0%",color:"#3b82f6"},{label:e("reports:resolutionRate"),value:`${((s=t==null?void 0:t.tauxResolution)==null?void 0:s.toFixed(1))||0}%`,trend:"+0%",color:"#10b981"},{label:e("reports:averageResponseTime"),value:`${((r=t==null?void 0:t.tempsMoyenReponse)==null?void 0:r.toFixed(1))||0}h`,trend:"-0%",color:"#f59e0b"},{label:e("reports:resolvedRequests"),value:((o=t==null?void 0:t.demandesResolues)==null?void 0:o.toString())||"0",trend:"+0%",color:"#8b5cf6"}]},WU=()=>{const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);return{dateDebut:e.toISOString().split("T")[0],dateFin:n.toISOString().split("T")[0]}};function UU(){const{t}=V(["common","reports"]),e=WU(),[n,s]=S.useState({dateDebut:e.dateDebut,dateFin:e.dateFin,typeRapport:"activite"}),{loading:r,error:o,rapport:i,genererRapport:l,exporterPDF:c,exporterExcel:d,resetToDefault:u}=OU(),h=(w,k)=>{s(j=>({...j,[w]:k}))},f=async()=>{try{await l(n)}catch(w){console.error("Erreur:",w)}},m=()=>{u(),s({dateDebut:e.dateDebut,dateFin:e.dateFin,typeRapport:"activite"})},g=async()=>{try{await c(n)}catch(w){console.error("Erreur export PDF:",w)}},p=async()=>{try{await d(n)}catch(w){console.error("Erreur export Excel:",w)}},x=(i==null?void 0:i.donneesGraphique)||{labels:[t("reports:loading")],datasets:[{label:t("reports:requestsCreated"),data:[0],backgroundColor:"rgba(59, 130, 246, 0.7)"},{label:t("reports:requestsResolved"),data:[0],backgroundColor:"rgba(16, 185, 129, 0.7)"}]},b=i!=null&&i.satisfaction?{labels:Object.keys(i.satisfaction.repartition),datasets:[{data:Object.values(i.satisfaction.repartition),backgroundColor:["rgba(16, 185, 129, 0.8)","rgba(59, 130, 246, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(107, 114, 128, 0.8)"]}]}:{labels:[t("reports:verySatisfied"),t("reports:satisfied"),t("reports:neutral"),t("reports:unsatisfied"),t("reports:veryUnsatisfied")],datasets:[{data:[0,0,0,0,0],backgroundColor:["rgba(16, 185, 129, 0.8)","rgba(59, 130, 246, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(107, 114, 128, 0.8)"]}]},y=i!=null&&i.performancesConsultants?{labels:i.performancesConsultants.map(w=>w.consultantNom),datasets:[{label:t("reports:ticketsResolved"),data:i.performancesConsultants.map(w=>w.ticketsClotures),backgroundColor:["rgba(59, 130, 246, 0.7)","rgba(16, 185, 129, 0.7)","rgba(245, 158, 11, 0.7)","rgba(239, 68, 68, 0.7)","rgba(139, 92, 246, 0.7)"]}]}:{labels:[t("reports:loading")],datasets:[{label:t("reports:ticketsResolved"),data:[0],backgroundColor:["rgba(59, 130, 246, 0.7)"]}]},v=BU(i==null?void 0:i.statistiques,t);return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #c8f7dc 0%, #e0f2fe 50%, #ddd6fe 100%)"},children:[a.jsx(Ce,{role:"ADMIN"}),a.jsxs("div",{style:{padding:"40px 60px"},children:[a.jsx("h1",{style:{fontSize:"42px",color:"#17a2b8",marginBottom:"30px",fontWeight:"bold"},children:t("reports:reportsAndStatistics")}),o&&a.jsx("div",{style:{background:"#fee2e2",color:"#dc2626",padding:"15px",borderRadius:"10px",marginBottom:"20px",border:"1px solid #fecaca"},children:o}),a.jsx(LU,{formData:n,onFormChange:h,onGenererRapport:f,loading:r}),a.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:a.jsxs("button",{onClick:m,style:{background:"#6b7280",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[" ",t("reports:showCurrentMonth")]})}),a.jsx(zU,{stats:v}),a.jsx(FU,{activityData:x,satisfactionData:b,consultantPerformanceData:y}),a.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"30px"},children:[a.jsx("button",{onClick:g,disabled:!i,style:{background:i?"#3b82f6":"#9ca3af",color:"white",padding:"12px 30px",borderRadius:"10px",border:"none",cursor:i?"pointer":"not-allowed",fontSize:"16px",fontWeight:"600",opacity:i?1:.6},children:t("reports:exportPDF")}),a.jsx("button",{onClick:p,disabled:!i,style:{background:i?"#10b981":"#9ca3af",color:"white",padding:"12px 30px",borderRadius:"10px",border:"none",cursor:i?"pointer":"not-allowed",fontSize:"16px",fontWeight:"600",opacity:i?1:.6},children:t("reports:exportExcel")})]})]})]})}const HU=t=>{const[e,n]=S.useState(null),[s,r]=S.useState(!0),[o,i]=S.useState(null),l=async()=>{if(!t){i("ID du ticket manquant"),r(!1);return}try{r(!0),i(null);const c=await dt.getTicketDetails(t);console.log("Ticket datas :",c),n(c)}catch(c){i(c instanceof Error?c.message:"Erreur lors du chargement du ticket"),console.error("Error fetching ticket:",c)}finally{r(!1)}};return S.useEffect(()=>{t&&l()},[t]),{ticket:e,loading:s,error:o,refetch:l}},VU=({ticket:t,onAssignAgent:e,onChangeStatus:n,onAddInternalNote:s,onRefresh:r})=>{const{t:o}=V(["common","tickets","admin"]),i=u=>{switch(u){case"1":return"#3b82f6";case"2":return"#10b981";case"3":return"#f59e0b";case"4":return"#f59e0b";case"5":return"#8b5cf6";case"6":return"#6b7280";case"7":return"#000000";default:return"#6b7280"}},l=u=>{switch(u){case"4":return"#ef4444";case"3":return"#f59e0b";case"2":return"#3b82f6";case"1":return"#10b981";default:return"#6b7280"}},c=u=>{switch(u){case"1":return o("tickets:status.new");case"2":return o("tickets:status.inProgress");case"3":return o("tickets:status.pending");case"4":return o("tickets:status.waitingClient");case"5":return o("tickets:status.scheduled");case"6":return o("tickets:status.resolved");case"7":return o("tickets:status.closed");default:return u||o("common:unknown")}},d=u=>{let h;switch(u){case"1":h=o("tickets:priority.low",{defaultValue:"Low"});break;case"2":h=o("tickets:priority.normal",{defaultValue:"Normal"});break;case"3":h=o("tickets:priority.high",{defaultValue:"High"});break;case"4":h=o("tickets:priority.urgent",{defaultValue:"Urgent"});break;default:h=o("common:unknown")}return h.includes("priority.")?{1:"Low",2:"Normal",3:"High",4:"Urgent"}[u]||o("common:unknown"):h};return a.jsxs("div",{className:"ticket-header-admin",children:[a.jsxs("div",{className:"header-main-info",children:[a.jsxs("div",{className:"ticket-reference",children:[a.jsx("h2",{children:t.reference}),a.jsxs("span",{className:"creation-date",children:[o("tickets:creationDate")," ",new Date(t.dateCreation).toLocaleDateString()]})]}),a.jsxs("div",{className:"status-priority-badges",children:[a.jsx("span",{className:"status-badge",style:{backgroundColor:i(String(t.statutTicketId))},children:c(String(t.statutTicketId))}),a.jsx("span",{className:"priority-badge",style:{backgroundColor:l(String(t.prioriteTicketId))},children:d(String(t.prioriteTicketId))})]})]}),a.jsxs("div",{className:"quick-stats",children:[a.jsxs("div",{className:"stat-item",children:[a.jsxs("span",{className:"stat-label",children:[o("tickets:company"),":"]}),a.jsx("span",{className:"stat-value",children:t.companyName})]}),a.jsxs("div",{className:"stat-item",children:[a.jsxs("span",{className:"stat-label",children:[o("tickets:assignedAgent"),":"]}),a.jsx("span",{className:"stat-value",children:t.affecteAUtilisateurNom||o("common:notAssigned")})]}),a.jsxs("div",{className:"stat-item",children:[a.jsxs("span",{className:"stat-label",children:[o("tickets:product"),":"]}),a.jsx("span",{className:"stat-value",children:t.produitNom})]})]})]})},qU=({interactions:t,piecesJointes:e,solutions:n,ticketId:s,onRefresh:r,loading:o=!1})=>{const{t:i}=V(["common","tickets","admin"]),[l,c]=S.useState("interactions"),[d,u]=S.useState(null),h=p=>{try{return new Date(p).toLocaleString()}catch{return i("common:invalidDate")}},f=p=>{switch(p){case"EMAIL":return"";case"PHONE":return"";case"INTERNAL_NOTE":return"";case"SYSTEM":return"";default:return""}},m=p=>{switch(p){case"EMAIL":return i("admin:interactionTypes.email");case"PHONE":return i("admin:interactionTypes.phone");case"INTERNAL_NOTE":return i("admin:interactionTypes.internalNote");case"SYSTEM":return i("admin:interactionTypes.system");default:return p}},g=p=>{u(d===p?null:p)};return o?a.jsxs("div",{className:"interactions-admin-loading",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("div",{children:i("common:loading")})]}):a.jsxs("div",{className:"interactions-admin",children:[a.jsx("h3",{className:"section-title",children:i("admin:activityHistory")}),a.jsxs("div",{className:"interactions-tabs",children:[a.jsxs("button",{className:`tab-button ${l==="interactions"?"active":""}`,onClick:()=>c("interactions"),children:[" ",i("tickets:interactions")," (",t.length,")"]}),a.jsxs("button",{className:`tab-button ${l==="attachments"?"active":""}`,onClick:()=>c("attachments"),children:[" ",i("tickets:attachments")," (",e.length,")"]}),a.jsxs("button",{className:`tab-button ${l==="solutions"?"active":""}`,onClick:()=>c("solutions"),children:[" ",i("tickets:solutions")," (",n.length,")"]})]}),a.jsxs("div",{className:"tab-content",children:[l==="interactions"&&a.jsx("div",{className:"interactions-list",children:t.length===0?a.jsx("div",{className:"no-data-message",children:i("admin:noInteractions")}):t.map(p=>a.jsxs("div",{className:"interaction-item",children:[a.jsxs("div",{className:"interaction-header",children:[a.jsxs("div",{className:"interaction-type",children:[a.jsx("span",{className:"type-icon",children:f(p.typeInteraction)}),a.jsx("span",{className:"type-label",children:m(p.typeInteraction)})]}),a.jsxs("div",{className:"interaction-meta",children:[a.jsx("span",{className:"interaction-author",children:p.auteurNom||i("common:unknown")}),a.jsx("span",{className:"interaction-date",children:h(p.dateCreation)})]})]}),a.jsxs("div",{className:"interaction-content",children:[p.message&&a.jsx("div",{className:`interaction-message ${d===p.id?"expanded":""}`,onClick:()=>g(p.id),children:p.message.length>200&&!d?a.jsxs(a.Fragment,{children:[p.message.substring(0,200),"...",a.jsxs("span",{className:"show-more",children:["(",i("common:showMore"),")"]})]}):p.message}),p.visibleClient&&a.jsxs("span",{className:"visibility-badge visible-client",children:[" ",i("admin:visibleToClient")]}),p.typeInteraction==="INTERNAL_NOTE"&&a.jsxs("span",{className:"visibility-badge internal-note",children:[" ",i("admin:internalNote")]})]})]},p.id))}),l==="attachments"&&a.jsx("div",{className:"attachments-list",children:e.length===0?a.jsx("div",{className:"no-data-message",children:i("admin:noAttachments")}):e.map(p=>a.jsxs("div",{className:"attachment-item",children:[a.jsx("div",{className:"attachment-icon",children:""}),a.jsxs("div",{className:"attachment-info",children:[a.jsx("div",{className:"attachment-name",children:p.nomFichier}),a.jsxs("div",{className:"attachment-meta",children:[p.taille&&a.jsxs("span",{children:[Math.round(p.taille/1024)," KB"]}),p.dateUpload&&a.jsx("span",{children:h(p.dateUpload)})]})]}),a.jsx("div",{className:"attachment-actions",children:a.jsx("button",{onClick:()=>window.open(p.url,"_blank"),className:"download-attachment-btn",title:i("common:download"),children:""})})]},p.id))}),l==="solutions"&&a.jsx("div",{className:"solutions-list",children:n.length===0?a.jsx("div",{className:"no-data-message",children:i("admin:noSolutions")}):n.map(p=>a.jsxs("div",{className:"solution-item",children:[a.jsxs("div",{className:"solution-header",children:[a.jsx("span",{className:"solution-title",children:p.titre}),a.jsx("span",{className:"solution-date",children:h(p.dateCreation)})]}),a.jsx("div",{className:"solution-content",children:p.description}),p.resolutionTime&&a.jsx("div",{className:"solution-meta",children:a.jsxs("span",{className:"resolution-time",children:[" ",i("admin:resolutionTime"),": ",p.resolutionTime," min"]})})]},p.id))})]})]})},KU=({ticket:t})=>{const{t:e}=V(["common","tickets","admin"]);return a.jsxs("div",{className:"ticket-info-admin",children:[a.jsx("h3",{className:"section-title",children:e("admin:ticketInformation")}),a.jsxs("div",{className:"info-grid",children:[a.jsxs("div",{className:"info-card",children:[a.jsxs("h4",{className:"info-card-title",children:[" ",e("tickets:clientInfo")]}),a.jsxs("div",{className:"info-content",children:[a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-label",children:[e("tickets:company"),":"]}),a.jsx("span",{className:"info-value",children:t.companyName})]}),a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-label",children:[e("tickets:contactName"),":"]}),a.jsx("span",{className:"info-value",children:t.contactName||e("common:notSpecified")})]}),a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Email:"}),a.jsx("span",{className:"info-value",children:t.contactEmail||e("common:notSpecified")})]}),a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-label",children:[e("tickets:phone"),":"]}),a.jsx("span",{className:"info-value",children:t.contactPhone||e("common:notSpecified")})]})]})]}),a.jsxs("div",{className:"info-card",children:[a.jsxs("h4",{className:"info-card-title",children:[" ",e("tickets:ticketInfo")]}),a.jsxs("div",{className:"info-content",children:[a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-label",children:[e("tickets:product"),":"]}),a.jsx("span",{className:"info-value",children:t.produitNom})]}),a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-label",children:[e("tickets:assignedAgent"),":"]}),a.jsx("span",{className:"info-value",children:t.agentAssign||e("common:notAssigned")})]}),a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-label",children:[e("tickets:creationDate"),":"]}),a.jsxs("span",{className:"info-value",children:[new Date(t.dateCreation).toLocaleDateString(),"  ",new Date(t.dateCreation).toLocaleTimeString()]})]})]})]}),a.jsxs("div",{className:"info-card full-width",children:[a.jsxs("h4",{className:"info-card-title",children:[" ",e("tickets:description")]}),a.jsx("div",{className:"info-content",children:a.jsx("div",{className:"description-content",children:t.description||e("tickets:noDescription")})})]})]})]})},YU=({isOpen:t,onClose:e,agents:n,onAssign:s,currentAgent:r})=>{const{t:o}=V(["common","admin"]),[i,l]=S.useState(""),[c,d]=S.useState(!1),u=async f=>{if(f.preventDefault(),!i){alert(o("admin:selectAgentRequired"));return}d(!0);try{await s(Number(i)),l("")}catch{}finally{d(!1)}},h=()=>{l(""),e()};return t?a.jsx("div",{className:"modal-overlay",children:a.jsxs("div",{className:"modal-content admin-modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h2",{children:[" ",o("admin:assignAgent")]}),a.jsx("button",{onClick:h,className:"modal-close-btn",children:""})]}),a.jsxs("div",{className:"modal-body",children:[r&&a.jsxs("div",{className:"current-assignment",children:[a.jsxs("strong",{children:[o("admin:currentlyAssigned"),":"]})," ",r]}),a.jsxs("form",{onSubmit:u,className:"assign-agent-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"agent-select",children:[o("admin:selectAgent")," *"]}),a.jsxs("select",{id:"agent-select",value:i,onChange:f=>l(f.target.value?Number(f.target.value):""),required:!0,disabled:c,children:[a.jsxs("option",{value:"",children:["-- ",o("admin:chooseAgent")," --"]}),n.map(f=>a.jsxs("option",{value:f.id,children:[f.prenom," ",f.nom," - ",f.specialite||o("admin:noSpecialty")]},f.id))]})]}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{type:"button",onClick:h,disabled:c,className:"btn-secondary",children:o("common:cancel")}),a.jsx("button",{type:"submit",disabled:!i||c,className:"btn-primary",children:o(c?"common:assigning":"admin:assignAgent")})]})]})]})]})}):null},JU=({isOpen:t,onClose:e,currentStatus:n,onStatusChange:s})=>{var p;const{t:r}=V(["common","tickets","admin"]),[o,i]=S.useState(""),[l,c]=S.useState(""),[d,u]=S.useState(!1),h=[{value:"1",label:r("tickets:status.new"),color:"#3b82f6"},{value:"2",label:r("tickets:status.inProgress"),color:"#10b981"},{value:"3",label:r("tickets:status.pending"),color:"#f59e0b"},{value:"4",label:r("tickets:status.waitingClient"),color:"#f59e0b"},{value:"5",label:r("tickets:status.scheduled"),color:"#8b5cf6"},{value:"6",label:r("tickets:status.resolved"),color:"#6b7280"},{value:"7",label:r("tickets:status.closed"),color:"#000000"}],f=()=>{const x=h.find(b=>b.value===n);return x?x.label:r("common:unknown")},m=async x=>{if(x.preventDefault(),!o){alert(r("admin:selectStatusRequired"));return}u(!0);try{await s(o,l.trim()||void 0),i(""),c("")}catch{}finally{u(!1)}},g=()=>{i(""),c(""),e()};return t?a.jsx("div",{className:"modal-overlay",children:a.jsxs("div",{className:"modal-content admin-modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h2",{children:[" ",r("admin:changeStatus")]}),a.jsx("button",{onClick:g,className:"modal-close-btn",children:""})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"current-status-info",children:[a.jsxs("strong",{children:[r("admin:currentStatus"),":"]}),a.jsx("span",{className:"status-badge",style:{backgroundColor:((p=h.find(x=>x.value===n))==null?void 0:p.color)||"#6b7280",marginLeft:"10px"},children:f()})]}),a.jsxs("form",{onSubmit:m,className:"change-status-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"status-select",children:[r("admin:newStatus")," *"]}),a.jsxs("select",{id:"status-select",value:o,onChange:x=>i(x.target.value),required:!0,disabled:d,children:[a.jsxs("option",{value:"",children:["-- ",r("admin:chooseStatus")," --"]}),h.map(x=>a.jsx("option",{value:x.value,children:x.label},x.value))]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"status-comment",children:[r("admin:statusChangeComment")," (",r("common:optional"),")"]}),a.jsx("textarea",{id:"status-comment",value:l,onChange:x=>c(x.target.value),placeholder:r("admin:commentPlaceholder"),rows:4,disabled:d})]}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{type:"button",onClick:g,disabled:d,className:"btn-secondary",children:r("common:cancel")}),a.jsx("button",{type:"submit",disabled:!o||d,className:"btn-primary",children:r(d?"common:updating":"admin:updateStatus")})]})]})]})]})}):null},XU=({isOpen:t,onClose:e,onAddNote:n,ticketReference:s})=>{const{t:r}=V(["common","admin"]),[o,i]=S.useState(""),[l,c]=S.useState(!1),d=async h=>{if(h.preventDefault(),!o.trim()){alert(r("admin:noteRequired"));return}c(!0);try{await n(o.trim()),i("")}catch{}finally{c(!1)}},u=()=>{i(""),e()};return t?a.jsx("div",{className:"modal-overlay",children:a.jsxs("div",{className:"modal-content admin-modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h2",{children:[" ",r("admin:addInternalNote")]}),a.jsx("button",{onClick:u,className:"modal-close-btn",children:""})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"note-context",children:[a.jsxs("strong",{children:[r("admin:forTicket"),":"]})," ",s]}),a.jsxs("div",{className:"note-warning",children:[" ",r("admin:internalNoteWarning")]}),a.jsxs("form",{onSubmit:d,className:"add-note-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"internal-note",children:[r("admin:noteContent")," *"]}),a.jsx("textarea",{id:"internal-note",value:o,onChange:h=>i(h.target.value),placeholder:r("admin:notePlaceholder"),rows:6,required:!0,disabled:l,className:"note-textarea"})]}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{type:"button",onClick:u,disabled:l,className:"btn-secondary",children:r("common:cancel")}),a.jsx("button",{type:"submit",disabled:!o.trim()||l,className:"btn-primary",children:r(l?"common:adding":"admin:addNote")})]})]})]})]})}):null};function GU(){const{id:t}=Qx(),e=Me(),{t:n}=V(["common","tickets","admin"]),{ticket:s,loading:r,error:o,refetch:i}=HU(t||""),[l,c]=S.useState(!1),[d,u]=S.useState(!1),[h,f]=S.useState(!1),[m,g]=S.useState([]),[p,x]=S.useState([]),[b,y]=S.useState([]),[v,w]=S.useState([]),[k,j]=S.useState(!1);S.useEffect(()=>{(async()=>{if(s!=null&&s.id)try{j(!0);const[M,U,F,O]=await Promise.all([dt.getInteractions(s.id.toString()),dt.getPiecesJointes(s.id.toString()),dt.getSolutions(s.id.toString()),dt.getAvailableAgents()]);g(M),x(U),y(F),w(O)}catch(M){console.error("Erreur chargement donnes admin:",M),Y.error(n("common:errors.loadingError"))}finally{j(!1)}})()},[s==null?void 0:s.id]);const C=async _=>{try{await dt.assignAgent(parseInt(s.id),_),await i(),c(!1),Y.success(n("admin:agentAssignedSuccess"))}catch(M){console.error("Erreur assignation agent:",M),Y.error(n("common:errors.actionFailed"))}},T=async(_,M)=>{try{await dt.updateStatus(parseInt(s.id),_,M),await i(),u(!1),Y.success(n("admin:statusUpdatedSuccess"))}catch(U){console.error("Erreur changement statut:",U),Y.error(n("common:errors.actionFailed"))}},P=async _=>{try{await dt.addInternalNote(parseInt(s.id),_);const M=await dt.getInteractions(s.id.toString());g(M),f(!1),Y.success(n("admin:internalNoteAdded"))}catch(M){console.error("Erreur ajout note interne:",M),Y.error(n("common:errors.actionFailed"))}},R=async()=>{try{if(j(!0),await i(),s!=null&&s.id){const[_,M,U]=await Promise.all([dt.getInteractions(s.id.toString()),dt.getPiecesJointes(s.id.toString()),dt.getSolutions(s.id.toString())]);g(_),x(M),y(U)}Y.success(n("common:dataRefreshed"))}catch(_){console.error("Erreur rafrachissement:",_),Y.error(n("common:errors.refreshFailed"))}finally{j(!1)}};return r?a.jsx("div",{className:"admin-loading-container",children:a.jsxs("div",{className:"admin-loading-content",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("div",{children:n("tickets:loadingTicketDetails")})]})}):o||!s?a.jsx("div",{className:"admin-error-container",children:a.jsxs("div",{className:"admin-error-content",children:[a.jsx("div",{className:"error-icon",children:""}),a.jsx("div",{className:"error-message",children:o||n("tickets:ticketNotFound")}),a.jsx("button",{onClick:()=>e("/admin/demandes"),className:"back-button",children:n("common:backToList")})]})}):a.jsxs("div",{className:"admin-ticket-details-container",children:[a.jsx(Ce,{role:"ADMIN"}),a.jsxs("div",{className:"admin-ticket-details-content",children:[a.jsxs("div",{className:"admin-ticket-header-nav",children:[a.jsxs("button",{onClick:()=>e("/admin/demandes"),className:"back-button",children:[" ",n("common:backToList")]}),a.jsx("div",{className:"header-actions",children:a.jsxs("button",{onClick:R,disabled:k,className:"refresh-button",children:[" ",n(k?"common:loading":"common:refresh")]})})]}),a.jsxs("h1",{className:"admin-ticket-title",children:[n("admin:ticketDetails")," : ",s.reference]}),a.jsx(VU,{ticket:s,onAssignAgent:()=>c(!0),onChangeStatus:()=>u(!0),onAddInternalNote:()=>f(!0),onRefresh:R}),a.jsx(KU,{ticket:s}),a.jsx(qU,{interactions:m,piecesJointes:p,solutions:b,ticketId:parseInt(s.id),onRefresh:R,loading:k})]}),a.jsx(YU,{isOpen:l,onClose:()=>c(!1),agents:v,onAssign:C,currentAgent:s.agentAssign}),a.jsx(JU,{isOpen:d,onClose:()=>u(!1),currentStatus:s.etat||"",onStatusChange:T}),a.jsx(XU,{isOpen:h,onClose:()=>f(!1),onAddNote:P,ticketReference:s.reference})]})}const QU=()=>{const{t}=V(["auth","common"]),[e]=kS(),n=Me(),[s,r]=S.useState({newPassword:"",confirmPassword:""}),[o,i]=S.useState(""),[l,c]=S.useState(!1),[d,u]=S.useState(null),h=e.get("token"),f=async b=>{try{return(await Vt.validateResetToken(b)).success}catch(y){return console.error("Token validation error:",y),!1}},m=async b=>{try{return(await Vt.resetPassword(b)).success}catch(y){return console.error("Reset password error:",y),!1}};return{token:h,tokenValid:d,formData:s,message:o,loading:l,handleTokenValidation:async()=>{if(!h){u(!1),i(t("auth:invalidResetToken"));return}try{const b=await f(h);u(b),b||i(t("auth:invalidResetToken"))}catch{u(!1),i(t("auth:resetTokenValidationError"))}},handleSubmit:async b=>{if(b.preventDefault(),!h){i(t("auth:invalidResetToken"));return}if(s.newPassword.length<6){i(t("auth:passwordMinLength"));return}if(s.newPassword!==s.confirmPassword){i(t("auth:passwordsDoNotMatch"));return}c(!0),i("");try{await m({token:h,newPassword:s.newPassword,confirmPassword:s.confirmPassword})?(i(t("auth:passwordResetSuccess")),setTimeout(()=>n("/login"),3e3)):i(t("auth:passwordResetError"))}catch{i(t("auth:passwordResetError"))}finally{c(!1)}},updateFormData:(b,y)=>{r(v=>({...v,[b]:y}))},setMessage:i,setTokenValid:u}},ZU=({formData:t,loading:e,onSubmit:n,onFieldChange:s,submitText:r})=>{const{t:o}=V(["auth","common"]);return a.jsxs("form",{onSubmit:n,children:[a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333",fontSize:"14px"},children:[o("auth:newPassword"),":"]}),a.jsx("input",{type:"password",value:t.newPassword,onChange:i=>s("newPassword",i.target.value),placeholder:o("auth:newPasswordPlaceholder"),style:{width:"100%",padding:"12px 20px",borderRadius:"25px",border:"none",fontSize:"16px"},required:!0,minLength:6})]}),a.jsxs("div",{style:{marginBottom:"30px"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333",fontSize:"14px"},children:[o("auth:confirmPassword"),":"]}),a.jsx("input",{type:"password",value:t.confirmPassword,onChange:i=>s("confirmPassword",i.target.value),placeholder:o("auth:confirmPasswordPlaceholder"),style:{width:"100%",padding:"12px 20px",borderRadius:"25px",border:"none",fontSize:"16px"},required:!0})]}),a.jsx("button",{type:"submit",disabled:e,style:{width:"100%",background:e?"#6c757d":"#10b981",color:"white",padding:"12px",borderRadius:"25px",border:"none",fontSize:"16px",fontWeight:"600",cursor:e?"not-allowed":"pointer",opacity:e?.7:1},children:o(r)})]})},Dg=({type:t,message:e})=>{const{t:n}=V(["auth","common"]),s=Me();return t==="loading"?a.jsx(Wa,{showLogo:!1,children:a.jsx("div",{style:{fontSize:"18px",color:"#666",textAlign:"center"},children:n("auth:validatingToken")})}):a.jsxs(Wa,{showLogo:!1,children:[a.jsx("h2",{style:{color:"#dc3545",marginBottom:"20px",textAlign:"center"},children:n("auth:invalidResetTokenTitle")}),a.jsx("p",{style:{color:"#666",marginBottom:"30px",textAlign:"center"},children:e||n("auth:invalidResetToken")}),a.jsx("div",{style:{textAlign:"center"},children:a.jsx("button",{onClick:()=>s("/login"),style:{background:"#3b82f6",color:"white",padding:"12px 30px",borderRadius:"25px",border:"none",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:n("auth:backToLogin")})})]})},eH=()=>{const{token:t,tokenValid:e,formData:n,message:s,loading:r,handleTokenValidation:o,handleSubmit:i,updateFormData:l,setMessage:c}=QU();return S.useEffect(()=>{t&&o()},[t]),e===null?a.jsx(Dg,{type:"loading"}):e?a.jsxs(Wa,{title:"auth:resetPassword",showLogo:!0,children:[a.jsx(Hy,{message:s,type:s.includes("Succs")?"success":"error",onDismiss:()=>c("")}),a.jsx(ZU,{formData:n,loading:r,onSubmit:i,onFieldChange:l,submitText:r?"auth:resetting":"auth:resetPassword"})]}):a.jsx(Dg,{type:"invalid",message:s})};function ze({children:t,allowedRoles:e=[]}){var r;const n=localStorage.getItem("jeton"),s=(r=localStorage.getItem("role"))==null?void 0:r.toLowerCase();if(!n)return a.jsx(Ks,{to:"/connexion",replace:!0});if(e.length>0&&(!s||!e.includes(s)))switch(s){case"ADMIN":return a.jsx(Ks,{to:"/admin/dashboard",replace:!0});case"CONSULTANT":return a.jsx(Ks,{to:"/consultant/tickets",replace:!0});case"CLIENT":default:return a.jsx(Ks,{to:"/dashboard",replace:!0})}return a.jsx(a.Fragment,{children:t})}function Fe({children:t}){const n=(()=>{const s=localStorage.getItem("role");return s==="CLIENT"?"CLIENT":s==="CONSULTANT"?"CONSULTANT":s==="ADMIN"?"ADMIN":"CLIENT"})();return a.jsxs("div",{children:[a.jsx(Ce,{role:n}),a.jsx("main",{style:{marginTop:"80px",minHeight:"calc(100vh - 80px)",padding:"20px"},children:t})]})}function tH(){return a.jsxs(bS,{children:[a.jsx(rw,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),a.jsxs(uS,{children:[a.jsx(be,{path:"/",element:a.jsx(Ks,{to:"/connexion",replace:!0})}),a.jsx(be,{path:"/connexion",element:a.jsx(NL,{})}),a.jsx(be,{path:"/reset-password",element:a.jsx(eH,{})}),a.jsx(be,{path:"/dashboard",element:a.jsx(ze,{allowedRoles:["client","admin","consultant"],children:a.jsx(Fe,{children:a.jsx(dW,{})})})}),a.jsx(be,{path:"/mes-demandes",element:a.jsx(ze,{allowedRoles:["client"],children:a.jsx(Fe,{children:a.jsx(vW,{})})})}),a.jsx(be,{path:"/nouvelle-demande",element:a.jsx(ze,{allowedRoles:["client"],children:a.jsx(Fe,{children:a.jsx(_W,{})})})}),a.jsx(be,{path:"/ticket/:id",element:a.jsx(ze,{allowedRoles:["client","consultant","admin"],children:a.jsx(Fe,{children:a.jsx(_g,{})})})}),a.jsx(be,{path:"/ma-societe",element:a.jsx(ze,{allowedRoles:["client"],children:a.jsx(Fe,{children:a.jsx(d7,{})})})}),a.jsx(be,{path:"/profile",element:a.jsx(ze,{allowedRoles:["client","consultant","admin"],children:a.jsx(Fe,{children:a.jsx(b7,{})})})}),a.jsx(be,{path:"/consultant/tickets",element:a.jsx(ze,{allowedRoles:["consultant"],children:a.jsx(Fe,{children:a.jsx(v7,{})})})}),a.jsx(be,{path:"/consultant/interventions",element:a.jsx(ze,{allowedRoles:["consultant"],children:a.jsx(Fe,{children:a.jsx(S7,{})})})}),a.jsx(be,{path:"/consultant/ticket/:id",element:a.jsx(ze,{allowedRoles:["consultant"],children:a.jsx(Fe,{children:a.jsx(_g,{})})})}),a.jsx(be,{path:"/admin/demandes",element:a.jsx(ze,{allowedRoles:["admin"],children:a.jsx(Fe,{children:a.jsx(H7,{})})})}),a.jsx(be,{path:"/admin/interventions",element:a.jsx(ze,{allowedRoles:["admin"],children:a.jsx(Fe,{children:a.jsx(V7,{})})})}),a.jsx(be,{path:"/admin/dashboard",element:a.jsx(ze,{allowedRoles:["admin"],children:a.jsx(Fe,{children:a.jsx(z7,{})})})}),a.jsx(be,{path:"/admin/configurations",element:a.jsx(ze,{allowedRoles:["admin"],children:a.jsx(Fe,{children:a.jsx(_U,{})})})}),a.jsx(be,{path:"/admin/gestion-utilisateurs",element:a.jsx(ze,{allowedRoles:["admin"],children:a.jsx(Fe,{children:a.jsx(IU,{})})})}),a.jsx(be,{path:"/admin/rapports",element:a.jsx(ze,{allowedRoles:["admin"],children:a.jsx(Fe,{children:a.jsx(UU,{})})})}),a.jsx(be,{path:"/admin/ticket/:id",element:a.jsx(ze,{allowedRoles:["admin"],children:a.jsx(Fe,{children:a.jsx(GU,{})})})}),a.jsx(be,{path:"*",element:a.jsx(Ks,{to:"/dashboard",replace:!0})})]})]})}Vx(document.getElementById("root")).render(a.jsx(tH,{}));
